<!DOCTYPE html>
<html>
<head>
    <!--编码解密-->
    <meta charset="UTF-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>home</title>
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    <link rel="stylesheet" type="text/css" href="../css/layoutnew.css"/>
    <link rel="stylesheet" type="text/css" href="../css/iconfont/iconfont.css"/>
    <style>
        body {
            font-family: "Microsoft YaHei", 微软雅黑;
            font-size: 10px;
            background: #020341 url(../images/bac.png) no-repeat 50% 50% fixed;
            background-size: 100% 100%;
        }

        .aui-hide {
            display: none
        }
    </style>
</head>
<body>
<div class="indexwapper">
    <div class="left">
        <div class="left_k">
            <div class="centerleft">
                <div class="cen_left"></div>
                <div class="cen_right"></div>
            </div>
            <div class="bj">
                <div class="topleft_l"></div>
                <div class="topcenter_l"></div>
                <div class="topright_l"></div>
                <div class="footleft">
                    <div class="botleft_l"></div>
                    <div class="botcenter_l"></div>
                    <div class="botright_l"></div>
                </div>
            </div>
            <div class="cengdiv">
                <div class="gwybl texioneline"><span id="place_name">全国公务员</span><span class=""></span></div>
                <div class="gwybl"><span id="all_num"></span></div>
                <div class="nvsfdiv">
                    <ul>
                        <li><span class="nv"></span>女性：<u id="nv_num" style="font-size: 10px">0人</u>
                            <u id="nv_rate" style="margin-left: 26%">0</u>
                            <div class="baift nvbjt" style="position: relative"><em id="nv_rate_width"
                                                                                    style="width:0;position: absolute;top: 0;left: 0"></em>
                            </div>
                        </li>
                        <li style="margin-top: 5px"><span class="shao"></span>少数民族：<u id="shao_num"
                                                                                      style="font-size: 10px">0人</u>
                            <u id="shao_rate" style="margin-left: 26%">0</u>
                            <div class="baift shaobjt" style="position: relative"><em id="shao_rate_width"
                                                                                      style="width:0;position: absolute;top: 0;left: 0"></em>
                            </div>
                        </li>
                        <li style="margin-top: 5px"><span class="fei"></span>非中共党员：<u id="fei_num"
                                                                                      style="font-size: 10px">0人</u>
                            <u id="fei_rate" style="margin-left: 26%">0</u>
                            <div class="baift feibjt" style="position: relative"><em id="fei_rate_width"
                                                                                     style="width:0;position: absolute;top: 0;left: 0"></em>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="left_kb">
            <div class="centerleft">
                <div class="cen_left"></div>
                <div class="cen_right"></div>
            </div>
            <div class="bj">
                <div class="topleft_l"></div>
                <div class="topcenter_l"></div>
                <div class="topright_l"></div>
                <div class="footleft">
                    <div class="botleft_l"></div>
                    <div class="botcenter_l"></div>
                    <div class="botright_l"></div>
                </div>
                <div class="cengdiv">
                    <div class="xueliceng div_xueli">
                        <h2>学历信息</h2>
                        <div id="container-left" style="height: 100%;width: 100%;margin-top: -25px">

                        </div>
                    </div>

                    <div class="xueliceng div_xuewei" style="margin-top: -38px">
                        <div class="tu_xuli">
                            <h2>学位信息</h2>
                            <table id="xuewei-content" width="100%" border="0" class="table_xw">

                            </table>
                        </div>
                    </div>

                    <script id="xuewei-content-template" type="text/x-dot-template">
                        <tr>
                            <td style="color: #C1C1E4">{{=it.name}}</td>
                            <td style="color: #C1C1E4">{{=it.value}}</td>
                            <td style="color: #C1C1E4">{{=it.rate}}</td>
                        </tr>
                    </script>

                </div>
            </div>
        </div>
    </div>
    <!--左侧结束-->


    <!--中间部分-->
    <div class="center">
        <div class="mapwapper">
            <div class="lefttab">
                <div id="one3" class="tips middle_tab" style="z-index: 99">全 国</div>
                <div id="one2" class="middle_tab" style="z-index: 99">中央单位</div>
                <div id="one1" class="middle_tab" style="z-index: 99">行政单位</div>
            </div>


            <div id="cont_one_1" class="setTabDiv">
                <div class="xuanzetab weixzh aui-hide" id="xuanzetab" style="z-index: 99" onclick="clickXuanZe()">
                    <span>人员总数</span><em id="tanktuli">&nbsp;</em>
                </div>
                <div id="xuanzetank" class="xuanzetank" style="margin-top: 30px;z-index: 81">
                    <div class="tanktop">
                        <div class="topleft_tab">
                            <div class="topright_tab">
                                <a href="#" onclick="clickGuanBi()">&nbsp;</a>
                            </div>
                        </div>
                    </div>
                    <div class="centercont">
                        <div class="tucan nomg">
                            <ul id="xuanze_item">
                                <li id="first" data-type="all" class="tips">人员总数</li>
                                <li data-type="age_gt_35">35岁以上</li>
                                <li data-type="xueli_gt_benke">本科及以上</li>
                                <li data-type="jibie_gt_xianchuji">县处级及以上</li>
                                <li data-type="cengci_gt_5">任现职务层次5年以上</li>
                                <li data-type="zhiji_gt_3">任现职务职级3年以上</li>
                                <li data-type="jibie_gt_xianchuji_with_nv">处级以上女干部</li>
                                <li data-type="shao">少数民族</li>
                                <li data-type="fei">非党员</li>
                                <li data-type="age_avg">平均年龄</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="mapbj" id="sixthPlot">
                    <!--地图位置-->
                    <div id="container-mid-top" style="height:100%;padding-left: 18px;z-index: 80">

                    </div>
                </div>
                <div hidden="hidden">
                    <h1 id="sixthH">全国公务员分布</h1>
                </div>

                <input type="hidden" id="sixthServiceId"/>
            </div>

            <!--3253-->
            <div id="cont_one_2" class="setTabDiv">
                <div class="top_ygdanwei cont_one_2_1 aui-hide">
                    <div class="renxuanze">
                        <div class="line">
                            <div class="leftj"></div>
                            <div class="xuanzj">&nbsp;</div>
                            <div class="rightj"></div>
                        </div>
                        <ul id="dw-top-content" class="myxx">
                            <li>
                                <a href="#" data-code="0" onclick="clickTop(this)">:</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="danweihz1 cont_one_2_1 aui-hide">
                    <ul>
                        <li class="one">
                            <p>
                                <i>平均年龄</i><em class="J2">0</em>
                            </p></li>
                        <li class="two" onclick="clickopenjgpeo('14,15','20','本科及以上学历')">
                            <p>
                                <i>本科及以上学历</i><em class="J15">0</em>
                            </p></li>
                        <li class="three" onclick="clickopenjgpeo('18,19','20','硕士及以上学历')">
                            <p>
                                <i>硕士及以上学位</i><em class="J19">0</em>
                            </p></li>
                        <li class="four" onclick="clickopenjgpeo('33,34,35,36,37,38,39,40','20','任现职务年限3以上')">
                            <p>
                                <i>任现职务年限3以上</i><em class="J1">0</em>
                            </p></li>
                        <li class="five" onclick="clickopenjgpeo('35,36,37,38,39,40','20','任现职务年限3以上')">
                            <p>
                                <i>任现职务层次年限5年以上</i><em class="J40">0</em>
                            </p></li>
                        <li class="six" onclick="clickopenjgpeo('5','2,3,4,5,6,7,8,9,10,11','处级以上女性公务员')">
                            <p>
                                <i>处级以上女性公务员</i><em class="J5">0</em>
                            </p></li>
                    </ul>
                </div>
                <!-- <div id="sixthH1" class="bubiaoh"></div> -->
                <div class="buchbiao">
                    <div class="neicon" id="sixthPlot1" ondblclick="clicksixthPlot1()"></div>

                </div>
            </div>


            <div id="cont_one_3" style="display: block; position: relative; height: 100%;">
                <div class="danweihz1 danweihz3">
                    <ul>
                        <li class="one">
                            <p>
                                <i>平均年龄</i><em class="J2">0</em>
                            </p></li>
                        <li class="two" onclick="clickopenjgpeo('14,15','20','本科及以上学历')">
                            <p>
                                <i>本科及以上学历</i><em class="J15">0</em>
                            </p></li>
                        <li class="three" onclick="clickopenjgpeo('18,19','20','硕士及以上学历')">
                            <p>
                                <i>硕士及以上学位</i><em class="J19">0</em>
                            </p></li>
                        <li class="four" onclick="clickopenjgpeo('33,34,35,36,37,38,39,40','20','任现职务年限3以上')">
                            <p>
                                <i>任现职务年限3以上</i><em class="J1">0</em>
                            </p></li>
                        <li class="five" onclick="clickopenjgpeo('35,36,37,38,39,40','20','任现职务年限3以上')">
                            <p>
                                <i>任现职务层次年限5年以上</i><em class="J40">0</em>
                            </p></li>
                        <li class="six" onclick="clickopenjgpeo('5','2,3,4,5,6,7,8,9,10,11','处级以上女性公务员')">
                            <p>
                                <i>处级以上女性公务员</i><em class="J5">0</em>
                            </p></li>
                    </ul>
                </div>

                <div class="buchbiao buchbiao3">
                    <div class="neicon" id="sixthPlot2" ondblclick="clicksixthPlot1()"></div>
                </div>

            </div>

        </div>
        <div class="mapfoot">
            <div class="center_kb">
                <div class="centerleft">
                    <div class="cen_left"></div>
                    <div class="cen_right"></div>
                </div>
                <div class="bj">
                    <div class="topleft_l"></div>
                    <div class="topcenter_l"></div>
                    <div class="topright_l"></div>
                    <div class="footleft">
                        <div class="botleft_l"></div>
                        <div class="botcenter_l"></div>
                        <div class="botright_l"></div>
                    </div>
                </div>
                <div class="cengdiv">
                    <h1>各职务层次分布情况</h1>
                    <div id="container" class="boeder-style" style="height: 100%;width: 100%;padding-bottom: 15px"
                         ondblclick="clickcontainer()">

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--中间部分结束-->

    <!--右侧开始-->
    <div class="right">
        <div class="right_k">
            <div class="centerleft">
                <div class="cen_left"></div>
                <div class="cen_right"></div>
            </div>
            <div class="bj">
                <div class="topleft_l"></div>
                <div class="topcenter_l"></div>
                <div class="topright_l"></div>
                <div class="footleft">
                    <div class="botleft_l"></div>
                    <div class="botcenter_l"></div>
                    <div class="botright_l"></div>
                </div>
            </div>
            <div class="cengdiv">
                <!--<h1>近三年考核情况</h1>-->
                <!--<div id="container-right-top" class="tubiaocont" ondblclick="clickcontainerrighttop()"></div>-->

                <h1>各职务层次年龄占比</h1>
                <div id="cont_gzwccnlzb" class="cont_one tubiaocont" ondblclick="clickFrm0rightone()">

                </div>
            </div>
        </div>
        <div class="right_kb">
            <div class="centerleft">
                <div class="cen_left"></div>
                <div class="cen_right"></div>
            </div>
            <div class="bj">
                <div class="topleft_l"></div>
                <div class="topcenter_l"></div>
                <div class="topright_l"></div>
                <div class="footleft">
                    <div class="botleft_l"></div>
                    <div class="botcenter_l"></div>
                    <div class="botright_l"></div>
                </div>
            </div>
            <div class="cengdiv">
                <h1>任现职层次年限信息</h1>
                <div id="container-right-bottom" class="tubiaocont" ondblclick="clickcontainerrightbottom()">

                </div>
                <ul class="pagesf">
                    <li id="four1" class="nav1 tips" onclick="clicktip(1)"><span></span></li>
                    <li id="four2" class="nav2" onclick="clicktip(2)"><span></span></li>
                </ul>
            </div>
        </div>
    </div>
    <!--右侧结束-->
</div>

<script id="dw-top-template" type="text/x-dot-template">
    <li style="width: 80px; overflow: hidden;  text-overflow: ellipsis;  -webkit-line-clamp: 1;  display: -webkit-box;  -webkit-box-orient: vertical;  word-break: break-all;">
        <a href="#" data-code="{{=it.ID}}" onclick="clickTop(this)">{{=it.NAME}}</a>
    </li>
</script>

<script id="dw-bottom-template" type="text/x-dot-template">
    <li style="width: 80px; overflow: hidden;  text-overflow: ellipsis;  -webkit-line-clamp: 1;  display: -webkit-box;  -webkit-box-orient: vertical;  word-break: break-all;">
        <a href="#" data-code="{{=it.ID}}" onclick="clickBottom(this)">{{=it.NAME}}</a>
    </li>
</script>

<script id="dw-list-template" type="text/x-dot-template">
    <li>
        <a href="#" data-code="{{=it.ID}}" onclick="clickList(this)">{{=it.NAME}}</a>
    </li>
</script>


<!--弹出机构单位选择开始-->
<div id="danxuanqu" class="danxuanqu" style="height: 70%;margin-top: -15px">
    <div class="renxuanze">
        <div class="line">
            <div class="leftj"></div>
            <div class="xuanzj">&nbsp;</div>
            <div class="rightj"></div>
        </div>


        <ul id="dw-bottom-content" class="top-message-content">
            <li>
                <a href="#" data-code="0" onclick="clickBottom(this)">

                </a>
            </li>
        </ul>

    </div>
    <div class="tuceng noleft xuheight">
        <div style="width: 100%;height: 280px;overflow: auto;">
            <ul id="dw-list-content">

            </ul>
        </div>
    </div>
    <div class="butqu">
        <span class="but-new" onclick="clickConfirm()">确&nbsp;&nbsp;&nbsp;定</span>
        <span class="but-new" onclick="clickCancel()">关&nbsp;&nbsp;&nbsp;闭</span>
    </div>
</div>
<!--弹出机构单位选择结束-->

</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/echarts.min.js"></script>
<script type="text/javascript" src="../script/common.js"></script>
<script type="text/javascript" src="../script/jquery.min.js"></script>
<script type="text/javascript" src="../script/doT.min.js"></script>
<script type="text/javascript" src="../script/convertToPinyin.js"></script>
<script type="text/javascript" src="../script/leek-common.js"></script>
<script type="text/javascript" src="../script/map/citys/city_map.js"></script>
<script type="text/javascript" src="../script/countup.js"></script>
<script type="text/javascript" src="../script/scriptabxz.js"></script>
<script type="text/javascript" src="../script/lodash.js"></script>
<script type="text/javascript">


    //地图数据
    var PROVINCE_CODE_MAP = {
        "北京": "110000",
        "新疆": "650000",
        "重庆": "500000",
        "广东": "440000",
        "浙江": "330000",
        "天津": "120000",
        "澳门": "820000",
        "广西": "450000",
        "内蒙古": "150000",
        "宁夏": "640000",
        "江西": "360000",
        "台湾": "710000",
        "安徽": "340000",
        "贵州": "520000",
        "陕西": "610000",
        "辽宁": "210000",
        "山西": "140000",
        "青海": "630000",
        "香港": "810000",
        "四川": "510000",
        "江苏": "320000",
        "河北": "130000",
        "西藏": "540000",
        "福建": "350000",
        "吉林": "220000",
        "云南": "530000",
        "上海": "310000",
        "湖北": "420000",
        "海南": "460000",
        "甘肃": "620000",
        "湖南": "430000",
        "山东": "370000",
        "河南": "410000",
        "黑龙江": "230000"
    }

    var map_chart
    var map_name = 'china'
    var old_map_name = 'china'
    var current_map_level = 1

    var place_code = 0           //默认单位id
    var place_name = ''            //单位名称
    var old_place_name = ''

    var old_all = 0
    var old_nv = 0
    var old_shao = 0
    var old_fei = 0

    var old_nv_rate = 0
    var old_shao_rate = 0
    var old_fei_rate = 0

    var xuanze_flag = false

    var type = 'all'
    var middle_type = 'xingzheng'         //单位类型
    var all_year_type = 'zhengfu'           //单位类型

    var middle_bottom_chart
    var middle_top_zhongyang_chart
    var left_top_chart
    var left_bottom_chart
    var right_top_chart
    var right_bottom_chart


    function clickXuanZe() {

        if (xuanze_flag) {
            $('#xuanzetank').css({
                'display': 'none'
            })


            xuanze_flag = false
        } else {
            $('#xuanzetank').css({
                'display': 'block'
            })

            xuanze_flag = true
        }
    }

    function clickGuanBi() {
        $('#xuanzetank').css({
            'display': 'none'
        })
        xuanze_flag = false
    }



    function converPlaceSql(place_code) {
        var sql = "select NAME,J1 VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid='20'"

        return sql
    }


    function converAgeGt35Sql(place_code) {
        var sql = "select NAME,J25+J26+J27+J28+J29+J30 VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid='20'"

        return sql
    }


    function converXueliGtBenkeSql(place_code) {
        var sql = "select NAME,J14+J15 VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid='20'"

        return sql
    }


    function converJibieGtXianchujiSql(place_code) {
        var sql = "select NAME,sum(J1) VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid in ('2','3','4','5','6','7','8','9','10','11') group by NAME,UNMKID"

        return sql
    }


    function converCengciGt5Sql(place_code) {
        var sql = "select NAME,J35+J36+J37+J38+J39+J40 J40 VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid='20'"

        return sql
    }


    function converZhijiGt3Sql(place_code) {
        var sql = "select NAME,sum(J1) VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid in ('2','3','4','5','6','7','8','9','10','11') group by NAME,UNMKID"

        return sql
    }


    function converjibieGtXianchujiWithNvSql(place_code) {
        var sql = "select NAME,J5 VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid in ('11','10','9','8','7','6','5','4','3','2')"

        return sql
    }


    function converShaoSql(place_code) {
        var sql = "select NAME,J8 VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid='20'"

        return sql
    }


    function converFeiSql(place_code) {
        var sql = "select NAME,J10 VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid='20'"

        return sql
    }


    function converAgeAvgSql(place_code) {
        var sql = "select NAME,J2 VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid='20'"

        return sql
    }



    function converNSFSql(place_code) {
        var sql = ''

        switch (middle_type) {
            case 'xingzheng':
                sql = "select  J5,J1,J8,J10  from (select unmkid,name from lead_unid_relation where code='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and ld.rowsid='20'"
                break
            case 'zhongyang':
                sql = "select  J5,J1,J8,J10  from LD_JT2017001  WHERE UNID='" + place_code + "' and rowsid='20'"
                break
        }
        consoledebug.log('问题sql: ' + JSON.stringify(sql))
        return sql
    }



    function converAllXueliSql(place_code) {
        var sql = ''

        switch (middle_type) {
            case 'xingzheng':
                sql = "select sum(J5) J5,sum(J6) J6,sum(J14) J14,SUM(J15) J15,SUM(J16) J16,SUM(J17) J17,SUM(J18) J18,SUM(J19) J19,SUM(J20) J20 from (select unmkid,name from lead_unid_relation where code='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid='20'"
                break
            case 'zhongyang':
                sql = "select sum(J5) J5,sum(J6) J6,sum(J14) J14,SUM(J15) J15,SUM(J16) J16,SUM(J17) J17,SUM(J18) J18,SUM(J19) J19,SUM(J20) J20 from LD_JT2017001  WHERE UNID='" + place_code + "' and rowsid='20'"
                break
        }

        return sql
    }



    function converAllJibieSql(place_code) {
        var sql = ''
        consoledebug.log('干部比例数据place_code : ' + JSON.stringify(place_code))
        switch (middle_type) {
            case 'xingzheng':
                sql = "select ROWSID ROWSID,J1 J1,J2 J2,J21 J21,J22+J23 J22,J24+J25 J24,J26+J27 J26,J28+J29 J28,J30 J30  from (select unmkid,name from lead_unid_relation where code='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid where rowsid in ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','19')"
                break
            case 'zhongyang':
                sql = "select ROWSID ROWSID,J1 J1,J2 J2,J21+J22+J23 J22,J24+J25 J24,J26+J27 J26,J28+J29 J28,J30 J30 from LD_JT2017001  WHERE UNID='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','19')"
                break
        }

        return sql
    }


    function converAllAgeSql(place_code) {
        var sql = "select J21+J22+J23 J23,J24+J25 J25,J26+J27 J27,J28+J29 J29,J30 J30,J41+J42+J43 J43,J44+J45 J45,J46+J47 J47,J48+J49 J49,J50 J50 from (select unmkid,name from lead_unid_relation where code='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid where rowsid in ('20')"

        return sql
    }


    function converAllXingzhiSql(place_code) {
        var sql = ''

        switch (middle_type) {
            case 'xingzheng':
                sql = "select ROWSID,J9,J17,UNID from (select unmkid,name from lead_unid_relation where code='" + place_code + "') ur left join LD_JT2017002 ld on ur.unmkid=ld.unid and rowsid in ('2','3','4','5','6','7','8')"
                break
            case 'zhongyang':
                sql = "select ld.ROWSID,ld.J9,ld.J17,ld.UNID from LD_JT2017002 ld inner join rs_unmk rs on ld.unid = rs.id where ld.rowsid in ('2','3','4','5','6','7','8') and ld.unid='" + place_code + "' order by ld.rowsid"
                break
        }

        return sql
    }



    function converAllsannkhSql(place_code) {

        var sql = "select J51,J52,J53,J54,J55,J56,J57,J58,J59,J60,J61,J62 from LD_JT2017001 where UNID='" + place_code + "' and rowsid ='20'"

        return sql
    }



    function converAllYearSql(place_code) {

        var sql = ''

        switch (middle_type) {
            case 'xingzheng':
                switch (all_year_type) {
                    case 'zhengfu':
                        sql = "select ROWSID ROWSID,J1 J1,J31 J31,J32 J32 ,J33 J33,J34 J34,J35  J35,J36+J37+J38+J39+J40 J40 from (select unmkid,name from lead_unid_relation where code='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid in  ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','19')"
                        break
                    case 'jingcha':
                        sql = "select ROWSID ROWSID,J1 J1,J31 J29,J32 J30,J33 J31,J34 J32,J35 J33,J36+J37+J38+J39+J40 J38 from  LD_JT2017003 where unid='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10')"
                        break
                    default:
                        break
                }
                break
            case 'zhongyang':
                switch (all_year_type) {
                    case 'zhengfu':
                        sql = "select ROWSID ROWSID,J1 J1,J31 J31,J32 J32 ,J33 J33,J34 J34,J35 J35,J36+J37+J38+J39+J40 J40 from LD_JT2017001 where UNID='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','19')"
                        break
                    case 'jingcha':
                        sql = "select ROWSID ROWSID,J1 J1,J31 J29,J32 J30,J33 J31,J34 J32,J35 J33,J36+J37+J38+J39+J40 J38 from  LD_JT2017003 where unid='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10')"
                        break
                    default:
                        break
                }
                break
        }

        return sql
    }



    function converZhongyangYearSql(place_code) {
        var sql = "select J21,J22,J23,J24,J25,J26,J27,J28,J29,J30 from LD_JT2017001 where unid='" + place_code + "' and rowsid in ('20')"

        return sql
    }


    function converZhongyangZhibiaoSql(place_code) {

        var sql = "select J2,J14+J15 J15,J18+J19 J19,J33+J34+J35+J36+J37+J38+J39+J40 J1,J35+J36+J37+J38+J39+J40 J40 from LD_JT2017001 where UNID='" + place_code + "' and rowsid='20'"
        return sql
    }


    function converZhongyangChuNvSql(place_code) {
        var sql = "select sum(J5) J5 from LD_JT2017001 where UNID='" + place_code + "' and rowsid in ('11','10','9','8','7','6','5','4','3','2')"

        return sql
    }


    /* ------------------------------------------------------------------------------------------------------------------------------------------  */


    function converAgeGt35SqlwithUMKID(place_code) {

        var sql = "select NAME,J25+J26+J27+J28+J29+J30 VALUE,UNMKID from  LD_JT2017001  where unid='" + place_code + "' and rowsid='20'"
        return sql
    }

    function converXueliGtBenkeSqlwithUMKID(place_code) {
        var sql = "select NAME,J14+J15 VALUE,UNMKID from LD_JT2017001  where unid='" + place_code + "' and rowsid='20'"


        return sql
    }


    function converJibieGtXianchujiSqlwithUMKID(place_code) {

        var sql = "select NAME,sum(J1) VALUE,UNMKID from LD_JT2017001  where unid='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10','11') group by NAME,UNMKID"


        return sql
    }


    function converCengciGt5SqlwithUMKID(place_code) {

        var sql = "select NAME,J35+J36+J37+J38+J39+J40 J40 VALUE,UNMKID from  LD_JT2017001  where unid='" + place_code + "' and rowsid='20'"

        return sql
    }


    function converZhijiGt3SqlwithUMKID(place_code) {
        var sql = "select NAME,sum(J1) VALUE,UNMKID from (select unmkid,name from lead_unid_relation where pcode='" + place_code + "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid and rowsid in ('2','3','4','5','6','7','8','9','10','11') group by NAME,UNMKID"

        return sql
    }



    function converjibieGtXianchujiWithNvSqlwithUMKID(place_code) {

        var sql = "select NAME,J5 VALUE,UNMKID from LD_JT2017001  where unid='" + place_code + "' and rowsid in ('11','10','9','8','7','6','5','4','3','2')"

        return sql
    }



    function converShaoSqlwithUMKID(place_code) {


        var sql = "select  J5,J1,J8 J9,J10  from LD_JT2017001  WHERE UNID='0' and rowsid='" + place_code + "'"
        return sql
    }



    function converFeiSqlwithUMKID(place_code) {
        var sql = "select NAME,J10 VALUE,UNMKID from LD_JT2017001 ld where unid='" + place_code + "' and rowsid='20'"

        return sql
    }


    function converAgeAvgSqlwithUMKID(place_code) {
        var sql = "select NAME,J10 VALUE,UNMKID from LD_JT2017001 where unid='" + place_code + "' and rowsid='20'"

        return sql
    }




    function converNSFSqlwithUMKID(place_code) {
        var sql = ''

        switch (middle_type) {
            case 'xingzheng':

                sql = "select  J5,J1,J8 J9,J10  from LD_JT2017001  WHERE UNID='" + place_code + "' and rowsid='20';"
                break
            case 'zhongyang':
                sql = "select  J5,J1,J8 J9,J10  from LD_JT2017001  WHERE UNID='" + place_code + "' and rowsid='20';"
                break
        }

        return sql
    }


    function converAllXueliSqlwithUMKID(place_code) {
        var sql = ''

        switch (middle_type) {
            case 'xingzheng':

                sql = "select sum(J5) J5,sum(J6) J6,sum(J14) J14,SUM(J15) J15,SUM(J16) J16,SUM(J17) J17,SUM(J18) J18,SUM(J19) J19,SUM(J20) J20 from LD_JT2017001  WHERE UNID='" + place_code + "' and rowsid='20'"
                break
            case 'zhongyang':
                sql = "select sum(J5) J5,sum(J6) J6,sum(J14) J14,SUM(J15) J15,SUM(J16) J16,SUM(J17) J17,SUM(J18) J18,SUM(J19) J19,SUM(J20) J20 from LD_JT2017001  WHERE UNID='" + place_code + "' and rowsid='20'"
                break
        }

        return sql
    }



    function converAllJibieSqlwithUMKID(place_code) {
        var sql = ''

        switch (middle_type) {
            case 'xingzheng':
                sql = "select ROWSID ROWSID,J1 J1,J2 J2,J21+J22+J23 J22,J24+J25 J24,J26+J27 J26,J28+J29 J28,J30 J30 from LD_JT2017001  WHERE UNID='" + place_code + "' and rowsid in ('1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19')"


                break
            case 'zhongyang':
                sql = "select ROWSID ROWSID,J1 J1,J2 J2,J21+J22+J23 J22,J24+J25 J24,J26+J27 J26,J28+J29 J28,J30 J30 from LD_JT2017001  WHERE UNID='" + place_code + "' and rowsid in ('1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19')"

        }

        return sql
    }


    function converAllAgeSqlwithUMKID(place_code) {
        var sql = "select J21+J22+J23 J23,J24+J25 J25,J26+J27 J27,J28+J29 J29,J30 J30,J41+J42+J43 J43,J44+J45 J45,J46+J47 J47,J48+J49 J49,J50 J50 from LD_JT2017001 ld where unid='" + place_code + "' and rowsid in ('20')"

        return sql
    }


    function converAllXingzhiSqlwithUMKID(place_code) {
        var sql = ''

        switch (middle_type) {
            case 'xingzheng':
                sql = "select ROWSID,J9,J17,UNID from (select unmkid,name from lead_unid_relation where code='" + place_code + "') ur left join LD_JT2017002 ld on ur.unmkid=ld.unid and rowsid in ('2','3','4','5','6','7','8')"
                break
            case 'zhongyang':
                sql = "select ld.ROWSID,ld.J9,ld.J17,ld.UNID from LD_JT2017002 ld inner join rs_unmk rs on ld.unid = rs.id where ld.rowsid in ('2','3','4','5','6','7','8') and ld.unid='" + place_code + "' order by ld.rowsid"
                break
        }

        return sql
    }


    function converAllYearSqlwithUMKID(place_code) {
        var sql = ''

        switch (middle_type) {
            case 'xingzheng':
                switch (all_year_type) {
                    case 'zhengfu':

                        sql = "select ROWSID ROWSID,J1 J1,J31 J31,J32 J32 ,J33 J33,J34 J34,J35 J35,J36+J37+J38+J39+J40 J40 from LD_JT2017001 where UNID='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19')"
                        break
                    case 'jingcha':
                        sql = "select ROWSID ROWSID,J1 J1,J31 J29,J32 J30,J33 J31,J34 J32,J35 J33,J36+J37+J38+J39+J40 J38 from  LD_JT2017003 where unid='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10')"

                        break
                    default:
                        break
                }
                break
            case 'zhongyang':
                switch (all_year_type) {
                    case 'zhengfu':
                        sql = "select ROWSID ROWSID,J1 J1,J31 J31,J32 J32 ,J33 J33,J34 J34,J35 J35,J36+J37+J38+J39+J40 J40 from LD_JT2017001 where UNID='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19')"
                        break
                    case 'jingcha':
                        sql = "select ROWSID ROWSID,J1 J1,J31 J29,J32 J30,J33 J31,J34 J32,J35 J33,J36+J37+J38+J39+J40 J38 from  LD_JT2017003 where unid='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10')"
                        break
                    default:
                        break
                }
                break
        }

        return sql
    }



    function converCengciAgeWithCodeSql(place_code) {
        var sql = "select ROWSID ROWSID,J1 J1,J21 J21,J22 J22,J23 J23,J24 J24,J25 J25,J26 J26,J27 J27,J28 J28,J29 J29,J30 J30 from LD_JT2017001 where UNID='" + place_code + "' and rowsid in ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','19')"

        return sql
    }

    /* ------------------------------------------------------------------------------------------------------------------------------------------  */


    var role_zhengfu_name_array = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
    var role_zhengfu_name_array_rwo = ['正部', '副部', '正厅', '副厅', '正处', '副处', '正科', '副科', '科员及其他']
    var role_jingcha_name_array = ['试用期及其他', '三级警员', '二级警员', '一级警员', '四级警长', '三级警长', '二级警长', '一级警长']

    var posList = [
        'left', 'right', 'top', 'bottom',
        'inside',
        'insideTop', 'insideLeft', 'insideRight', 'insideBottom',
        'insideTopLeft', 'insideTopRight', 'insideBottomLeft', 'insideBottomRight'
    ]

    var labelOption = {
        normal: {
            rotate: {
                min: -90,
                max: 90
            },
            align: {
                options: {
                    left: 'left',
                    center: 'center',
                    right: 'right'
                }
            },
            verticalAlign: {
                options: {
                    top: 'top',
                    middle: 'middle',
                    bottom: 'bottom'
                }
            },
            position: {
                options: echarts.util.reduce(posList, function (map, pos) {
                    map[pos] = pos;
                    return map;
                }, {})
            },
            distance: {
                min: 0,
                max: 100
            }
        }
    }

    apiready = function () {

        $("#xuanze_item").on("click", "li", function (event) {
            if (!$(this).hasClass('tips')) {
                $('#xuanze_item li').removeClass('tips')
                $(this).addClass('tips')

                $('#xuanzetab span').text($(this).text())

                type = $(this).attr('data-type')

                clickGuanBi()
                switchType(type)
            }
        })


        api.addEventListener({
            name: 'OPENDB'
        }, function (ret, err) {
            consoledebug.log('addEventListener >>> OPENDB ret is : ' + JSON.stringify(ret))


            var tbsql = "select unmkid,code,name,pcode from LEAD_UNID_RELATION where code='000000';"
            selectSql(tbsql, function (ret, err) {
                if (ret.status) {
                    if(ret.data.length>0) {
                        place_array_NAME = ret.data[0].NAME
                        place_array_ID = ret.data[0].PCODE
                        consoledebug.log('城市数组: ' + JSON.stringify(place_array_NAME))
                    }
                }
            })
            clickqgzy()
        })


        api.addEventListener({
            name: 'loadnew'
        }, function (ret, err) {
            consoledebug.log('从新加载 ')
            place_code = 0
            contnubmid = true
            //全国点击事件
            $(".lefttab div").first().click()
        })



        api.addEventListener({
            name: 'frame0name'
        }, function (ret, err) {
            place_code = ret.value.code
            place_name = ret.value.place_name
            place_array = ret.value.place_arr
            clickConfirm('2')
        })



        api.addEventListener({
            name: 'cleanarr'
        }, function (ret, err) {
            cleanarr()
        })



        var tbsql = "select unmkid,code,name,pcode from LEAD_UNID_RELATION where code='000000';"
        var db = api.require('db');
        var ret = db.selectSqlSync({
            name: db_name,
            sql: tbsql
        });
        if(ret.data.length>0) {
            place_array_NAME = ret.data[0].NAME
            place_array_ID = ret.data[0].PCODE
        }

        $(".lefttab div").first().click()
    }

    var place_array_NAME = ''
    var place_array_ID = 0


    var UsedForThreeUNMKID = []

    function showMapChart(data) {

        UsedForThreeUNMKID = data

        var conver_data = []

        for (var i = 0; i < data.length; i++) {
            if (!data[i].VALUE) {
                data[i].VALUE = 0
            }

            var param = {
                name: data[i].NAME,
                value: data[i].VALUE
            }

            conver_data.push(param)
        }

        map_chart = echarts.init(document.getElementById('container-mid-top'))

        var map_json_path = ''

        if (current_map_level !== 1) {
            if (current_map_level === 2) {
                map_json_path = './../script/map/province/' + map_name + '.json'
            }

            if (current_map_level === 3) {
                map_json_path = './../script/map/citys/' + map_name + '.json'
            }
        } else {
            map_json_path = './../script/map/china.json'
        }

        $.getJSON(map_json_path, function (ret) {
            echarts.registerMap(map_name, ret)

            map_chart = echarts.init(document.getElementById('container-mid-top'))

            map_chart.showLoading({text: '正在努力的读取数据中...'})

            var setOption = {
                tooltip: {
                    trigger: 'item',
                    formatter: function (params) {
                        var selectName = params.name
                        var ser = setOption.series
                        var name = ''
                        var sho = selectName + "<br/>"
                        for (var i = 1; i < ser.length; i++) {
                            var obj = 0
                            if (ser[i].hasOwnProperty("data")) {
                                var arr = ser[i].data;
                                for (var j = 0; j < arr.length; j++) {
                                    if (arr[j].name === selectName) {
                                        obj = arr[j].value;
                                        break
                                    }
                                }
                            }
                            var tempS = ""

                            if (type === "age_avg") {
                                name = '平均年龄'
                                tempS = obj + "岁"
                            } else {
                                name = '人数'
                                tempS = obj + "人"
                            }

                            sho = sho + name + ": " + tempS + "<br/>"
                        }
                        return sho
                    }
                },
                toolbox: {
                    padding: 30,
                    show: true,
                    feature: {
                        myBackBtn: {
                            show: true,
                            title: '回到上级',
                            icon: 'image://../image/back.png',
                            onclick: function () {
                                switch (current_map_level) {
                                    case 1:
                                        break
                                    case 2:
                                        map_name = 'china'
                                        current_map_level--

                                        place_code = 0

                                        switchType(type)
                                        break
                                    case 3:
                                        map_name = old_map_name
                                        place_name = old_place_name
                                        current_map_level--

                                        converProvince(place_name)

                                        switchType(type)
                                        break
                                    default:
                                        break
                                }
                            }
                        }
                    }
                },
                visualMap: {
                    left: 'left',
                    top: 'bottom',
                    itemWidth: 10,
                    itemHeight: 100,
                    seriesIndex: [1],
                    inRange: {
                        color: ['#B7E4F9', '#0E51CD']
                    },
                    calculable: false,
                    textStyle: {
                        color: '#C1C1E4'
                    }
                },
                geo: {
                    map: map_name,
                    roam: false,
                    label: {
                        normal: {
                            show: true,
                            textStyle: {
                                color: 'rgba(0,0,0,0)',   //城市字体颜色
                                fontSize: 2     //地图城市字体大小
                            }
                        }
                    },
                    itemStyle: {
                        normal: {
                            borderColor: 'rgba(0, 0, 0, 0.2)'
                        },
                        emphasis: {
                            areaColor: null,
                            shadowOffsetX: 0,
                            shadowOffsetY: 0,
                            shadowBlur: 20,
                            borderWidth: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                },
                series: [
                    {
                        type: 'scatter',
                        coordinateSystem: 'geo',
                        data: conver_data,
                        label: {
                            normal: {
                                formatter: '{b}',
                                position: 'right',
                                show: false
                            },
                            emphasis: {
                                show: true
                            }
                        },
                        itemStyle: {
                            normal: {
                                color: '#F06C00'
                            }
                        }
                    },
                    {
                        name: '人数',
                        type: 'map',
                        geoIndex: 0,
                        data: conver_data
                    }
                ]
            }

            if (current_map_level !== 1) {
                setOption.toolbox.show = true
            } else {
                setOption.toolbox.show = false
            }

            map_chart.setOption(setOption)
            map_chart.hideLoading()

            if (contnub) {
                $("#xuanzetab").addClass('aui-hide')
                $("#cont_one_1").hide();
            } else {
                $("#xuanzetab").removeClass('aui-hide')
                $("#cont_one_1").show();
            }
            map_chart.on('click', clickMapChart)
        })

        selectSql(converNSFSql(place_code), function (ret, err) {

            if (ret.status) {
                var data = ret.data[0]
                consoledebug.log('走4 ' + JSON.stringify(data))
                showLeftTopChart(data)
            }
        })

        selectSql(converAllXueliSql(place_code), function (ret, err) {
            if (ret.status) {
                var data = ret.data[0]

                showleftBottomChart(data)
            }
        })

        selectSql(converAllJibieSql(place_code), function (ret, err) {
            if (ret.status) {
                var data = ret.data
                consoledebug.log('干部比例数据1 : ' + JSON.stringify(data))
                showMiddleBottomChart(data)
            }
        })





        selectSql(converCengciAgeWithCodeSql(place_code), function (ret, err) {
            if (ret.status) {
                var data = ret.data

                showFrm0RightTopChart(data)
            } else {

            }
        })

        selectSql(converAllYearSql(place_code), function (ret, err) {
            if (ret.status) {
                var data = ret.data
                consoledebug.log('任职年限1')
                showRightBottomChart(data)
            }
        })

        hideProgress()
    }

    function clickMapChart(ret) {

        switch (current_map_level) {
            case 1:



                if (ret.data.name == '陕西') {
                    old_map_name = CC2PY('陕西1').toLowerCase()
                    map_name = CC2PY('陕西1').toLowerCase()
                } else {
                    old_map_name = CC2PY(ret.data.name).toLowerCase()
                    map_name = CC2PY(ret.data.name).toLowerCase()
                }

                current_map_level++
                place_name = ret.data.name
                old_place_name = ret.data.name
                converProvince(ret.data.name)

                switchType(type)
                break
            case 2:
                map_name = converCity(ret.data.name)
                current_map_level++
                place_name = ret.data.name

                switchType(type)
                break
            case 3:
                place_name = ret.data.name
                var unmkid
                for (i = 0; i < UsedForThreeUNMKID.length; i++) {
                    if (UsedForThreeUNMKID[i].NAME == place_name) {
                        unmkid = UsedForThreeUNMKID[i].UNMKID
                    }
                }

                if (judgeIsAnyNullStr(unmkid) || unmkid == 'insert') {
                    return
                }



                selectSql(converNSFSqlwithUMKID(unmkid), function (ret, err) {
                    if (ret.status) {
                        var data = ret.data[0]
                        consoledebug.log("地图第三级:" + JSON.stringify(data));
                        showLeftTopChart(data)
                    }
                })

                selectSql(converAllXueliSqlwithUMKID(unmkid), function (ret, err) {
                    if (ret.status) {
                        var data = ret.data[0]

                        showleftBottomChart(data)
                    }
                })

                selectSql(converAllJibieSqlwithUMKID(unmkid), function (ret, err) {
                    if (ret.status) {
                        var data = ret.data

                        showMiddleBottomChart(data)
                    }
                })





                selectSql(converCengciAgeWithCodeSql(place_code), function (ret, err) {
                    if (ret.status) {
                        var data = ret.data

                        showFrm0RightTopChart(data)
                    } else {

                    }
                })

                selectSql(converAllYearSqlwithUMKID(unmkid), function (ret, err) {
                    if (ret.status) {
                        var data = ret.data
                        consoledebug.log('任职年限2')
                        showRightBottomChart(data)
                    }
                })


                break
            default:
                break
        }
    }

    function showLeftTopChart(data) {
        consoledebug.log('showLeftTopChart ' + middle_type + ' data is : ' + JSON.stringify(data))


        middle_type

        if (place_code == 0 && place_code_cha == 0) {
            $('#place_name').text('全国公务员:')
        } else {
            $('#place_name').text(place_name + '公务员:')
        }


        //通过middle_type判断 J是 还是j
        if (middle_type == 'xingzheng') {
            if (data) {
                var all = data.J1 ? parseInt(data.J1) : 0
                var nv = data.J5 ? parseInt(data.J5) : 0
                var shao = data.J8 ? parseInt(data.J8) : 0
                var fei = data.J10 ? parseInt(data.J10) : 0
            } else {
                var all = 0
                var nv = 0
                var shao = 0
                var fei = 0
            }
        } else {
            if (data) {
                var all = data.j1 ? parseInt(data.j1) : 0
                var nv = data.j5 ? parseInt(data.j5) : 0
                var shao = data.j8 ? parseInt(data.j8) : 0
                var fei = data.j10 ? parseInt(data.j10) : 0
            } else {
                var all = 0
                var nv = 0
                var shao = 0
                var fei = 0
            }
        }


        var all_num = new CountUp("all_num", old_all, all, 0, 1.5, {suffix: '人'})
        var nv_num = new CountUp("nv_num", old_nv, nv, 0, 1.5, {suffix: '人'})
        var shao_num = new CountUp("shao_num", old_shao, shao, 0, 1.5, {suffix: '人'})
        var fei_num = new CountUp("fei_num", old_fei, fei, 0, 1.5, {suffix: '人'})
        all_num.start()
        nv_num.start()
        shao_num.start()
        fei_num.start()

        var nv_rate = nv ? Math.floor(nv / all * 10000) / 100 : 0
        var shao_rate = shao ? Math.floor(shao / all * 10000) / 100 : 0
        var fei_rate = fei ? Math.floor(fei / all * 10000) / 100 : 0

        var nv_rate_num = new CountUp("nv_rate", old_nv_rate, nv_rate, 0, 1.5, {suffix: '%'})
        var shao_rate_num = new CountUp("shao_rate", old_shao_rate, shao_rate, 0, 1.5, {suffix: '%'})
        var fei_rate_num = new CountUp("fei_rate", old_fei_rate, fei_rate, 0, 1.5, {suffix: '%'})
        nv_rate_num.start()
        shao_rate_num.start()
        fei_rate_num.start()

        $('#nv_rate_width').animate({
            width: nv_rate + '%'
        }, 1500)

        $('#shao_rate_width').animate({
            width: shao_rate + '%'
        }, 1500)

        $('#fei_rate_width').animate({
            width: fei_rate + '%'
        }, 1500)

        old_all = all
        old_nv = nv
        old_shao = shao
        old_fei = fei

        old_nv_rate = nv_rate
        old_shao_rate = shao_rate
        old_fei_rate = fei_rate
    }

    function showleftBottomChart(data) {
        left_bottom_chart = echarts.init(document.getElementById('container-left'))

        var nv = data.J5 ? parseInt(data.J5) : 0
        var nan = data.J6 ? parseInt(data.J6) : 0

        var yanjiusheng = data.J14 ? parseInt(data.J14) : 0
        var benkesheng = data.J15 ? parseInt(data.J15) : 0
        var zhuankesheng = data.J16 ? parseInt(data.J16) : 0
        var zhongzhuansheng = data.J17 ? parseInt(data.J17) : 0

        var boshi = data.J18 ? parseInt(data.J18) : 0
        var shuoshi = data.J19 ? parseInt(data.J19) : 0
        var xueshi = data.J20 ? parseInt(data.J20) : 0

        var all = nv + nan

        var xueli = [
            {
                name: '研究生',
                value: yanjiusheng
            },
            {
                name: '本科生',
                value: benkesheng
            },
            {
                name: '专科生',
                value: zhuankesheng
            },
            {
                name: '中专及以下',
                value: zhongzhuansheng
            }
        ]

        left_bottom_chart.showLoading({text: '正在努力的读取数据中...'})

        var setOption = {
            tooltip: {//鼠标放在上边时显示的信息
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)",//格式化
                position: ['50%', '50%']   //提示框位置

            },
            color: ['#498CAD', '#45A6D8', '#48C1DF', '#ADDBE3'],
            grid: {
                left: '3%',//图标离左边距离
                right: '5%',//离右边距离
                bottom: '0%',//离底部距离
                top: '5%',//离上边距离
                height: '100%',
                containLabel: true//true包含坐标轴
            },
            legend: {
                data: ['研究生', '本科生', '专科生', '中专及以下'],
                orient: 'vertical',
                itemGap: 3,
                x: 'left',
                y: 'bottom',
                textStyle: {
                    color: '#C1C1E4',
                    fontSize: 7
                },
                itemHeight: 7,
                itemWidth: 7
            },
            series: [{
                name: '学历信息',
                type: 'pie',
                radius: ['50%', '70%'],
                minAngle: 5,
                avoidLabelOverlap: false,
                label: {
                    normal: {
                        show: false,
                        position: 'center'
                    },
                    emphasis: {
                        show: true,
                        textStyle: {
                            fontSize: '15',
                            fontWeight: 'bold'
                        }
                    }
                },
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                data: xueli
            }
            ],
            textStyle: {
                color: '#C1C1E4'
            }
        }

        left_bottom_chart.setOption(setOption)

        left_bottom_chart.hideLoading()

        var xuewei = [
            {
                name: '博士',
                value: boshi + ' 人',
                rate: boshi ? Math.floor(boshi / all * 10000) / 100 + ' %' : 0 + ' %'
            },
            {
                name: '硕士',
                value: shuoshi + ' 人',
                rate: shuoshi ? Math.floor(shuoshi / all * 10000) / 100 + ' %' : 0 + ' %'
            },
            {
                name: '学士',
                value: xueshi + ' 人',
                rate: xueshi ? Math.floor(xueshi / all * 10000) / 100 + ' %' : 0 + ' %'
            }
        ]

        $("#xuewei-content").empty()

        for (var k = 0; k < xuewei.length; k++) {
            loadLeftBottomTable(xuewei[k])
        }
    }

    function loadLeftBottomTable(data) {
        var interText = doT.template($("#xuewei-content-template").text())
        $("#xuewei-content").append(interText(data))
    }

    function showMiddleBottomChart(data) {
        middle_bottom_chart = echarts.init(document.getElementById('container'))

        middle_bottom_chart.showLoading({text: '正在努力的读取数据中...'})
        var param = converAllJibieData(data)

        containe_arr = converAllJibieData(data)


        var setOption = {

            color: ['#0E51CD', '#0F5DD3', '#118DEC', '#13AEFD', '#59C9FF', '#D87A80'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                },
                position: ['20%', '0%']
            },
            legend: {
                data: ["30岁及以下", "31-40岁", "41-50岁", "51-59岁", "60岁及以上", "平均年龄"],
                itemGap: 3,
                textStyle: {
                    color: '#C1C1E4',
                    fontSize: 8
                },
                itemHeight: 7,
                itemWidth: 7
            },
            grid: {
                top: 35,
                bottom: 35,
                left: 50,
                right: 30
            },
            xAxis: {
                type: 'category',
                data: role_zhengfu_name_array_rwo,
                axisLine: {

                    lineStyle: {
                        color: '#0087ED'
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8
                    },
                    formatter: function (value, index) {
                        if (index % 2 != 0) {
                            return '\n' + value
                        }
                        else {
                            return value
                        }
                    }
                }
            },


            yAxis: [{
                type: 'value',
                name: '人',
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8// 让字体变大
                    }
                },
                nameLocation: 'end',
                nameGap: 5,
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                splitLine: {
                    show: false
                }
            }, {
                type: 'value',
                name: '岁',
                nameLocation: 'end',
                nameGap: 5,
                axisLine: {
                    lineStyle: {
                        color: '#D87A80',
                        width: 1
                    }
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8// 让字体变大
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                splitLine: {
                    show: false
                }
            }],
            series: [
                {
                    name: '30岁及以下',
                    type: 'bar',
                    stack: '总量',
                    barWidth: 17,
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.be30
                },
                {
                    name: '31-40岁',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt30lt35
                },
                {
                    name: '41-50岁',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt40lt45
                },
                {
                    name: '51-59岁',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt50lt55
                },
                {
                    name: '60岁及以上',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt60
                },
                {
                    name: '平均年龄',
                    type: 'line',
                    yAxisIndex: 1,
                    data: param.avg
                }
            ]
        }

        middle_bottom_chart.setOption(setOption)

        middle_bottom_chart.hideLoading()


        containenumber = 0
        for (var key in containe_arr) {
            for (var i = 0; i < containe_arr[key].length; i++) {
                if (containe_arr[key][i] != 0) {
                    containenumber = 1;

                }
            }
        }


    }

    var containe_arr
    var containenumber

    function clickcontainer() {

        if (!judgeIsAnyNullStr(containe_arr) && containenumber != 0) {

            var item = {
                containe_arr: containe_arr,
                place_code: place_code
            }
            comOpenFrame('frame0midbottom', './echartsframelist/', false, item, 3);
        }
    }


    function showMiddleTopZhongyangChart(data) {

        middle_top_zhongyang_chart = echarts.init(document.getElementById('sixthPlot1'))

        middle_top_zhongyang_chart.showLoading({text: '正在努力的读取数据中...'})

        consoledebug.log('showMiddleTopZhongyangChart data is : ' + JSON.stringify(data))

        var count_array = []

        if (data) {
            count_array.push(data.j21 ? data.j21 : 0)
            count_array.push(data.j22 ? data.j22 : 0)
            count_array.push(data.j23 ? data.j23 : 0)
            count_array.push(data.j24 ? data.j24 : 0)
            count_array.push(data.j25 ? data.j25 : 0)
            count_array.push(data.j26 ? data.j26 : 0)
            count_array.push(data.j27 ? data.j27 : 0)
            count_array.push(data.j28 ? data.j28 : 0)
            count_array.push(data.j29 ? data.j29 : 0)
            count_array.push(data.j30 ? data.jJ30 : 0)
        } else {
            count_array = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        }

        sixthPlot1_arr = count_array

        var setOption = {
            tooltip: {
                trigger: 'item'
            },
            color: ['#FF8635'],
            grid: {
                top: "23%",
                left: "5%",
                right: "8%",
                bottom: "15%"
            },
            xAxis: {
                type: 'category',
                name: '岁',
                data: ['20及以下', '21-25', '26-30', '31-35', '36-40', '41-45', '46-50', '51-55', '56-59', '60及以上'],

                axisLabel: {
                    show: true,
                    interval: 0,
                    textStyle: {
                        fontSize: 1
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: false
                }
            },
            yAxis: {
                type: 'value',
                name: '人',
                axisLabel: {
                    show: false,
                    formatter: '{value}'
                },
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: false
                },
                splitLine: {
                    show: false
                }
            },
            series: [{
                name: '人数',
                type: 'bar',
                smooth: false,
                data: count_array,
                showAllSymbol: true,
                barWidth: 15,

                label: {
                    normal: {
                        position: 'top',
                        show: true,
                        //  formatter: "{b}\n{c}人",
                        //    formatter: "{c}",
                        formatter: function (params) {
                            return dealNum1(params.value);//+"人"
                        },
                        textStyle: {
                            fontSize: 6
                        }
                        // padding: [5, 10, 5, 10],
                    },
                    emphasis: {
                        show: true,
                        textStyle: {
                            fontSize: '8',
                            fontWeight: 'bold'
                        }
                    }
                }
            }]
        };


        middle_top_zhongyang_chart.setOption(setOption)

        if (contnubmid) {

            $("#sixthPlot1").hide();
        } else {
            $("#sixthPlot1").show();
        }

        middle_top_zhongyang_chart.hideLoading()
    }


    function showMiddleTopZhongyangChartwo(data) {
        middle_top_zhongyang_chart = echarts.init(document.getElementById('sixthPlot2'))

        middle_top_zhongyang_chart.showLoading({text: '正在努力的读取数据中...'})


        var count_array = []

        if (data) {
            count_array.push(data.j21 ? data.j21 : 0)
            count_array.push(data.j22 ? data.j22 : 0)
            count_array.push(data.j23 ? data.j23 : 0)
            count_array.push(data.j24 ? data.j24 : 0)
            count_array.push(data.j25 ? data.j25 : 0)
            count_array.push(data.j26 ? data.j26 : 0)
            count_array.push(data.j27 ? data.j27 : 0)
            count_array.push(data.j28 ? data.j28 : 0)
            count_array.push(data.j29 ? data.j29 : 0)
            count_array.push(data.j30 ? data.j30 : 0)
        } else {
            count_array = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        }

        sixthPlot1_arr = count_array

        var setOption = {
            tooltip: {
                trigger: 'item'
            },
            color: ['#FF8635'],
            grid: {
                top: "23%",
                left: "5%",
                right: "8%",
                bottom: "15%"
            },
            xAxis: {
                type: 'category',
                name: '岁',
                data: ['20及以下', '21~25', '26~30', '31~35', '36~40', '41~45', '46~50', '51~55', '56~59', '60及以上'],

                axisLabel: {
                    show: true,
                    interval: 0,
                    textStyle: {
                        fontSize: 1
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: false
                }
            },
            yAxis: {
                type: 'value',
                name: '人',
                axisLabel: {
                    show: false,
                    formatter: '{value}'
                },
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: false
                },
                splitLine: {
                    show: false
                }
            },
            series: [{
                name: '人数',
                type: 'bar',
                smooth: false,
                data: count_array,
                showAllSymbol: true,
                barWidth: 15,

                label: {
                    normal: {
                        position: 'top',
                        show: true,
                        //  formatter: "{b}\n{c}人",
                        //    formatter: "{c}",
                        formatter: function (params) {
                            return dealNum1(params.value);//+"人"
                        },
                        textStyle: {
                            fontSize: 6
                        }
                        // padding: [5, 10, 5, 10],
                    },
                    emphasis: {
                        show: true,
                        textStyle: {
                            fontSize: '8',
                            fontWeight: 'bold'
                        }
                    }
                }
            }]
        };


        middle_top_zhongyang_chart.setOption(setOption)

        middle_top_zhongyang_chart.hideLoading()

        sixthPlot1number = 0
        for (var i = 0; i < sixthPlot1_arr.length; i++) {
            if (sixthPlot1_arr[i] != 0) {
                sixthPlot1number = 1;
            }
        }

    }


    var sixthPlot1_arr
    var sixthPlot1number

    function clicksixthPlot1() {

        if (!judgeIsAnyNullStr(sixthPlot1_arr) && sixthPlot1number != 0) {

            var item = {
                containe_arr: sixthPlot1_arr,
                place_code: place_code
            }
            comOpenFrame('frame0sixthPlot', './echartsframelist/', false, item, 3);
        }
    }

    //      原右上角服务
    //    function showRightTopChart(data) {
    //
    //        var rowName = ['优秀', '称职', '不称职', '不定等次']
    //
    //        right_top_chart = echarts.init(document.getElementById('container-right-top'))
    //
    //        right_top_chart.showLoading({text: '正在努力的读取数据中...'})
    //
    //        var param = converAllXingzhiData(data[0])
    //
    //        containe_right_top_arr = converAllXingzhiData(data[0])
    //
    //        var setOption = {
    //            color: ['#F78181', '#05C8DB', '#FFB417', '#E985F7'],
    //            tooltip: {
    //                trigger: 'axis',
    //                axisPointer: {
    //                    type: 'shadow'
    //                },
    //
    //                formatter: function (params) {
    //                    var name = "";
    //                    var str = "";
    //                    for (var i = 0; i < params.length; i++) {
    //                        name = params[i].name;
    //                        str = str + params[i].marker;
    //                        str = str + params[i].seriesName + ":";
    //                        str = str + params[i].value + " ";
    //                        if (i == params.length - 1) {
    //                        } else {
    //                            str = str + "</br>";
    //                        }
    //                    }
    //                    return name + "</br>" + str;
    //                }
    //            },
    //            legend: {
    //                data: rowName,
    //                textStyle: {
    //                    color: '#0087ED',
    //                    fontSize: 9//图例中字体大小
    //                },
    //                itemHeight: 8,//图例图形高度
    //                itemWidth: 8,//图例图形宽度
    //            },
    //            grid: {
    //                left: '3%',
    //                right: '4%',
    //                bottom: '5%',
    //                top: '15%',
    //                containLabel: true
    //            },
    //            calculable: true,
    //            xAxis: [
    //                {
    //                    type: 'category',
    //                    axisTick: {show: false},
    //                    data: ['2014年度', '2015年度', '2016年度'],
    //                    axisLine: {
    //                        lineStyle: {
    //                            color: '#0087ED',
    //                            width: 1,//这里是为了突出显示加上的
    //                        }
    //                    },
    //                    axisLabel: {
    //                        interval: 'auto',
    //                        fontSize: 8// 让字体变大
    //                    }
    //                }
    //            ],
    //            yAxis: [
    //                {
    //                    type: 'value',
    //                    name: '%',
    //                    nameLocation: 'middle',
    //                    splitLine: {
    //                        show: false
    //                    },
    //                    axisLine: {
    //                        lineStyle: {
    //                            color: '#0087ED',
    //                            width: 1,//这里是为了突出显示加上的
    //                        }
    //                    },
    //                    axisLabel: {
    //                        interval: 'auto',
    //                        fontSize: 8// 让字体变大
    //                    }
    //                }
    //            ],
    //            series: [
    //                {
    //                    name: rowName[0],
    //                    barWidth: 15,
    //                    type: 'bar',
    //                    barGap: 0,
    //                    data: param.D1
    //                },
    //                {
    //                    name: rowName[1],
    //                    barWidth: 15,
    //                    type: 'bar',
    //                    data: param.D2
    //                },
    //                {
    //                    name: rowName[2],
    //                    barWidth: 15,
    //                    type: 'bar',
    //                    data: param.D3
    //                }, {
    //                    name: rowName[3],
    //                    barWidth: 15,
    //                    type: 'bar',
    //                    data: param.D4
    //                }
    //            ]
    //        };
    //
    //
    //        right_top_chart.setOption(setOption)
    //
    //        right_top_chart.hideLoading()
    //
    //
    //        righttopnub = 0
    //        for (var key in containe_right_top_arr) {
    //            for (var i = 0; i < containe_right_top_arr[key].length; i++) {
    //                if (containe_right_top_arr[key][i] != 0) {
    //                    righttopnub = 1;
    //                }
    //            }
    //        }
    //
    //    }



    var containe_right_top_arr
    var righttopnub

    function clickcontainerrighttop() {

        if (!judgeIsAnyNullStr(containe_right_top_arr) && righttopnub != 0) {
            var item = {
                containe_arr: containe_right_top_arr,
                place_code: place_code
            }
            comOpenFrame('frame0rightop', './echartsframelist/', false, item, 3);
        }
    }




    function showFrm0RightTopChart(data) {
        var legend_array = ['30岁及以下', '31-40岁', '41-50岁', '51-59岁', '60岁及以上']
        right_bottom_first_chart = echarts.init(document.getElementById('cont_gzwccnlzb'))

        right_bottom_first_chart.showLoading({text: '正在努力的读取数据中...'})


        var param = converCengciAgeWithCodeData(data)


        rightone_arr = converCengciAgeWithCodeData(data)


        if (param.be30.length > 0) {


            var onenumber = 0

            var role_zhengfu_name_array_again_1

            var role_zhengfu_name_array_again_2

            var role_zhengfu_name_array_again_3

            var role_zhengfu_name_array_again_4

            for (var key in param) {
                if (param[key][param[key].length - 1] == 0) {
                    onenumber++
                }
            }
            if (onenumber == 10) {
                role_zhengfu_name_array_again_1 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部']
            } else {
                role_zhengfu_name_array_again_1 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }
            var twonumber = 0
            for (var key in param) {
                if (param[key][param[key].length - 2] == 0) {
                    twonumber++
                }
            }
            if (twonumber == 10) {
                role_zhengfu_name_array_again_2 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '正部']
            } else {
                role_zhengfu_name_array_again_2 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }


            var threenumber = 0
            for (var key in param) {
                if (param[key][param[key].length - 3] == 0) {
                    threenumber++
                }
            }
            if (threenumber == 10) {
                role_zhengfu_name_array_again_3 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '副部', '正部']
            } else {
                role_zhengfu_name_array_again_3 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }


            var frounumber = 0
            for (var key in param) {
                if (param[key][param[key].length - 4] == 0) {
                    frounumber++
                }
            }
            if (frounumber == 10) {
                role_zhengfu_name_array_again_4 = ['科员及其他', '副科', '正科', '副处', '正处', '正厅', '副部', '正部']
            } else {
                role_zhengfu_name_array_again_4 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }


            role_name_array = role_zhengfu_name_array_again_1.intersect(role_zhengfu_name_array_again_2).intersect(role_zhengfu_name_array_again_3).intersect(role_zhengfu_name_array_again_4)

        }


        var setOption = {
            color: ['#7F11C1', '#A820C6', '#C95AE4', '#0083C1', '#3270FF', '#0045DF'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                },
                position: ['-30%', '0%']

            },
            legend: {
                data: legend_array,
                itemGap: 3,
                textStyle: {
                    color: '#f1f1f1',
                    fontSize: 8
                },
                itemHeight: 7,
                itemWidth: 7
            },
            grid: {
                top: 30,
                bottom: 10,
                left: 10,
                right: 15,
                containLabel: true
            },
            xAxis: {
                type: 'value',
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                min: 0,
                max: 100,
                axisLabel: {
                    interval: 'auto',
                    formatter: '{value}%',
                    textStyle: {
                        fontSize: 8// 让字体变大
                    }
                },
                splitLine: {
                    show: false
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                show: true
            },
            yAxis: {
                type: 'category',
                data: role_name_array,
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                splitLine: {
                    show: false
                },
                axisLabel: {
                    interval: 0,
                    rotate: 0,        //字体倾斜
                    textStyle: {
                        fontSize: 8// 让字体变大
                    }
                }
            },
            series: [
                {
                    name: legend_array[0],
                    type: 'bar',
                    stack: '总量',
                    barWidth: 15,
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.be30
                },
                {
                    name: legend_array[1],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.be40
                },
                {
                    name: legend_array[2],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.be50
                },
                {
                    name: legend_array[3],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.be60
                },
                {
                    name: legend_array[4],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt60
                }
            ]
        }

        right_bottom_first_chart.setOption(setOption)

        right_bottom_first_chart.hideLoading()

        rightonenmb = 0
        for (var key in rightone_arr) {
            for (var i = 0; i < rightone_arr[key].length; i++) {
                if (rightone_arr[key][i] != 0) {
                    rightonenmb = 1;
                }
            }
        }

    }

    var rightone_arr
    var rightonenmb


    function clickFrm0rightone() {
        if (!judgeIsAnyNullStr(rightone_arr) && rightonenmb != 0) {
            var item = {
                containe_arr: rightone_arr,
                place_code: place_code
            }
            comOpenFrame('frame1rightbtone', './echartsframelist/', false, item, 3);
        }
    }

    function showRightBottomChart(data) {
        var legend_array = ['不满2年', '2年至不满3年', '3年至不满4年', '4年至不满5年', '5年至不满6年', '6年及以上']

        right_bottom_chart = echarts.init(document.getElementById('container-right-bottom'))

        var param = converAllYearData(data)

        containe_right_bottom_arr = converAllYearData(data)

        if (judgeIsAnyNullStr(param)) {
            return
        }

        if (param.lt2.length > 8) {


            var onenumber = 0

            var role_zhengfu_name_array_again_1

            var role_zhengfu_name_array_again_2

            var role_zhengfu_name_array_again_3

            var role_zhengfu_name_array_again_4

            for (var key in param) {
                if (param[key][param[key].length - 1] == 0) {
                    onenumber++
                }
            }
            if (onenumber == 12) {
                role_zhengfu_name_array_again_1 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部']
            } else {
                role_zhengfu_name_array_again_1 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }
            var twonumber = 0
            for (var key in param) {
                if (param[key][param[key].length - 2] == 0) {
                    twonumber++
                }
            }
            if (twonumber == 12) {
                role_zhengfu_name_array_again_2 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '正部']
            } else {
                role_zhengfu_name_array_again_2 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }


            var threenumber = 0
            for (var key in param) {
                if (param[key][param[key].length - 3] == 0) {
                    threenumber++
                }
            }
            if (threenumber == 12) {
                role_zhengfu_name_array_again_3 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '副部', '正部']
            } else {
                role_zhengfu_name_array_again_3 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }


            var frounumber = 0
            for (var key in param) {
                if (param[key][param[key].length - 4] == 0) {
                    frounumber++
                }
            }
            if (frounumber == 12) {
                role_zhengfu_name_array_again_4 = ['科员及其他', '副科', '正科', '副处', '正处', '正厅', '副部', '正部']
            } else {
                role_zhengfu_name_array_again_4 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }


            role_zhengfu_name_array = role_zhengfu_name_array_again_1.intersect(role_zhengfu_name_array_again_2).intersect(role_zhengfu_name_array_again_3).intersect(role_zhengfu_name_array_again_4)

        }

        right_bottom_chart.showLoading({text: '正在努力的读取数据中...'})

        setOption = {
            color: ['#7F11C1', '#A820C6', '#C95AE4', '#0083C1', '#3270FF', '#0045DF'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: legend_array,
                itemGap: 3,
                textStyle: {
                    color: '#C1C1E4',
                    fontSize: 8
                },
                itemHeight: 7,
                itemWidth: 7
            },
            grid: {                   //边距
                top: 40,    //距离容器上边界40像素
                bottom: 10,   //距离容器下边界30像素
                left: 10,
                right: 15,
                containLabel: true
            },
            xAxis: {
                type: 'value',
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },

                min: 0,
                max: 100,
                axisLabel: {
                    interval: 'auto',
                    formatter: '{value}%',
                    fontSize: 8// 让字体变大
                },
                splitLine: {
                    show: false
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                show: true
            },
            yAxis: {
                type: 'category',
                data: all_year_type === 'zhengfu' ? role_zhengfu_name_array : role_jingcha_name_array,
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                splitLine: {
                    show: false
                },
                axisLabel: {
                    interval: 0,
                    rotate: 0,   //字体倾斜角度
                    fontSize: 8// 让字体变大
                }
            },
            series: [
                {
                    name: legend_array[0],
                    type: 'bar',
                    stack: '总量',
                    barWidth: 15,
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.lt2
                },
                {
                    name: legend_array[1],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt2lt3
                },
                {
                    name: legend_array[2],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt3lt4
                },
                {
                    name: legend_array[3],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt4lt5
                },
                {
                    name: legend_array[4],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt5lt6
                },
                {
                    name: legend_array[5],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt6
                }
            ]
        }

        right_bottom_chart.setOption(setOption)

        right_bottom_chart.hideLoading()


        rightbottomnub = 0
        for (var key in containe_right_bottom_arr) {
            for (var i = 0; i < containe_right_bottom_arr[key].length; i++) {
                if (containe_right_bottom_arr[key][i] != 0) {
                    rightbottomnub = 1;
                }
            }
        }

    }


    var containe_right_bottom_arr
    var rightbottomnub
    function clickcontainerrightbottom() {
        if (!judgeIsAnyNullStr(containe_right_bottom_arr) && rightbottomnub != 0) {
            var item = {
                containe_arr: containe_right_bottom_arr,
                all_year_type: all_year_type,
                place_code: place_code
            }
            comOpenFrame('frame0rightbottom', './echartsframelist/', false, item, 3);
        }
    }


    function converProvince(name) {
        var code = 0
        $.each(PROVINCE_CODE_MAP, function (key, value) {
            if (key === name) {
                code = value
                return false
            }
        })

        place_code = code

        return place_code
    }

    function converCity(name) {
        var code = 0

        $.each(CITY_CODE_MAP, function (key, value) {
            if (key === name) {
                code = value
                return false
            }
        })

        place_code = code

        return place_code
    }

    function switchType(type) {

        switch (type) {
            case 'all':
                selectSql(converPlaceSql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converPlaceSql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            case 'age_gt_35':
                selectSql(converAgeGt35Sql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converAgeGt35Sql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            case 'xueli_gt_benke':
                selectSql(converXueliGtBenkeSql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converXueliGtBenkeSql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            case 'jibie_gt_xianchuji':
                selectSql(converJibieGtXianchujiSql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converJibieGtXianchujiSql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            case 'cengci_gt_5':
                selectSql(converCengciGt5Sql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converCengciGt5Sql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            case 'zhiji_gt_3':
                selectSql(converPlaceSql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converZhijiGt3Sql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            case 'jibie_gt_xianchuji_with_nv':
                selectSql(converjibieGtXianchujiWithNvSql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converjibieGtXianchujiWithNvSql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            case 'shao':
                selectSql(converShaoSql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converShaoSql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            case 'fei':
                selectSql(converFeiSql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converFeiSql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            case 'age_avg':
                selectSql(converAgeAvgSql(place_code), function (ret, err) {
                    consoledebug.log('selectSql converAgeAvgSql' + JSON.stringify(ret))
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })

                break
            default:
                break
        }
    }

    function converAllJibieData(data) {
        var lt20 = []
        var gt20lt25 = []
        var gt30lt35 = []
        var gt40lt45 = []
        var gt50lt55 = []
        var gt60 = []
        var avgpeo = []
        var avg = []

        for (var i = data.length - 1; i >= 0; i--) {
            switch (data[i].ROWSID) {
                case '19':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2) * parseInt(data[i].J1))
                    break
                case '17':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1] += parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1] += parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1] += parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1] += parseInt(data[i].J28)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1] += parseInt(data[i].J1)
                    avg[avg.length - 1] += parseInt(data[i].J2) * parseInt(data[i].J1)
                    break
                case '16':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1] += parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1] += parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1] += parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1] += parseInt(data[i].J28)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1] += parseInt(data[i].J1)
                    avg[avg.length - 1] += parseInt(data[i].J2) * parseInt(data[i].J1)
                    if (avgpeo[avgpeo.length - 1] == 0) {
                        avg[avg.length - 1] = 0
                    } else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1]) / parseInt(avgpeo[avgpeo.length - 1])
                    }
                    break
                case '15':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2) * parseInt(data[i].J1))
                    break
                case '14':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1] += parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1] += parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1] += parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1] += parseInt(data[i].J28)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1] += parseInt(data[i].J1)
                    avg[avg.length - 1] += parseInt(data[i].J2) * parseInt(data[i].J1)
                    if (avgpeo[avgpeo.length - 1] == 0) {
                        avg[avg.length - 1] = 0
                    } else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1]) / parseInt(avgpeo[avgpeo.length - 1])
                    }
                    break
                case '13':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2) * parseInt(data[i].J1))
                    break
                case '12':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1] += parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1] += parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1] += parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1] += parseInt(data[i].J28)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1] += parseInt(data[i].J1)
                    avg[avg.length - 1] += parseInt(data[i].J2) * parseInt(data[i].J1)
                    if (avgpeo[avgpeo.length - 1] == 0) {
                        avg[avg.length - 1] = 0
                    } else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1]) / parseInt(avgpeo[avgpeo.length - 1])
                    }
                    break
                case '11':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2) * parseInt(data[i].J1))
                    break
                case '10':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1] += parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1] += parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1] += parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1] += parseInt(data[i].J28)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1] += parseInt(data[i].J1)
                    avg[avg.length - 1] += parseInt(data[i].J2) * parseInt(data[i].J1)
                    if (avgpeo[avgpeo.length - 1] == 0) {
                        avg[avg.length - 1] = 0
                    } else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1]) / parseInt(avgpeo[avgpeo.length - 1])
                    }
                    break
                case '9':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2) * parseInt(data[i].J1))
                    break
                case '8':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1] += parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1] += parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1] += parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1] += parseInt(data[i].J28)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1] += parseInt(data[i].J1)
                    avg[avg.length - 1] += parseInt(data[i].J2) * parseInt(data[i].J1)
                    if (avgpeo[avgpeo.length - 1] == 0) {
                        avg[avg.length - 1] = 0
                    } else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1]) / parseInt(avgpeo[avgpeo.length - 1])
                    }
                    break
                case '7':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2) * parseInt(data[i].J1))
                    break
                case '6':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1] += parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1] += parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1] += parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1] += parseInt(data[i].J28)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1] += parseInt(data[i].J1)
                    avg[avg.length - 1] += parseInt(data[i].J2) * parseInt(data[i].J1)
                    if (avgpeo[avgpeo.length - 1] == 0) {
                        avg[avg.length - 1] = 0
                    } else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1]) / parseInt(avgpeo[avgpeo.length - 1])
                    }
                    break
                case '5':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2) * parseInt(data[i].J1))
                    break
                case '4':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1] += parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1] += parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1] += parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1] += parseInt(data[i].J28)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1] += parseInt(data[i].J1)
                    avg[avg.length - 1] += parseInt(data[i].J2) * parseInt(data[i].J1)
                    if (avgpeo[avgpeo.length - 1] == 0) {
                        avg[avg.length - 1] = 0
                    } else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1]) / parseInt(avgpeo[avgpeo.length - 1])
                    }
                    break
                case '3':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                case '2':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                default:
                    break
            }
        }

        for (i = 0; i < avg.length; i++) {
            avg[i] = avg[i].toFixed(0)
        }
        //30岁以下  数组相加
        var be30 = []

        lt20.forEach(function (val, index) {
            be30[index] = lt20[index] + gt20lt25[index]
        })


        var param = {
            lt20: lt20.reverse(),
            be30: be30.reverse(),
            gt20lt25: gt20lt25.reverse(),
            gt30lt35: gt30lt35.reverse(),
            gt40lt45: gt40lt45.reverse(),
            gt50lt55: gt50lt55.reverse(),
            gt60: gt60.reverse(),
            avg: avg.reverse()
        }

        return param
    }

    function converAllAgeData(data) {

        if (!data) {
            data = {}

            data.J23 = 0
            data.J25 = 0
            data.J27 = 0
            data.J29 = 0
            data.J30 = 0
            data.J43 = 0
            data.J45 = 0
            data.J47 = 0
            data.J49 = 0
            data.J50 = 0
        }

        var all = [
            data.J23 ? parseInt(data.J23) : 0,
            data.J25 ? parseInt(data.J25) : 0,
            data.J27 ? parseInt(data.J27) : 0,
            data.J29 ? parseInt(data.J29) : 0,
            data.J30 ? parseInt(data.J30) : 0
        ]

        var ma_rate = [
            parseInt(data.J23) - parseInt(data.J43) ? Math.floor((parseInt(data.J23) - parseInt(data.J43)) / parseInt(data.J23) * 10000) / 100 : 0,
            parseInt(data.J25) - parseInt(data.J45) ? Math.floor((parseInt(data.J25) - parseInt(data.J45)) / parseInt(data.J25) * 10000) / 100 : 0,
            parseInt(data.J27) - parseInt(data.J47) ? Math.floor((parseInt(data.J27) - parseInt(data.J47)) / parseInt(data.J27) * 10000) / 100 : 0,
            parseInt(data.J29) - parseInt(data.J49) ? Math.floor((parseInt(data.J29) - parseInt(data.J49)) / parseInt(data.J29) * 10000) / 100 : 0,
            parseInt(data.J30) - parseInt(data.J50) ? Math.floor((parseInt(data.J30) - parseInt(data.J50)) / parseInt(data.J30) * 10000) / 100 : 0
        ]

        var fe_rate = [
            parseInt(data.J43) ? Math.floor(parseInt(data.J43) / parseInt(data.J23) * 10000) / 100 : 0,
            parseInt(data.J45) ? Math.floor(parseInt(data.J45) / parseInt(data.J25) * 10000) / 100 : 0,
            parseInt(data.J47) ? Math.floor(parseInt(data.J47) / parseInt(data.J27) * 10000) / 100 : 0,
            parseInt(data.J49) ? Math.floor(parseInt(data.J49) / parseInt(data.J29) * 10000) / 100 : 0,
            parseInt(data.J50) ? Math.floor(parseInt(data.J50) / parseInt(data.J30) * 10000) / 100 : 0
        ]

        var ma_rate_avg = Math.floor((ma_rate[0] + ma_rate[1] + ma_rate[2] + ma_rate[3] + ma_rate[4]) / 5 * 100) / 100

        var ma_rate_avg_array = [
            ma_rate_avg,
            ma_rate_avg,
            ma_rate_avg,
            ma_rate_avg,
            ma_rate_avg
        ]

        var fe_rate_avg = Math.floor((fe_rate[0] + fe_rate[1] + fe_rate[2] + fe_rate[3] + fe_rate[4]) / 5 * 100) / 100

        var fe_rate_avg_array = [
            fe_rate_avg,
            fe_rate_avg,
            fe_rate_avg,
            fe_rate_avg,
            fe_rate_avg
        ]

        var param = {
            all: all,
            ma_rate: ma_rate,
            fe_rate: fe_rate,
            ma_rate_avg_array: ma_rate_avg_array,
            fe_rate_avg_array: fe_rate_avg_array
        }

        return param
    }


    function converAllXingzhiData(data) {
        consoledebug.log('数据格式 : ' + JSON.stringify(data))

        if (!data) {
            data = {}

            data.j51 = 0
            data.j52 = 0
            data.j53 = 0
            data.j54 = 0
            data.j55 = 0
            data.j56 = 0
            data.j57 = 0
            data.j58 = 0
            data.j59 = 0
            data.J60 = 0
            data.j61 = 0
            data.j62 = 0
        }

        var D1 = [],
            D2 = [],
            D3 = [],
            D4 = [],
            su1 = [],
            su2 = [],
            su3 = [],
            su4 = [];

        if (parseInt(data.j51) + parseInt(data.j55) + parseInt(data.j59) == 0) {
            D1 = [0.00, 0.00, 0.00]
            su1 = [0, 0, 0]
        } else {
            D1 = [
                data.j51 ? Math.floor(parseInt(data.j51) / (parseInt(data.j51) + parseInt(data.j55) + parseInt(data.j59)) * 10000) / 100 : 0,
                data.j55 ? Math.floor(parseInt(data.j55) / (parseInt(data.j51) + parseInt(data.j55) + parseInt(data.j59)) * 10000) / 100 : 0,
                data.j59 ? Math.floor(parseInt(data.j59) / (parseInt(data.j51) + parseInt(data.j55) + parseInt(data.j59)) * 10000) / 100 : 0
            ]
            su1 = [data.j51, data.j55, data.j59]
        }


        if (parseInt(data.j52) + parseInt(data.j56) + parseInt(data.j60) == 0) {
            D2 = [0.00, 0.00, 0.00]
            su2 = [0, 0, 0]
        } else {
            D2 = [
                data.j52 ? Math.floor(parseInt(data.j52) / (parseInt(data.j52) + parseInt(data.j56) + parseInt(data.j60)) * 10000) / 100 : 0,
                data.j56 ? Math.floor(parseInt(data.j56) / (parseInt(data.j52) + parseInt(data.j56) + parseInt(data.j60)) * 10000) / 100 : 0,
                data.j60 ? Math.floor(parseInt(data.j60) / (parseInt(data.j52) + parseInt(data.j56) + parseInt(data.j60)) * 10000) / 100 : 0
            ]
            su2 = [data.j52, data.j56, data.j60]
        }

        if (parseInt(data.j53) + parseInt(data.j57) + parseInt(data.j61) == 0) {
            D3 = [0.00, 0.00, 0.00]
            su3 = [0, 0, 0]
        } else {
            D3 = [
                data.j53 ? Math.floor(parseInt(data.j53) / (parseInt(data.j53) + parseInt(data.j57) + parseInt(data.j61)) * 10000) / 100 : 0,
                data.j57 ? Math.floor(parseInt(data.j57) / (parseInt(data.j53) + parseInt(data.j57) + parseInt(data.j61)) * 10000) / 100 : 0,
                data.j61 ? Math.floor(parseInt(data.j61) / (parseInt(data.j53) + parseInt(data.j57) + parseInt(data.j61)) * 10000) / 100 : 0
            ]
            su3 = [data.j53, data.j57, data.j61]
        }


        if (parseInt(data.j54) + parseInt(data.j58) + parseInt(data.j62) == 0) {
            D4 = [0.00, 0.00, 0.00]
            su4 = [0, 0, 0]
        } else {
            D4 = [
                data.j54 ? Math.floor(parseInt(data.j54) / (parseInt(data.j54) + parseInt(data.j58) + parseInt(data.j62)) * 10000) / 100 : 0,
                data.j58 ? Math.floor(parseInt(data.j58) / (parseInt(data.j54) + parseInt(data.j58) + parseInt(data.j62)) * 10000) / 100 : 0,
                data.j62 ? Math.floor(parseInt(data.j62) / (parseInt(data.j54) + parseInt(data.j58) + parseInt(data.j62)) * 10000) / 100 : 0
            ]
            su4 = [data.j54, data.j58, data.j62]
        }


        var param = {
            D1: D1,
            D2: D2,
            D3: D3,
            D4: D4,
            su1: su1,
            su2: su2,
            su3: su3,
            su4: su4
        }
        return param

    }


    function converAllYearData(data) {

        if (judgeIsAnyNullStr(data)) {
            return
        }
        consoledebug.log('首页右下图 : ' + JSON.stringify(data))

        var lt2 = []
        var gt2lt3 = []
        var gt3lt4 = []
        var gt4lt5 = []
        var gt5lt6 = []
        var gt6 = []
        var all = []

        var su1 = []
        var su2 = []
        var su3 = []
        var su4 = []
        var su5 = []
        var su6 = []

        for (var i = data.length - 1; i >= 0; i--) {
            switch (all_year_type) {
                case 'zhengfu':
                    switch (data[i].ROWSID) {
                        case '19':
                            lt2.push(parseInt(data[i].J31))
                            gt2lt3.push(parseInt(data[i].J32))
                            gt3lt4.push(parseInt(data[i].J33))
                            gt4lt5.push(parseInt(data[i].J34))
                            gt5lt6.push(parseInt(data[i].J35))
                            gt6.push(parseInt(data[i].J40))
                            all.push(parseInt(data[i].J1))


                            su1.push(parseInt(data[i].J31))
                            su2.push(parseInt(data[i].J32))
                            su3.push(parseInt(data[i].J33))
                            su4.push(parseInt(data[i].J34))
                            su5.push(parseInt(data[i].J35))
                            su6.push(parseInt(data[i].J40))
                            break
                        case '17':
                            lt2[lt2.length - 1] += parseInt(data[i].J31)
                            gt2lt3[gt2lt3.length - 1] += parseInt(data[i].J32)
                            gt3lt4[gt3lt4.length - 1] += parseInt(data[i].J33)
                            gt4lt5[gt4lt5.length - 1] += parseInt(data[i].J34)
                            gt5lt6[gt5lt6.length - 1] += parseInt(data[i].J35)
                            gt6[gt6.length - 1] += parseInt(data[i].J40)
                            all[all.length - 1] += parseInt(data[i].J1)

                            su1[su1.length - 1] += parseInt(data[i].J31)
                            su2[su2.length - 1] += parseInt(data[i].J32)
                            su3[su3.length - 1] += parseInt(data[i].J33)
                            su4[su4.length - 1] += parseInt(data[i].J34)
                            su5[su5.length - 1] += parseInt(data[i].J35)
                            su6[su6.length - 1] += parseInt(data[i].J40)

                            break
                        case '16':
                            lt2[lt2.length - 1] += parseInt(data[i].J31)
                            gt2lt3[gt2lt3.length - 1] += parseInt(data[i].J32)
                            gt3lt4[gt3lt4.length - 1] += parseInt(data[i].J33)
                            gt4lt5[gt4lt5.length - 1] += parseInt(data[i].J34)
                            gt5lt6[gt5lt6.length - 1] += parseInt(data[i].J35)
                            gt6[gt6.length - 1] += parseInt(data[i].J40)


                            su1[su1.length - 1] += parseInt(data[i].J31)
                            su2[su2.length - 1] += parseInt(data[i].J32)
                            su3[su3.length - 1] += parseInt(data[i].J33)
                            su4[su4.length - 1] += parseInt(data[i].J34)
                            su5[su5.length - 1] += parseInt(data[i].J35)
                            su6[su6.length - 1] += parseInt(data[i].J40)


                            all[all.length - 1] += parseInt(data[i].J1)
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '15':
                            lt2.push(parseInt(data[i].J31))
                            gt2lt3.push(parseInt(data[i].J32))
                            gt3lt4.push(parseInt(data[i].J33))
                            gt4lt5.push(parseInt(data[i].J34))
                            gt5lt6.push(parseInt(data[i].J35))
                            gt6.push(parseInt(data[i].J40))
                            all.push(parseInt(data[i].J1))

                            su1.push(parseInt(data[i].J31))
                            su2.push(parseInt(data[i].J32))
                            su3.push(parseInt(data[i].J33))
                            su4.push(parseInt(data[i].J34))
                            su5.push(parseInt(data[i].J35))
                            su6.push(parseInt(data[i].J40))
                            break
                        case '14':
                            lt2[lt2.length - 1] += parseInt(data[i].J31)
                            gt2lt3[gt2lt3.length - 1] += parseInt(data[i].J32)
                            gt3lt4[gt3lt4.length - 1] += parseInt(data[i].J33)
                            gt4lt5[gt4lt5.length - 1] += parseInt(data[i].J34)
                            gt5lt6[gt5lt6.length - 1] += parseInt(data[i].J35)
                            gt6[gt6.length - 1] += parseInt(data[i].J40)

                            su1[su1.length - 1] += parseInt(data[i].J31)
                            su2[su2.length - 1] += parseInt(data[i].J32)
                            su3[su3.length - 1] += parseInt(data[i].J33)
                            su4[su4.length - 1] += parseInt(data[i].J34)
                            su5[su5.length - 1] += parseInt(data[i].J35)
                            su6[su6.length - 1] += parseInt(data[i].J40)

                            all[all.length - 1] += parseInt(data[i].J1)
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '13':
                            lt2.push(parseInt(data[i].J31))
                            gt2lt3.push(parseInt(data[i].J32))
                            gt3lt4.push(parseInt(data[i].J33))
                            gt4lt5.push(parseInt(data[i].J34))
                            gt5lt6.push(parseInt(data[i].J35))
                            gt6.push(parseInt(data[i].J40))
                            all.push(parseInt(data[i].J1))

                            su1.push(parseInt(data[i].J31))
                            su2.push(parseInt(data[i].J32))
                            su3.push(parseInt(data[i].J33))
                            su4.push(parseInt(data[i].J34))
                            su5.push(parseInt(data[i].J35))
                            su6.push(parseInt(data[i].J40))
                            break
                        case '12':
                            lt2[lt2.length - 1] += parseInt(data[i].J31)
                            gt2lt3[gt2lt3.length - 1] += parseInt(data[i].J32)
                            gt3lt4[gt3lt4.length - 1] += parseInt(data[i].J33)
                            gt4lt5[gt4lt5.length - 1] += parseInt(data[i].J34)
                            gt5lt6[gt5lt6.length - 1] += parseInt(data[i].J35)
                            gt6[gt6.length - 1] += parseInt(data[i].J40)

                            su1[su1.length - 1] += parseInt(data[i].J31)
                            su2[su2.length - 1] += parseInt(data[i].J32)
                            su3[su3.length - 1] += parseInt(data[i].J33)
                            su4[su4.length - 1] += parseInt(data[i].J34)
                            su5[su5.length - 1] += parseInt(data[i].J35)
                            su6[su6.length - 1] += parseInt(data[i].J40)

                            all[all.length - 1] += parseInt(data[i].J1)
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '11':
                            lt2.push(parseInt(data[i].J31))
                            gt2lt3.push(parseInt(data[i].J32))
                            gt3lt4.push(parseInt(data[i].J33))
                            gt4lt5.push(parseInt(data[i].J34))
                            gt5lt6.push(parseInt(data[i].J35))
                            gt6.push(parseInt(data[i].J40))
                            all.push(parseInt(data[i].J1))

                            su1.push(parseInt(data[i].J31))
                            su2.push(parseInt(data[i].J32))
                            su3.push(parseInt(data[i].J33))
                            su4.push(parseInt(data[i].J34))
                            su5.push(parseInt(data[i].J35))
                            su6.push(parseInt(data[i].J40))
                            break
                        case '10':
                            lt2[lt2.length - 1] += parseInt(data[i].J31)
                            gt2lt3[gt2lt3.length - 1] += parseInt(data[i].J32)
                            gt3lt4[gt3lt4.length - 1] += parseInt(data[i].J33)
                            gt4lt5[gt4lt5.length - 1] += parseInt(data[i].J34)
                            gt5lt6[gt5lt6.length - 1] += parseInt(data[i].J35)
                            gt6[gt6.length - 1] += parseInt(data[i].J40)

                            su1[su1.length - 1] += parseInt(data[i].J31)
                            su2[su2.length - 1] += parseInt(data[i].J32)
                            su3[su3.length - 1] += parseInt(data[i].J33)
                            su4[su4.length - 1] += parseInt(data[i].J34)
                            su5[su5.length - 1] += parseInt(data[i].J35)
                            su6[su6.length - 1] += parseInt(data[i].J40)

                            all[all.length - 1] += parseInt(data[i].J1)
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '9':
                            lt2.push(parseInt(data[i].J31))
                            gt2lt3.push(parseInt(data[i].J32))
                            gt3lt4.push(parseInt(data[i].J33))
                            gt4lt5.push(parseInt(data[i].J34))
                            gt5lt6.push(parseInt(data[i].J35))
                            gt6.push(parseInt(data[i].J40))
                            all.push(parseInt(data[i].J1))

                            su1.push(parseInt(data[i].J31))
                            su2.push(parseInt(data[i].J32))
                            su3.push(parseInt(data[i].J33))
                            su4.push(parseInt(data[i].J34))
                            su5.push(parseInt(data[i].J35))
                            su6.push(parseInt(data[i].J40))
                            break
                        case '8':
                            lt2[lt2.length - 1] += parseInt(data[i].J31)
                            gt2lt3[gt2lt3.length - 1] += parseInt(data[i].J32)
                            gt3lt4[gt3lt4.length - 1] += parseInt(data[i].J33)
                            gt4lt5[gt4lt5.length - 1] += parseInt(data[i].J34)
                            gt5lt6[gt5lt6.length - 1] += parseInt(data[i].J35)
                            gt6[gt6.length - 1] += parseInt(data[i].J40)

                            su1[su1.length - 1] += parseInt(data[i].J31)
                            su2[su2.length - 1] += parseInt(data[i].J32)
                            su3[su3.length - 1] += parseInt(data[i].J33)
                            su4[su4.length - 1] += parseInt(data[i].J34)
                            su5[su5.length - 1] += parseInt(data[i].J35)
                            su6[su6.length - 1] += parseInt(data[i].J40)

                            all[all.length - 1] += parseInt(data[i].J1)
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '7':
                            lt2.push(parseInt(data[i].J31))
                            gt2lt3.push(parseInt(data[i].J32))
                            gt3lt4.push(parseInt(data[i].J33))
                            gt4lt5.push(parseInt(data[i].J34))
                            gt5lt6.push(parseInt(data[i].J35))
                            gt6.push(parseInt(data[i].J40))
                            all.push(parseInt(data[i].J1))

                            su1.push(parseInt(data[i].J31))
                            su2.push(parseInt(data[i].J32))
                            su3.push(parseInt(data[i].J33))
                            su4.push(parseInt(data[i].J34))
                            su5.push(parseInt(data[i].J35))
                            su6.push(parseInt(data[i].J40))
                            break
                        case '6':
                            lt2[lt2.length - 1] += parseInt(data[i].J31)
                            gt2lt3[gt2lt3.length - 1] += parseInt(data[i].J32)
                            gt3lt4[gt3lt4.length - 1] += parseInt(data[i].J33)
                            gt4lt5[gt4lt5.length - 1] += parseInt(data[i].J34)
                            gt5lt6[gt5lt6.length - 1] += parseInt(data[i].J35)
                            gt6[gt6.length - 1] += parseInt(data[i].J40)

                            su1[su1.length - 1] += parseInt(data[i].J31)
                            su2[su2.length - 1] += parseInt(data[i].J32)
                            su3[su3.length - 1] += parseInt(data[i].J33)
                            su4[su4.length - 1] += parseInt(data[i].J34)
                            su5[su5.length - 1] += parseInt(data[i].J35)
                            su6[su6.length - 1] += parseInt(data[i].J40)

                            all[all.length - 1] += parseInt(data[i].J1)
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '5':
                            lt2.push(parseInt(data[i].J31))
                            gt2lt3.push(parseInt(data[i].J32))
                            gt3lt4.push(parseInt(data[i].J33))
                            gt4lt5.push(parseInt(data[i].J34))
                            gt5lt6.push(parseInt(data[i].J35))
                            gt6.push(parseInt(data[i].J40))
                            all.push(parseInt(data[i].J1))

                            su1.push(parseInt(data[i].J31))
                            su2.push(parseInt(data[i].J32))
                            su3.push(parseInt(data[i].J33))
                            su4.push(parseInt(data[i].J34))
                            su5.push(parseInt(data[i].J35))
                            su6.push(parseInt(data[i].J40))
                            break
                        case '4':
                            lt2[lt2.length - 1] += parseInt(data[i].J31)
                            gt2lt3[gt2lt3.length - 1] += parseInt(data[i].J32)
                            gt3lt4[gt3lt4.length - 1] += parseInt(data[i].J33)
                            gt4lt5[gt4lt5.length - 1] += parseInt(data[i].J34)
                            gt5lt6[gt5lt6.length - 1] += parseInt(data[i].J35)
                            gt6[gt6.length - 1] += parseInt(data[i].J40)

                            su1[su1.length - 1] += parseInt(data[i].J31)
                            su2[su2.length - 1] += parseInt(data[i].J32)
                            su3[su3.length - 1] += parseInt(data[i].J33)
                            su4[su4.length - 1] += parseInt(data[i].J34)
                            su5[su5.length - 1] += parseInt(data[i].J35)
                            su6[su6.length - 1] += parseInt(data[i].J40)

                            all[all.length - 1] += parseInt(data[i].J1)
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '3':
                            lt2.push(parseInt(data[i].J31))
                            gt2lt3.push(parseInt(data[i].J32))
                            gt3lt4.push(parseInt(data[i].J33))
                            gt4lt5.push(parseInt(data[i].J34))
                            gt5lt6.push(parseInt(data[i].J35))
                            gt6.push(parseInt(data[i].J40))
                            all.push(parseInt(data[i].J1))

                            su1.push(parseInt(data[i].J31))
                            su2.push(parseInt(data[i].J32))
                            su3.push(parseInt(data[i].J33))
                            su4.push(parseInt(data[i].J34))
                            su5.push(parseInt(data[i].J35))
                            su6.push(parseInt(data[i].J40))


                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '2':
                            lt2.push(parseInt(data[i].J31))
                            gt2lt3.push(parseInt(data[i].J32))
                            gt3lt4.push(parseInt(data[i].J33))
                            gt4lt5.push(parseInt(data[i].J34))
                            gt5lt6.push(parseInt(data[i].J35))
                            gt6.push(parseInt(data[i].J40))
                            all.push(parseInt(data[i].J1))

                            su1.push(parseInt(data[i].J31))
                            su2.push(parseInt(data[i].J32))
                            su3.push(parseInt(data[i].J33))
                            su4.push(parseInt(data[i].J34))
                            su5.push(parseInt(data[i].J35))
                            su6.push(parseInt(data[i].J40))

                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        default:
                            break
                    }
                    break
                case 'jingcha':
                    switch (data[i].ROWSID) {
                        case '10':
                            lt2.push(parseInt(data[i].J29))
                            gt2lt3.push(parseInt(data[i].J30))
                            gt3lt4.push(parseInt(data[i].J31))
                            gt4lt5.push(parseInt(data[i].J32))
                            gt5lt6.push(parseInt(data[i].J33))
                            gt6.push(parseInt(data[i].J38))
                            all.push(parseInt(data[i].J1))


                            su1.push(parseInt(data[i].J29))
                            su2.push(parseInt(data[i].J30))
                            su3.push(parseInt(data[i].J31))
                            su4.push(parseInt(data[i].J32))
                            su5.push(parseInt(data[i].J33))
                            su6.push(parseInt(data[i].J38))


                            break
                        case '9':
                            lt2[lt2.length - 1] += parseInt(data[i].J29)
                            gt2lt3[gt2lt3.length - 1] += parseInt(data[i].J30)
                            gt3lt4[gt3lt4.length - 1] += parseInt(data[i].J31)
                            gt4lt5[gt4lt5.length - 1] += parseInt(data[i].J32)
                            gt5lt6[gt5lt6.length - 1] += parseInt(data[i].J33)
                            gt6[gt6.length - 1] += parseInt(data[i].J38)

                            su1[su1.length - 1] += parseInt(data[i].J29)
                            su2[su2.length - 1] += parseInt(data[i].J30)
                            su3[su3.length - 1] += parseInt(data[i].J31)
                            su4[su4.length - 1] += parseInt(data[i].J32)
                            su5[su5.length - 1] += parseInt(data[i].J33)
                            su6[su6.length - 1] += parseInt(data[i].J38)

                            all[all.length - 1] += parseInt(data[i].J1)
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '8':
                            lt2.push(parseInt(data[i].J29))
                            gt2lt3.push(parseInt(data[i].J30))
                            gt3lt4.push(parseInt(data[i].J31))
                            gt4lt5.push(parseInt(data[i].J32))
                            gt5lt6.push(parseInt(data[i].J33))
                            gt6.push(parseInt(data[i].J38))


                            su1.push(parseInt(data[i].J29))
                            su2.push(parseInt(data[i].J30))
                            su3.push(parseInt(data[i].J31))
                            su4.push(parseInt(data[i].J32))
                            su5.push(parseInt(data[i].J33))
                            su6.push(parseInt(data[i].J38))

                            all.push(parseInt(data[i].J1))
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '7':
                            lt2.push(parseInt(data[i].J29))
                            gt2lt3.push(parseInt(data[i].J30))
                            gt3lt4.push(parseInt(data[i].J31))
                            gt4lt5.push(parseInt(data[i].J32))
                            gt5lt6.push(parseInt(data[i].J33))
                            gt6.push(parseInt(data[i].J38))


                            su1.push(parseInt(data[i].J29))
                            su2.push(parseInt(data[i].J30))
                            su3.push(parseInt(data[i].J31))
                            su4.push(parseInt(data[i].J32))
                            su5.push(parseInt(data[i].J33))
                            su6.push(parseInt(data[i].J38))

                            all.push(parseInt(data[i].J1))
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '6':
                            lt2.push(parseInt(data[i].J29))
                            gt2lt3.push(parseInt(data[i].J30))
                            gt3lt4.push(parseInt(data[i].J31))
                            gt4lt5.push(parseInt(data[i].J32))
                            gt5lt6.push(parseInt(data[i].J33))
                            gt6.push(parseInt(data[i].J38))


                            su1.push(parseInt(data[i].J29))
                            su2.push(parseInt(data[i].J30))
                            su3.push(parseInt(data[i].J31))
                            su4.push(parseInt(data[i].J32))
                            su5.push(parseInt(data[i].J33))
                            su6.push(parseInt(data[i].J38))

                            all.push(parseInt(data[i].J1))
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '5':
                            lt2.push(parseInt(data[i].J29))
                            gt2lt3.push(parseInt(data[i].J30))
                            gt3lt4.push(parseInt(data[i].J31))
                            gt4lt5.push(parseInt(data[i].J32))
                            gt5lt6.push(parseInt(data[i].J33))
                            gt6.push(parseInt(data[i].J38))


                            su1.push(parseInt(data[i].J29))
                            su2.push(parseInt(data[i].J30))
                            su3.push(parseInt(data[i].J31))
                            su4.push(parseInt(data[i].J32))
                            su5.push(parseInt(data[i].J33))
                            su6.push(parseInt(data[i].J38))

                            all.push(parseInt(data[i].J1))
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '4':
                            lt2.push(parseInt(data[i].J29))
                            gt2lt3.push(parseInt(data[i].J30))
                            gt3lt4.push(parseInt(data[i].J31))
                            gt4lt5.push(parseInt(data[i].J32))
                            gt5lt6.push(parseInt(data[i].J33))
                            gt6.push(parseInt(data[i].J38))


                            su1.push(parseInt(data[i].J29))
                            su2.push(parseInt(data[i].J30))
                            su3.push(parseInt(data[i].J31))
                            su4.push(parseInt(data[i].J32))
                            su5.push(parseInt(data[i].J33))
                            su6.push(parseInt(data[i].J38))

                            all.push(parseInt(data[i].J1))
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '3':
                            lt2.push(parseInt(data[i].J29))
                            gt2lt3.push(parseInt(data[i].J30))
                            gt3lt4.push(parseInt(data[i].J31))
                            gt4lt5.push(parseInt(data[i].J32))
                            gt5lt6.push(parseInt(data[i].J33))
                            gt6.push(parseInt(data[i].J38))


                            su1.push(parseInt(data[i].J29))
                            su2.push(parseInt(data[i].J30))
                            su3.push(parseInt(data[i].J31))
                            su4.push(parseInt(data[i].J32))
                            su5.push(parseInt(data[i].J33))
                            su6.push(parseInt(data[i].J38))

                            all.push(parseInt(data[i].J1))
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        case '2':
                            lt2.push(parseInt(data[i].J29))
                            gt2lt3.push(parseInt(data[i].J30))
                            gt3lt4.push(parseInt(data[i].J31))
                            gt4lt5.push(parseInt(data[i].J32))
                            gt5lt6.push(parseInt(data[i].J33))
                            gt6.push(parseInt(data[i].J38))


                            su1.push(parseInt(data[i].J29))
                            su2.push(parseInt(data[i].J30))
                            su3.push(parseInt(data[i].J31))
                            su4.push(parseInt(data[i].J32))
                            su5.push(parseInt(data[i].J33))
                            su6.push(parseInt(data[i].J38))

                            all.push(parseInt(data[i].J1))
                            lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                            break
                        default:
                            break
                    }
                    break
                default:
                    break
            }
        }
        //保留小数点后2位
        for (i = 0; i < lt2.length; i++) {
            lt2[i] = lt2[i].toFixed(2)
        }
        for (i = 0; i < gt2lt3.length; i++) {
            gt2lt3[i] = gt2lt3[i].toFixed(2)
        }
        for (i = 0; i < gt3lt4.length; i++) {
            gt3lt4[i] = gt3lt4[i].toFixed(2)
        }
        for (i = 0; i < gt4lt5.length; i++) {
            gt4lt5[i] = gt4lt5[i].toFixed(2)
        }
        for (i = 0; i < gt5lt6.length; i++) {
            gt5lt6[i] = gt5lt6[i].toFixed(2)
        }
        for (i = 0; i < gt6.length; i++) {
            gt6[i] = gt6[i].toFixed(2)
        }


        var param = {
            lt2: lt2,
            gt2lt3: gt2lt3,
            gt3lt4: gt3lt4,
            gt4lt5: gt4lt5,
            gt5lt6: gt5lt6,
            gt6: gt6,

            su1: su1,
            su2: su2,
            su3: su3,
            su4: su4,
            su5: su5,
            su6: su6
        }

        consoledebug.log('首页右下图数据 : ' + JSON.stringify(param))
        return param
    }


    var place_array = [
        {
            NAME: place_array_NAME,
            ID: place_array_ID
        }
    ]

    var _place_array = null

    function getDW(code) {
        $('#dw-list-content').empty()

        selectSql(converPlaceWithCode(code), function (ret, err) {
            consoledebug.log('selectSql converPlaceWithCode ret is : ' + JSON.stringify(ret))
            consoledebug.log('selectSql converPlaceWithCode err is : ' + JSON.stringify(err))

            if (ret.status) {
                var data = ret.data

                for (var i = 0; i < data.length; i++) {
                    loadListHtml(data[i])
                }

                $('#danxuanqu').slideDown()
            } else {

            }
        })
    }

    function clickTop(el) {

        var name = $(el).text()
        var code = $(el).attr('data-code')


        var item = {
            place_array: place_array,
            name: name,
            code: code,
            type: 1
        }
        comOpenFrame('filtercity', './echartsframelist/', false, item, 3);

    }


    function clickConfirm(type) {
        consoledebug.log('城市数组: ' + JSON.stringify(place_array_NAME))
        if (type == '1') {
            place_array = [
                {
                    NAME: place_array_NAME,
                    ID: place_array_ID
                }
            ]
            place_code = place_array_ID
            place_name = place_array_NAME
        } else if (type == '2') {

        } else {
            place_code = $('#dw-bottom-content li').last().find('a').attr('data-code')
            place_name = $('#dw-bottom-content li').last().find('a').text()
        }

        consoledebug.log('走二传入place_code : ' + JSON.stringify(place_code))

        $('#dw-top-content').empty()

        $("#danwei-message-content").empty()

        for (var i = 0; i < place_array.length; i++) {
            consoledebug.log('城市数组: ' + JSON.stringify(place_array))
            loadTopHtml(place_array[i])

        }

        consoledebug.log('place_code is : ' + place_code)

        $('#danxuanqu').slideUp()


        clickqgzy()
    }

    function clickCancel() {
        $('#danxuanqu').slideUp()

        place_array = _.clone(_place_array)
    }

    function loadTopHtml(data) {
        var interText = doT.template($("#dw-top-template").text())
        $("#dw-top-content").append(interText(data))
    }

    function loadBottomHtml(data) {
        var interText = doT.template($("#dw-bottom-template").text())
        $("#dw-bottom-content").append(interText(data))
    }

    function loadListHtml(data) {
        var interText = doT.template($("#dw-list-template").text())
        $("#dw-list-content").append(interText(data))
    }

    function converPlaceWithCode(place_code) {
        var sql = "SELECT ID,NAME FROM RS_UNMK WHERE SID='" + place_code + "'"

        return sql
    }


    var contnub = true
    var contnubmid = true

    var place_code_cha = 0


    $('.middle_tab').on('click', function (el, index) {
        consoledebug.log('this id is : ' + $(this).attr('id'))

        var id = $(this).attr('id')

        var citynum
        if (id == 'one3') {
            citynum = 0
        } else {
            citynum = 1
        }
        api.sendEvent({
            name: 'frame0',
            extra: {
                data: citynum
            }
        });


        switch (id) {
            case 'one1':    //行政
                middle_type = 'xingzheng'
                place_code = 0

                $(".middle_tab").removeClass('tips');
                $("#one1").addClass('tips');
                $(".cont_one_2_1").addClass('aui-hide');
                $("#cont_one_3").hide();
                $("#cont_one_1").show();

                contnub = false
                place_code_cha = 0
                contnubmid = true
                clickConfirm()
                break
            case 'one2':     //中央
                middle_type = 'zhongyang'
                place_code = place_array_ID

                $(".middle_tab").removeClass('tips');
                $("#one2").addClass('tips');
                $("#cont_one_1").hide();
                $("#cont_one_3").hide();
                $(".cont_one_2_1").removeClass('aui-hide');


                contnub = true
                place_code_cha = 1
                contnubmid = false
                clickConfirm('1')
                break
            case 'one3':     //全国
                middle_type = 'xingzheng'
                place_code = 0

                $(".middle_tab").removeClass('tips');
                $("#one3").addClass('tips');
                $(".cont_one_2_1").addClass('aui-hide');
                $("#cont_one_3").show();


                contnub = true
                place_code_cha = 0
                contnubmid = true
                clickConfirm()
                break
            default:
                break
        }

        map_name = 'china'
        old_map_name = 'china'
        current_map_level = 1

        place_code = 0

        //  place_name = ''


        old_place_name = ''

        old_all = 0
        old_nv = 0
        old_shao = 0
        old_fei = 0

        old_nv_rate = 0
        old_shao_rate = 0
        old_fei_rate = 0

        xuanze_flag = false

        type = 'all'
        all_year_type = 'zhengfu'


        place_array = [
            {
                NAME: place_array_NAME,
                ID: place_array_ID
            }
        ]

        _place_array = null

        clicktip(1)

        switch (middle_type) {
            case 'xingzheng':
                selectSql(converPlaceSql(place_code), function (ret, err) {
                    if (ret.status) {
                        showMapChart(ret.data)
                    } else {

                    }
                })
                break
            case 'zhongyang':
                clickqgzy()
                break
            default:
                break
        }
    })


    function clicktip(index) {
        if (index == 1) {
            $("#four2").removeClass("tips")
            $("#four1").addClass("tips")
            all_year_type = 'zhengfu'
        } else {
            $("#four1").removeClass("tips")
            $("#four2").addClass("tips")
            all_year_type = 'jingcha'
        }

        consoledebug.log('middle_type is : ' + middle_type)

        selectSql(converAllYearSql(place_code), function (ret, err) {
            consoledebug.log('converAllYearSql ' + all_year_type + ' ret is : ' + JSON.stringify(ret))
            consoledebug.log('converAllYearSql ' + all_year_type + ' ret is : ' + JSON.stringify(err))
            var data = ret.data
            consoledebug.log('任职年限3')
            showRightBottomChart(data)
        })
    }


    function clickqgzy() {


        selectSql(converZhongyangYearSql(place_code), function (ret, err) {
            consoledebug.log('converZhongyangYearSql ret is : ' + JSON.stringify(ret))
            consoledebug.log('converZhongyangYearSql err is : ' + JSON.stringify(err))

            if (ret.status) {
                showMiddleTopZhongyangChart(ret.data[0])

                showMiddleTopZhongyangChartwo(ret.data[0])
            }
        })
        consoledebug.log('报错id: ' + JSON.stringify(place_code))
        selectSql(converZhongyangZhibiaoSql(place_code), function (ret, err) {
            consoledebug.log('报错位置: ' + JSON.stringify(place_code))


            if (ret.status) {
                if (ret.data[0]) {
                    var data = ret.data[0]

                    var J2 = data.j2 ? data.j2 : 0
                    var J15 = data.J15 ? data.J15 : 0
                    var J19 = data.J19 ? data.J19 : 0
                    var J1 = data.J1 ? data.J1 : 0
                    var J40 = data.J40 ? data.J40 : 0
                } else {
                    var J2 = 0
                    var J15 = 0
                    var J19 = 0
                    var J1 = 0
                    var J40 = 0
                }

                //中上6 块数据
                $('.J2').text(J2 + ' 岁')
                $('.J15').text(J15 + '人')
                $('.J19').text(J19 + '人')
                $('.J1').text(J1 + '人')
                $('.J40').text(J40 + '人')
            }


        })


        selectSql(converZhongyangChuNvSql(place_code), function (ret, err) {
            consoledebug.log('converZhongyangChuNvSql ret is : ' + JSON.stringify(ret))
            consoledebug.log('converZhongyangChuNvSql err is : ' + JSON.stringify(err))

            if (ret.status) {
                var data = ret.data[0]

                var J5 = data.J5 ? data.J5 : 0

                $('.J5').text(J5 + '人')
            }
        })

        selectSql(converNSFSql(place_code), function (ret, err) {
            if (ret.status) {
                var data = ret.data[0]
                consoledebug.log('走一 ' + JSON.stringify(data))
                showLeftTopChart(data)
            }
        })

        selectSql(converAllXueliSql(place_code), function (ret, err) {
            if (ret.status) {
                var data = ret.data[0]

                showleftBottomChart(data)
            }
        })

        selectSql(converAllJibieSql(place_code), function (ret, err) {
            if (ret.status) {
                var data = ret.data

                showMiddleBottomChart(data)
            }
        })


        //原右上角服务
//        selectSql(converAllsannkhSql(place_code), function (ret, err) {
//            if (ret.status) {
//                var data = ret.data
//
//                showRightTopChart(data)
//            }
//        })


        //修改后右上角服务 及sql
        selectSql(converCengciAgeWithCodeSql(place_code), function (ret, err) {
            if (ret.status) {
                var data = ret.data

                showFrm0RightTopChart(data)
            } else {

            }
        })

        selectSql(converAllYearSql(place_code), function (ret, err) {
            if (ret.status) {
                var data = ret.data
                consoledebug.log('任职年限4')
                showRightBottomChart(data)
            }
        })

    }


    function converCengciAgeWithCodeData(data) {


        var lt20 = []
        var gt21lt25 = []
        var gt26lt30 = []
        var gt31lt35 = []
        var gt36lt40 = []
        var gt41lt45 = []
        var gt46lt50 = []
        var gt51lt55 = []
        var gt56lt59 = []
        var gt60 = []
        var all = []

        var su1 = []
        var su2 = []
        var su3 = []
        var su4 = []
        var su5 = []
        var su6 = []
        var su7 = []
        var su8 = []
        var su9 = []
        var su10 = []


        for (var i = data.length - 1; i >= 0; i--) {
            switch (data[i].ROWSID) {
                case '19':
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                case '17':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1] += parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1] += parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1] += parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1] += parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1] += parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1] += parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1] += parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1] += parseInt(data[i].J29)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)
                    all[all.length - 1] += parseInt(data[i].J1)


                    su1[su1.length - 1] += parseInt(data[i].J21)
                    su2[su2.length - 1] += parseInt(data[i].J22)
                    su3[su3.length - 1] += parseInt(data[i].J23)
                    su4[su4.length - 1] += parseInt(data[i].J24)
                    su5[su5.length - 1] += parseInt(data[i].J25)
                    su6[su6.length - 1] += parseInt(data[i].J26)
                    su7[su7.length - 1] += parseInt(data[i].J27)
                    su8[su8.length - 1] += parseInt(data[i].J28)
                    su9[su9.length - 1] += parseInt(data[i].J29)
                    su10[su10.length - 1] += parseInt(data[i].J30)
                    break
                case '16':
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1] += parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1] += parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1] += parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1] += parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1] += parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1] += parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1] += parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1] += parseInt(data[i].J29)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)


                    su1[su1.length - 1] += parseInt(data[i].J21)
                    su2[su2.length - 1] += parseInt(data[i].J22)
                    su3[su3.length - 1] += parseInt(data[i].J23)
                    su4[su4.length - 1] += parseInt(data[i].J24)
                    su5[su5.length - 1] += parseInt(data[i].J25)
                    su6[su6.length - 1] += parseInt(data[i].J26)
                    su7[su7.length - 1] += parseInt(data[i].J27)
                    su8[su8.length - 1] += parseInt(data[i].J28)
                    su9[su9.length - 1] += parseInt(data[i].J29)
                    su10[su10.length - 1] += parseInt(data[i].J30)


                    all[all.length - 1] += parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0


                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '15' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '14' :
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1] += parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1] += parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1] += parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1] += parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1] += parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1] += parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1] += parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1] += parseInt(data[i].J29)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)

                    su1[su1.length - 1] += parseInt(data[i].J21)
                    su2[su2.length - 1] += parseInt(data[i].J22)
                    su3[su3.length - 1] += parseInt(data[i].J23)
                    su4[su4.length - 1] += parseInt(data[i].J24)
                    su5[su5.length - 1] += parseInt(data[i].J25)
                    su6[su6.length - 1] += parseInt(data[i].J26)
                    su7[su7.length - 1] += parseInt(data[i].J27)
                    su8[su8.length - 1] += parseInt(data[i].J28)
                    su9[su9.length - 1] += parseInt(data[i].J29)
                    su10[su10.length - 1] += parseInt(data[i].J30)


                    all[all.length - 1] += parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '13' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '12' :
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1] += parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1] += parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1] += parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1] += parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1] += parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1] += parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1] += parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1] += parseInt(data[i].J29)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)

                    su1[su1.length - 1] += parseInt(data[i].J21)
                    su2[su2.length - 1] += parseInt(data[i].J22)
                    su3[su3.length - 1] += parseInt(data[i].J23)
                    su4[su4.length - 1] += parseInt(data[i].J24)
                    su5[su5.length - 1] += parseInt(data[i].J25)
                    su6[su6.length - 1] += parseInt(data[i].J26)
                    su7[su7.length - 1] += parseInt(data[i].J27)
                    su8[su8.length - 1] += parseInt(data[i].J28)
                    su9[su9.length - 1] += parseInt(data[i].J29)
                    su10[su10.length - 1] += parseInt(data[i].J30)


                    all[all.length - 1] += parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '11' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '10' :
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1] += parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1] += parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1] += parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1] += parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1] += parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1] += parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1] += parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1] += parseInt(data[i].J29)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)

                    su1[su1.length - 1] += parseInt(data[i].J21)
                    su2[su2.length - 1] += parseInt(data[i].J22)
                    su3[su3.length - 1] += parseInt(data[i].J23)
                    su4[su4.length - 1] += parseInt(data[i].J24)
                    su5[su5.length - 1] += parseInt(data[i].J25)
                    su6[su6.length - 1] += parseInt(data[i].J26)
                    su7[su7.length - 1] += parseInt(data[i].J27)
                    su8[su8.length - 1] += parseInt(data[i].J28)
                    su9[su9.length - 1] += parseInt(data[i].J29)
                    su10[su10.length - 1] += parseInt(data[i].J30)

                    all[all.length - 1] += parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '9' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '8' :
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1] += parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1] += parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1] += parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1] += parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1] += parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1] += parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1] += parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1] += parseInt(data[i].J29)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)

                    su1[su1.length - 1] += parseInt(data[i].J21)
                    su2[su2.length - 1] += parseInt(data[i].J22)
                    su3[su3.length - 1] += parseInt(data[i].J23)
                    su4[su4.length - 1] += parseInt(data[i].J24)
                    su5[su5.length - 1] += parseInt(data[i].J25)
                    su6[su6.length - 1] += parseInt(data[i].J26)
                    su7[su7.length - 1] += parseInt(data[i].J27)
                    su8[su8.length - 1] += parseInt(data[i].J28)
                    su9[su9.length - 1] += parseInt(data[i].J29)
                    su10[su10.length - 1] += parseInt(data[i].J30)

                    all[all.length - 1] += parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '7' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '6' :
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1] += parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1] += parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1] += parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1] += parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1] += parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1] += parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1] += parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1] += parseInt(data[i].J29)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)

                    su1[su1.length - 1] += parseInt(data[i].J21)
                    su2[su2.length - 1] += parseInt(data[i].J22)
                    su3[su3.length - 1] += parseInt(data[i].J23)
                    su4[su4.length - 1] += parseInt(data[i].J24)
                    su5[su5.length - 1] += parseInt(data[i].J25)
                    su6[su6.length - 1] += parseInt(data[i].J26)
                    su7[su7.length - 1] += parseInt(data[i].J27)
                    su8[su8.length - 1] += parseInt(data[i].J28)
                    su9[su9.length - 1] += parseInt(data[i].J29)
                    su10[su10.length - 1] += parseInt(data[i].J30)

                    all[all.length - 1] += parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '5' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '4' :
                    lt20[lt20.length - 1] += parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1] += parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1] += parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1] += parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1] += parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1] += parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1] += parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1] += parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1] += parseInt(data[i].J29)
                    gt60[gt60.length - 1] += parseInt(data[i].J30)

                    su1[su1.length - 1] += parseInt(data[i].J21)
                    su2[su2.length - 1] += parseInt(data[i].J22)
                    su3[su3.length - 1] += parseInt(data[i].J23)
                    su4[su4.length - 1] += parseInt(data[i].J24)
                    su5[su5.length - 1] += parseInt(data[i].J25)
                    su6[su6.length - 1] += parseInt(data[i].J26)
                    su7[su7.length - 1] += parseInt(data[i].J27)
                    su8[su8.length - 1] += parseInt(data[i].J28)
                    su9[su9.length - 1] += parseInt(data[i].J29)
                    su10[su10.length - 1] += parseInt(data[i].J30)

                    all[all.length - 1] += parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '3' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))

                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '2' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))

                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                default :
                    break
            }
        }


        var be30 = []
        var be40 = []
        var be50 = []
        var be60 = []

        var su30 = []
        var su40 = []
        var su50 = []
        var su60 = []

        lt20.forEach(function (val, index) {
            be30[index] = lt20[index] + gt21lt25[index] + gt26lt30[index];
        })

        gt31lt35.forEach(function (val, index) {
            be40[index] = gt31lt35[index] + gt36lt40[index];
        })

        gt41lt45.forEach(function (val, index) {
            be50[index] = gt41lt45[index] + gt46lt50[index];
        })

        gt51lt55.forEach(function (val, index) {
            be60[index] = gt51lt55[index] + gt56lt59[index];
        })


        su1.forEach(function (val, index) {
            su30[index] = su1[index] + su2[index] + su3[index];
        })

        su4.forEach(function (val, index) {
            su40[index] = su4[index] + su5[index];
        })

        gt41lt45.forEach(function (val, index) {
            su50[index] = su6[index] + su7[index];
        })

        gt51lt55.forEach(function (val, index) {
            su60[index] = su8[index] + su9[index];
        })

        for (i = 0; i < be30.length; i++) {
            be30[i] = be30[i].toFixed(2)
        }
        for (i = 0; i < be40.length; i++) {
            be40[i] = be40[i].toFixed(2)
        }
        for (i = 0; i < be50.length; i++) {
            be50[i] = be50[i].toFixed(2)
        }
        for (i = 0; i < be60.length; i++) {
            be60[i] = be60[i].toFixed(2)
        }
        for (i = 0; i < gt60.length; i++) {
            gt60[i] = gt60[i].toFixed(2)
        }
//        var param = {
//            lt20: lt20,
//            gt21lt25: gt21lt25,
//            gt26lt30: gt26lt30,
//            gt31lt35: gt31lt35,
//            gt36lt40: gt36lt40,
//            gt41lt45: gt41lt45,
//            gt46lt50: gt46lt50,
//            gt51lt55: gt51lt55,
//            gt56lt59: gt56lt59,
//            gt60: gt60
//        }

        var param = {
            be30: be30,
            be40: be40,
            be50: be50,
            be60: be60,
            gt60: gt60,

            su30: su30,
            su40: su40,
            su50: su50,
            su60: su60,
            su10: su10
        }

        return param
    }



    var peosqllist = []


    var colrowidnumber

    var number


    var sqlwhereone

    function clickopenjgpeo(colsid, rowsid, name, val, ID) {
        colrowidnumber = 0
        number = 0

        rossidlist = rowsid.split(",");

        colsidlist = colsid.split(",");

        colrowidnumber = parseInt(rossidlist.length) * parseInt(colsidlist.length)


        var sql_arr = []


        for (var i = 0; i < rossidlist.length; i++) {
            for (var a = 0; a < colsidlist.length; a++) {
                selectSql(converFcrySql(colsidlist[a], rossidlist[i]), function (ret, err) {


                    var sql = ret.data[0].DRILLSQL;
                    var newsql = sql.replace(/\"/g, "'");
                    var sqlone = newsql.substring(newsql.lastIndexOf("@FIELDS@") + 9, newsql.lastIndexOf("AND"));

                    var pjsqlone = sqlone.substring(0, sqlone.lastIndexOf("AND") + 3);
                    //   pjsqltwo = newsql.substring(newsql.lastIndexOf(")") + 1, newsql.lastIndexOf(","));

                    sqlwhereone = newsql.substring(newsql.lastIndexOf("@FIELDS@") + 9, newsql.lastIndexOf("WHERE") + 6);

                    var sqlwhere = sqlone.substring(sqlone.lastIndexOf("WHERE") + 6, sqlone.lastIndexOf("AND"));

                    sql_arr.push(sqlwhere)


                    number++

                    if (number == colrowidnumber) {

                        var comsql = ''
                        for (i = 0; i < sql_arr.length; i++) {
                            comsql += "(" + sql_arr[i] + ") OR "

                        }
                        comsql = "(" + comsql.substr(0, comsql.length - 3) + ") and"


                        if (judgeIsAnyNullStr(ID)) {
                            sqlthree = "select RS_A01.ID ID, A0101, (CASE WHEN A0104 = 1 THEN '男'else'女'end) A0104, age, a0140, (SELECT NAME FROM DIC_RS_GB3304 WHERE CODE = A0117) A0117, A0192, (SELECT NAME FROM DIC_rs_Zb09 where code = A0172) A0172 " + sqlwhereone + comsql + " (RS_A01.NID like '" + place_code + "%') " + "order by rs_a01.aorder "
                        } else {
                            sqlthree = "select RS_A01.ID ID, A0101, (CASE WHEN A0104 = 1 THEN '男'else'女'end) A0104, age, a0140, (SELECT NAME FROM DIC_RS_GB3304 WHERE CODE = A0117) A0117, A0192, (SELECT NAME FROM DIC_rs_Zb09 where code = A0172) A0172 " + sqlwhereone + comsql + " (RS_A01.NID like '" + ID + "%') " + "order by rs_a01.aorder "

                        }

                        consoledebug.log("处级以上女干部反查 :" + JSON.stringify(sqlthree));
                        var item = {
                            sql: sqlthree,
                            name: name
                        }
                        comOpenWin('dwpeolist_win', './dwlist/', item, 2);
                    }


                })

            }
        }


    }

    function cleanarr() {
        peosqllist = []
        sqlthree = null
    }

    function converFcrySql(colsid, rowsid) {
        var sql = "SELECT * FROM GWY_RPT_LD_NODESQL WHERE  ROWSID='" + rowsid + "' AND COLSID='" + colsid + "' AND RPTABLEID='JT2017001';"
        return sql
    }


</script>

</html>
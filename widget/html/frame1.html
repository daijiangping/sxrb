<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>云API</title>
    <link rel="stylesheet" type="text/css" href="../css/layout.css"/>
    <link rel="stylesheet" type="text/css" href="../css/aui.css"/>
    <style>
        body {
            font-family: "Microsoft YaHei", 微软雅黑;
            font-size: 10px;
            background: url(../images/bac.png) no-repeat 50% 50% fixed;
            background-size: 100% 100%;
        }
    </style>
</head>
<body>
<a name="miao"></a>
<div class="top_hongguan">
    <div class="renxuanze">
        <div class="line">
            <div class="leftj"></div>
            <div class="xuanzj">&nbsp;</div>
            <div class="rightj"></div>
        </div>

        <ul id="dw-top-content" class="myxx">
            <li>
                <a href="#" data-code="0" id="top-name-message-content" onclick="clickTop(this)">填报单位</a>
            </li>
        </ul>

    </div>


</div>

<div class="wapper_hongguan">

    <div class="left">
        <div class="left_k">
            <div class="centerleft">
                <div class="cen_left"></div>
                <div class="cen_right"></div>
            </div>
            <div class="bj">
                <div class="topleft_l"></div>
                <div class="topcenter_l"></div>
                <div class="topright_l"></div>
                <div class="footleft">
                    <div class="botleft_l"></div>
                    <div class="botcenter_l"></div>
                    <div class="botright_l"></div>
                </div>
            </div>
            <div class="cengdiv">

                <div class="gwybl texioneline"><span id="place_name">  </span><span class="">:</span></div>
                <div class="gwybl"><span id="all_num"></span></div>

                <div id="left_top_chart" class="nvfdiejia" style="padding-top: 8px">

                </div>


            </div>
        </div>
        <div class="left_kb">
            <div class="centerleft">
                <div class="cen_left"></div>
                <div class="cen_right"></div>
            </div>
            <div class="bj">
                <div class="topleft_l"></div>
                <div class="topcenter_l"></div>
                <div class="topright_l"></div>
                <div class="footleft">
                    <div class="botleft_l"></div>
                    <div class="botcenter_l"></div>
                    <div class="botright_l"></div>
                </div>
                <div class="cengdiv">
                    <div class="xueliceng div_xueli">
                        <h2>学历信息</h2>
                        <div id="left_bottom_top_chart" class="tu_xuli"></div>
                    </div>
                    <div class="xueliceng div_xuewei" style="height: 50%;padding-bottom: 5px">
                        <h2 style="margin-top: -8px">学位信息</h2>
                        <div id="left_bottom_bottom_chart" class="tu_xuli">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="center">
        <div class="hongguan_c_top">
            <div class="center_c_kb">
                <div class="centerleft">
                    <div class="cen_left"></div>
                    <div class="cen_right"></div>
                </div>
                <div class="bj">
                    <div class="topleft_l"></div>
                    <div class="topcenter_l"></div>
                    <div class="topright_l"></div>
                    <div class="footleft">
                        <div class="botleft_l"></div>
                        <div class="botcenter_l"></div>
                        <div class="botright_l"></div>
                    </div>
                </div>


                <div id="lxstyle-message-content">

                </div>

            </div>
        </div>



        <div class="hongguan_c_fot">
            <div class="center_kb">
                <div class="centerleft">
                    <div class="cen_left"></div>
                    <div class="cen_right"></div>
                </div>
                <div class="bj">
                    <div class="topleft_l"></div>
                    <div class="topcenter_l"></div>
                    <div class="topright_l"></div>
                    <div class="footleft">
                        <div class="botleft_l"></div>
                        <div class="botcenter_l"></div>
                        <div class="botright_l"></div>
                    </div>
                </div>

                <div class="cengdiv" id="tbstyle-message-content">


                </div>
            </div>
        </div>

    </div>

    <div class="right">
        <div class="right_k">
            <div class="centerleft">
                <div class="cen_left"></div>
                <div class="cen_right"></div>
            </div>
            <div class="bj">
                <div class="topleft_l"></div>
                <div class="topcenter_l"></div>
                <div class="topright_l"></div>
                <div class="footleft">
                    <div class="botleft_l"></div>
                    <div class="botcenter_l"></div>
                    <div class="botright_l"></div>
                </div>
            </div>
            <div class="cengdiv">
                <h1>各年龄段占比情况</h1>
                <div id="right-top-chart" class="tubiaocont" ondblclick="clickrightop()">

                </div>
            </div>
        </div>
        <div class="right_kb">
            <div class="centerleft">
                <div class="cen_left"></div>
                <div class="cen_right"></div>
            </div>
            <div class="bj">
                <div class="topleft_l"></div>
                <div class="topcenter_l"></div>
                <div class="topright_l"></div>
                <div class="footleft">
                    <div class="botleft_l"></div>
                    <div class="botcenter_l"></div>
                    <div class="botright_l"></div>
                </div>
            </div>
            <div class="cengdiv">

                <h1>任现职务层次年限</h1>
                <div id="cont_one_2" class="cont_one tubiaocont" ondblclick="clickrightwo()">

                </div>

            </div>
        </div>
    </div>

</div>

<div class="tablewapper">
    <div class="cony_fot">
        <div id="listheight" class="center_c_kb">
            <div class="centerleft">
                <div class="cen_left"></div>
                <div class="cen_right"></div>
            </div>
            <div class="bj">
                <div class="topleft_l"></div>
                <div class="topcenter_l"></div>
                <div class="topright_l"></div>
                <div class="footleft">
                    <div class="botleft_l"></div>
                    <div class="botcenter_l"></div>
                    <div class="botright_l"></div>
                </div>
            </div>
            <div class="cengdiv">
                <h1><span id="table_place_name">填报机构</span>及人员概况</h1>
                <div class="tubiaocont conyliest">
                    <table border="0" class="table_rylb conytb">
                        <thead>
                        <tr>
                            <th style="width: 4%">序号</th>
                            <th style="width: 17%">单位名称</th>
                            <th style="width: 12%">
                                下级单位个数
                                <br/><span style="font-size: 9px">（法人单位/内设机构）</span>
                            </th>
                            <th style="width: 11%">
                                正职领导职数
                                <br/><span style="font-size: 9px">（应配）</span>
                                <!--<br/><span style="font-size: 9px">（实配/应配）</span>-->
                            </th>
                            <th style="width: 11%">
                                副职领导职数
                                <br/><span style="font-size: 9px">（应配）</span>
                                <!--<br/><span style="font-size: 9px">（实配/应配）</span>-->
                            </th>
                            <th style="width: 12%">
                                行政编制个数
                                <!--<br/><span style="font-size: 9px">（实配/应配）</span>-->
                            </th>
                            <th style="width: 12%">
                                事业编制个数
                                <br/><span style="font-size: 9px">（参照）</span>
                                <!--<br/><span style="font-size: 9px">（实配/应配）</span>-->
                            </th>
                            <th style="width: 5%">总人数</th>
                            <th style="width: 5%">女干部</th>
                            <th style="width: 6%">少数民族</th>
                            <th style="width: 5%">非党员</th>
                        </tr>
                        </thead>
                        <tbody id="danwei-message-content">

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</div>

<script id="tr-message-content-template" type="text/x-dot-template">
    <tr data-rowsid="{{=it.rowsid}}" data-colsid="{{=it.colsid}}">
        <th style="color: #C1C1E4">{{=it.name}}</th>
        <td onclick="clickopenjg('{{=it.colsid}}','{{=it.rowsid}}','{{=it.name}}','{{=it.value}}')">{{=it.value}}</td>
    </tr>
</script>


<script id="tr-jgpeo-message-content-template" type="text/x-dot-template">

    <tr data-rowsid="{{=it.rowsid}}" data-colsid="{{=it.colsid}}">
        <th style="color: #A8CEF4">{{=it.name}}</th>
        <td onclick="clickopenjgpeo('{{=it.colsid}}','{{=it.rowsid}}','{{=it.name}}','{{=it.value}}')">{{=it.value}}
        </td>
    </tr>

</script>


<script id="tr-peo-message-content-template" type="text/x-dot-template">
    <tr data-rowsid="{{=it.rowsid}}" data-colsid="{{=it.colsid}}">
        <th style="color: #A8CEF4">{{=it.name}}</th>
        <td onclick="clickopenpeo('{{=it.colsid}}','{{=it.rowsid}}','{{=it.name}}','{{=it.value}}')">{{=it.value}}</td>
    </tr>
</script>


<script id="danwei-message-content-template" type="text/x-dot-template">
    <tr class="bj">
        <td>{{=it.INDEX}}</td>
        <td class="aleft" onclick="clicklistdw('{{=it.ID}}','{{=it.NAME}}')"><a href="#miao">{{=it.NAME}}</a></td>
        <td onclick="clickopenjg('1','2','{{=it.NAME}}','{{=it.J2}}','{{=it.ID}}')">{{=it.J2}}</td>

        <td>{{=it.J10}}</td>
        <td>{{=it.J11}}</td>

        <td>{{=it.J15}}</td>
        <td>{{=it.J16}}</td>

        <td onclick="clickopenpeo('9','20','{{=it.NAME}}','{{=it.J2}}','{{=it.ID}}')">{{=it.J9}}</td>
        <td onclick="clickopenpeo('5','20','{{=it.NAME}}','{{=it.J2}}','{{=it.ID}}')">{{=it.NV}}</td>
        <td onclick="clickopenpeo('8','20','{{=it.NAME}}','{{=it.J2}}','{{=it.ID}}')">{{=it.SSMZ}}</td>
        <td onclick="clickopenpeo('10','20','{{=it.NAME}}','{{=it.J2}}','{{=it.ID}}')">{{=it.FZG}}</td>
    </tr>
</script>

<script id="dw-top-template" type="text/x-dot-template">
    <li>
        <a href="#" data-code="{{=it.ID}}" onclick="clickTop(this)">{{=it.NAME}}</a>
    </li>
</script>

<script id="dw-bottom-template" type="text/x-dot-template">
    <li>
        <a href="#" data-code="{{=it.ID}}" onclick="clickBottom(this)">{{=it.NAME}}</a>
    </li>
</script>

<script id="dw-list-template" type="text/x-dot-template">
    <li>
        <a href="#" data-code="{{=it.ID}}" onclick="clickList(this)">{{=it.NAME}}</a>
    </li>
</script>

<script id="lxthree-message-content-template" type="text/x-dot-template">
    <div class="cengdiv" style="display: block">
        <h1><span id="place_name">填报机构</span>及人员概况</h1>
        <div class="tubiaocont">
            <div class="conyfot">
                <div id="table_one_div" class="cony_left leftfor" style="width:25%;">
                    <table id="table_one" border="0" class="table_por table_rbk">

                    </table>
                </div>
                <div id="table_two_div" class="cony_left leftfor" style="width:25%;">
                    <table id="table_two" border="0" class="table_por table_rbk">

                    </table>
                </div>
                <div id="table_three_div" class="cony_left leftfor" style="width:25%;">
                    <table id="table_three" border="0" class="table_por table_rbk">

                    </table>
                </div>
                <div id="table_four_div" class="cony_left leftfiv" style="width:25%;">
                    <h3 style="color: #A8CEF4">(人)</h3>
                    <table id="table_four" border="0" class="table_por">

                    </table>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="lxother-message-content-template" type="text/x-dot-template">
    <div class="cengdiv" style="display: block">
        <h1><span id="place_name">填报机构</span>及人员概况</h1>
        <div class="tubiaocont">

            <div id="table_two_div" class="conyfot">
                <div class="cony_left leftfor">
                    <table id="table_two" border="0" class="table_por table_rbk">

                    </table>
                </div>
                <div id="table_three_div" class="cony_left leftfor">
                    <table id="table_three" border="0" class="table_por table_rbk">

                    </table>
                </div>
                <div id="table_four_div" class="cony_left leftfiv">
                    <h3 style="color: #A8CEF4">(人)</h3>
                    <table id="table_four" border="0" class="table_por">

                    </table>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="tbthree-message-content-template" type="text/x-dot-template">



    <h1>各职务层次分布情况</h1>
    <div id="cont_two_1" class="boeder-style" style="height: 100%;width: 100%;padding-bottom: 15px"
         ondblclick="clickcontone()">

    </div>


    <div id="cont_two_2" class="cont_two tubiaocont" ondblclick="clickcontwo()"></div>
    <div id="cont_two_3" class="cont_two tubiaocont" ondblclick="clickconthree()"></div>

</script>

<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/common.js"></script>
<script type="text/javascript" src="../script/jquery.min.js"></script>
<script type="text/javascript" src="../script/echarts.min.js"></script>
<script type="text/javascript" src="../script/scriptabxz.js"></script>
<script type="text/javascript" src="../script/leek-common.js"></script>
<script type="text/javascript" src="../script/doT.min.js"></script>
<script type="text/javascript" src="../script/lodash.js"></script>
<script type="text/javascript" src="../script/countup.js"></script>
<script type="text/javascript">

    var old_all = 0

    var role_name_array = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
    var role_name_array_two = ['正部', '副部', '正厅', '副厅', '正处', '副处', '正科', '副科', '科员及其他']

    var posList = [
        'left', 'right', 'top', 'bottom',
        'inside',
        'insideTop', 'insideLeft', 'insideRight', 'insideBottom',
        'insideTopLeft', 'insideTopRight', 'insideBottomLeft', 'insideBottomRight'
    ]

    var labelOption = {
        normal: {
            rotate: {
                min: -90,
                max: 90
            },
            align: {
                options: {
                    left: 'left',
                    center: 'center',
                    right: 'right'
                }
            },
            verticalAlign: {
                options: {
                    top: 'top',
                    middle: 'middle',
                    bottom: 'bottom'
                }
            },
            position: {
                options: echarts.util.reduce(posList, function (map, pos) {
                    map[pos] = pos;
                    return map;
                }, {})
            },
            distance: {
                min: 0,
                max: 100
            }
        }
    }

    var dataStyle = {
        normal: {
            label: {show: true},
            labelLine: {show: true},
            position: 'inside'
        }
    }

    var placeHolderStyle = {
        normal: {
            color: 'rgba(0,0,0,0)',
            label: {show: false},
            labelLine: {show: false}
        },
        emphasis: {
            color: 'rgba(0,0,0,0)'
        }
    }

    var left_top_chart
    var left_bottom_top_chart
    var left_bottom_bottom_chart
    var middle_top_chart
    var middle_bottom_type_3_first_chart
    var middle_bottom_type_3_second_chart
    var middle_bottom_type_3_third_chart
    var middle_bottom_type_1_2_chart
    var right_top_chart
    var right_bottom_first_chart
    var right_bottom_second_chart
    var table

    var province_array = []

    var place_code = 0
    var place_type = 3
    var place_name = topname


    var _place_array = null


    function clickTop(el) {
        var name = $(el).text()
        var code = $(el).attr('data-code')


        var item = {
            place_array: place_array,
            name: name,
            code: code,
            type: 2
        }
        comOpenFrame('filtercity', './echartsframelist/', false, item, 3);


    }


    function clickConfirm(ID, NAME) {

        if (ID == 'two') {
            setTimeout(function () {
                $('#dw-top-content').empty()
                place_array = [
                    {
                        NAME: topname,
                        ID: 0
                    }
                ]

                for (var i = 0; i < place_array.length; i  ) {
                    loadTopHtml(place_array[i])
                }

            }, 300);

            place_code = 0
            place_name = topname

        } else {
            place_code = ID
            place_name = NAME
        }

        consoledebug.log('clickList place_array is : '+  JSON.stringify(place_code))

        $('#dw-top-content').empty()

        $("#danwei-message-content").empty()

        $('#place_name').text(place_name)

        for (var i = 0; i < place_array.length; i  ) {
            loadTopHtml(place_array[i])
        }

        //   consoledebug.log('place_code is : '   place_code)

        $('#danxuanqu').slideUp()

        $('#place_name').text(place_name)
        $('#table_place_name').text(place_name)

        selectSql(converPlaceTypeWithCode(place_code), function (ret, err) {
            if (ret.status) {
                var _place_type = ret.data[0].B0198

                consoledebug.log('place_code place_code is : '+  place_code)
                consoledebug.log('place_name place_name is : ' +  place_name)
                consoledebug.log('_place_type _place_type is : ' +  _place_type)


                if (place_code == 0) {
                    place_type = 3
                } else {
                    place_type = _place_type
                }

                consoledebug.log('place_type place_type is : ' +  place_type)

                if (place_type == 1 || place_type == 2) {
                    consoledebug.log('place_type == 1 || 2')
                    //  loadType12()
                    // showType12()
                    loadType3()
                    showType3()

                } else {
                    consoledebug.log('place_type == 3')
                    loadType3()
                    showType3()
                }
            } else {

            }

        })
    }

    function clickCancel() {
        $('#danxuanqu').slideUp()

        place_array = _.clone(_place_array)
    }

    function loadTopHtml(data) {
        var interText = doT.template($("#dw-top-template").text())
        $("#dw-top-content").append(interText(data))
    }

    function loadBottomHtml(data) {
        var interText = doT.template($("#dw-bottom-template").text())
        $("#dw-bottom-content").append(interText(data))
    }

    function loadListHtml(data) {
        var interText = doT.template($("#dw-list-template").text())
        $("#dw-list-content").append(interText(data))
    }

    function converNSFWithCodeSql(place_code) {
        var sql = "select J5,J1,J8,J10  from LD_JT2017001  WHERE UNID='" +  place_code  + "' and rowsid='20'"

        return sql
    }

    function converXueliXueweiWithCodeSql(place_code) {


        var sql = "select sum(J5) J5,sum(J6) J6,sum(J14) J14,SUM(J15) J15,SUM(J16) J16,SUM(J17) J17,SUM(J18) J18,SUM(J19) J19,SUM(J20) J20 FROM LD_JT2017001 ld WHERE ld.unid='"  + place_code +  "'AND rowsid = '20'"

        return sql
    }



    function converAgeWithCodeSql(place_code) {
        var sql = "SELECT J21   J22   J23 J23, J24   J25 J25, J26   J27 J27, J28   J29 J29, J30 J30, J41   J42   J43 J43, J44   J45 J45, J46   J47 J47, J48   J49 J49, J50 J50 FROM LD_JT2017001 ld WHERE  ld.unid='"   place_code   "' and rowsid IN ('20')"

        return sql
    }

    function converCengciAgeWithCodeSql(place_code) {
        var sql = "select ROWSID ROWSID,J1 J1,J21 J21,J22 J22,J23 J23,J24 J24,J25 J25,J26 J26,J27 J27,J28 J28,J29 J29,J30 J30 from LD_JT2017001 where UNID='"   place_code   "' and rowsid in ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','19')"

        return sql
    }

    function converCengciTimeWithCodeSql(place_code) {
        var sql="select ROWSID ROWSID,J1 J1,J31 J31,J32 J32 ,J33 J33,J34 J34,J35  J35,J36 J37 J38 J39 J40 J40 from  LD_JT2017001 ld where ld.unid='"   place_code   "' and rowsid in  ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','19')"

        return sql
    }

    function converDanweiWithCode(place_code) {
        //   var sql = "SELECT UR.NAME, UR.ID, LD01.J5  NV, LD01.J8  SSMZ, LD01.J10 FZG, LD02.J2  J2, LD02.J3  J3, LD02.J10 J10, LD02.J5  J5, LD02.J11 J11, LD02.J6  J6, LD02.J15 J15, LD02.J13 J13, LD02.J16 J16, LD02.J14 J14, LD02.J9  J9 FROM RS_UNMK UR LEFT JOIN LD_JT2017001 LD01 ON UR.ID = LD01.UNID AND LD01.ROWSID = '20' LEFT JOIN LD_JT2017002 LD02 ON LD02.UNID = UR.ID AND LD02.ROWSID = '1' WHERE UR.SID = '"   place_code   "' AND UR.B0198 !='2' ORDER BY UR.SYSUMPORDER "
        var sql = "SELECT UR.NAME, UR.ID, LD01.J5  NV, LD01.J8  SSMZ, LD01.J10 FZG, LD02.J2  J2, LD02.J3  J3, UR.B0183 J10, LD02.J5  J5, UR.B0185 J11, LD02.J6  J6, UR.B0227 J15, LD02.J13 J13, UR.B0232 J16, LD02.J14 J14, LD02.J9  J9 FROM RS_UNMK UR LEFT JOIN LD_JT2017001 LD01 ON UR.ID = LD01.UNID AND LD01.ROWSID = '20' LEFT JOIN LD_JT2017002 LD02 ON LD02.UNID = UR.ID AND LD02.ROWSID = '1' WHERE UR.SID = '"   place_code   "' AND UR.B0198 !='2' ORDER BY UR.SYSUMPORDER"
        return sql
    }

    function converAgeAvgWithCode(place_code) {
        var sql = "select NAME,J2 VALUE from (select unmkid,name,code from lead_unid_relation where pcode='"   place_code   "') ur inner join LD_JT2017001 ld on ur.unmkid=ld.unid where rowsid='20' order by ur.code"

        return sql
    }



    function converAgeAvgWithCodeid(place_code) {
        consoledebug.log('单位信息干部比例数据place_code : '   JSON.stringify(place_code))
        var  sql = "select ROWSID ROWSID,J1 J1,J2 J2,J21 J21,J22 J23 J22,J24 J25 J24,J26 J27 J26,J28 J29 J28,J30 J30  from (select unmkid,name from lead_unid_relation where code='"   place_code   "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid where rowsid in ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','19')"

        return sql
    }


    function converXueLiWithCode(place_code) {
        var sql = "select J14,J15,J16,J17 from LD_JT2017001 d left join Lead_Unid_Relation l  on d.unid=l.unmkid where l.pcode='"   place_code   "' and d.rowsid='20' order by code"

        return sql
    }

    function converNSFRateWithCode(place_code) {
        var sql = "select J5,J8,J10 from LD_JT2017001 d left join Lead_Unid_Relation l  on d.unid=l.unmkid where l.pcode='"   place_code   "' and d.rowsid='20' order by code"

        return sql
    }

    function converFarenDanweiWithCode(place_code) {
        var sql = "SELECT J2 FROM LD_JT2017002 WHERE UNID = '"   place_code   "' AND ROWSID ='1'"

        return sql
    }

    function converDanweiJibieWithCode(place_code) {
        var sql = "SELECT ROWSID,J1 FROM LD_JT2017002 WHERE UNID = '"   place_code   "' AND ROWSID IN ('19','20','23','24','25','26','27','28')"

        return sql
    }

    function converDanweiXingzhiWithCode(place_code) {
        var sql = "SELECT ROWSID,J9 FROM LD_JT2017002 WHERE UNID = '"   place_code   "' AND ROWSID IN ('2','3','4','5','6','7','8')"

        return sql
    }


    function converRenyuanJibieWithCode(place_code) {
        var sql = "SELECT ROWSID,J1 FROM LD_JT2017001 WHERE UNID = '"   place_code   "' AND ROWSID IN ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19')"

        return sql
    }

    function converRenyuanAgeWithCode(place_code) {
        var sql = "SELECT ROWSID,J1,J21,J22,J23,J24,J25,J26,J27,J28,J29,J30 FROM LD_JT2017001 WHERE UNID = '"   place_code   "' AND ROWSID IN ('20')"

        return sql
    }

    function converPlaceWithCode(place_code) {
        var sql = "SELECT ID,NAME FROM RS_UNMK WHERE SID='"   place_code   "' ORDER BY UR.SYSUMPORDER "

        return sql
    }

    function converPlaceTypeWithCode(place_code) {
        var sql = "SELECT B0198 FROM RS_UNMK WHERE ID='"   place_code   "'"

        return sql
    }

    function converAllJibieSql(place_code) {
        var sql = "select ROWSID ROWSID,J1 J1,J2 J2,J21 J21,J22 J23 J22,J24 J25 J24,J26 J27 J26,J28 J29 J28,J30 J30  from (select unmkid,name from lead_unid_relation where code='"   place_code   "') ur left join LD_JT2017001 ld on ur.unmkid=ld.unid where rowsid in ('2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','19')"

        return sql
    }


    function converFcSql(colsid, rowsid) {
        var sql = "SELECT * FROM GWY_RPT_LD_NODESQL WHERE  ROWSID='"   rowsid   "' AND COLSID='"   colsid   "' AND RPTABLEID='JT2017002';"
        return sql
    }


    function converFcrySql(colsid, rowsid) {
        var sql = "SELECT * FROM GWY_RPT_LD_NODESQL WHERE  ROWSID='"   rowsid   "' AND COLSID='"   colsid   "' AND RPTABLEID='JT2017001';"


        return sql
    }

    var topnamesql = "select name from rs_unmk where id='0'"

    var topname = ''

    var place_array = []
    apiready = function () {


        selectSql(topnamesql, function (ret, err) {
            if (ret.status) {
                topname = ret.data[0].NAME

                place_array.push({NAME: topname, ID: 0})

                $("#top-name-message-content").text(topname);

            }
        })


        showProgress()
        loadType3()
        showType3()



        selectSql(topnamesql, function (ret, err) {
            if (ret.status) {
                topname = ret.data[0].NAME


                $("#top-name-message-content").text(topname);
                $("#place_name").text(topname);
            }
        })



        api.addEventListener({
            name: 'loadnew1'
        }, function (ret, err) {
            consoledebug.log('addEventListener >>> OPENDB ret is : '   JSON.stringify(ret))
            clickConfirm("two", topname)


            number1 = 0
            number2 = 0
            number3 = 0
            number4 = 0



            $('.cont_one').addClass('aui-hide')
            $('#one_1').addClass('tips')
            $('#cont_one_1').removeClass('aui-hide')
            $('#one_2').removeClass('tips')
        })


        api.addEventListener({
            name: 'frame1name'
        }, function (ret, err) {


            number1 = 0
            number2 = 0
            number3 = 0
            number4 = 0

            place_code = ret.value.code
            place_name = ret.value.place_name
            place_array = ret.value.place_arr


            estimateCity(place_name,topname)

            clickConfirm(place_code, place_name)

        })



        api.addEventListener({
            name: 'cleanarr'
        }, function (ret, err) {
            cleanarr()
        })
    }


    function estimateCity(cityname1,cityname2) {
        var citynum
        if(cityname1 == cityname2){
            citynum = 0
        }else {
            citynum = 1
        }
        api.sendEvent({
            name: 'frame1',
            extra: {
                data:citynum
            }
        });

    }



    function showType3() {
        getNSFDataWithCode()

        getXueliXueweiDataWithCode()

        selectSql(converAgeAvgWithCodeid(place_code), function (ret, err) {
            consoledebug.log('selectSql converAgeAvgWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converAgeAvgWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                showMiddleBottomType3FirstChart(data)


            } else {

            }
        })

        selectSql(converXueLiWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converXueLiWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converXueLiWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                showMiddleBottomType3SecondChart(data)
            } else {

            }
        })

        selectSql(converNSFRateWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converNSFRateWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converNSFRateWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                showMiddleBottomType3ThirdChart(data)
            } else {

            }
        })

        getCengciAgeDataWithCode()

        getCengciTimeDataWithCode()

        selectSql(converAgeWithCodeSql(place_code), function (ret, err) {

            if (ret.status) {
                var data = ret.data[0]

                showRightTopChart(data)
            }
        })

        selectSql(converDanweiWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converDanweiWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converDanweiWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                converDanweiWithCodeData(data)
            } else {

            }
        })

        selectSql(converFarenDanweiWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converFarenDanweiWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converFarenDanweiWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                if (ret.data[0]) {
                    var data = ret.data[0]

                    $('#table_one').empty()

                    var param = {
                        name: '法人单位',
                        value: data.j2,
                        colsid: 2,
                        rowsid: 1
                    }
                } else {
                    $('#table_one').empty()

                    var param = {
                        name: '法人单位',
                        value: 0
                    }
                }

                loadTrHtml('table_one', param)
            } else {

            }
        })

        selectSql(converDanweiJibieWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converDanweiJibieWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converDanweiJibieWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                for (var i = 0; i < data.length; i  ) {
                    switch (data[i].rowsid) {
                        case '19':
                            var param = {
                                name: '正部级单位',
                                value: data[i].j1,
                                colsid: 1,
                                rowsid: 19
                            }

                            loadTrHtml('table_one', param)
                            break
                        case '20':


                            var param = {
                                name: '副部级单位',
                                value: data[i].j1,
                                colsid: 1,
                                rowsid: 20
                            }

                            loadTrHtml('table_one', param)
                            break
                        case '23':


                            var param = {
                                name: '正厅级单位',
                                value: data[i].j1,
                                colsid: 1,
                                rowsid: 23
                            }

                            loadTrHtml('table_one', param)
                            break
                        case '24':

                            var param = {
                                name: '副厅级单位',
                                value: data[i].j1,
                                colsid: 1,
                                rowsid: 24
                            }

                            loadTrHtml('table_one', param)
                            break
                        case '25':

                            var param = {
                                name: '正处级单位',
                                value: data[i].j1,
                                colsid: 1,
                                rowsid: 24
                            }

                            loadTrHtml('table_one', param)
                            break
                        case '26':

                            var param = {
                                name: '副处级单位',
                                value: data[i].j1,
                                colsid: 1,
                                rowsid: 26
                            }

                            loadTrHtml('table_one', param)
                            break
                        case '27':

                            var param = {
                                name: '正科级单位',
                                value: data[i].j1,
                                colsid: 1,
                                rowsid: 27
                            }

                            loadTrHtml('table_one', param)
                            break
                        case '28':
                            var param = {
                                name: '副科级单位',
                                value: data[i].j1,
                                colsid: 1,
                                rowsid: 28
                            }

                            loadTrHtml('table_one', param)
                            break
                        default:
                            break
                    }
                }
            } else {

            }
        })

        selectSql(converDanweiXingzhiWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converDanweiXingzhiWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converDanweiXingzhiWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                $('#table_two').empty()

                for (var i = 0; i < data.length; i  ) {
                    switch (data[i].rowsid) {
                        case '2':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '中国*屏蔽的关键字*党',
                                    value: data[i].j9,
                                    rowsid: 9,
                                    colsid: 2
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '3':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '*屏蔽的关键字*机关',
                                    value: data[i].j9,
                                    rowsid: 9,
                                    colsid: 3
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '4':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '行政机关',
                                    value: data[i].j9,
                                    rowsid: 9,
                                    colsid: 4
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '5':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '审判机关',
                                    value: data[i].j9,
                                    rowsid: 9,
                                    colsid: 5
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '6':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '检察机关',
                                    value: data[i].j9,
                                    rowsid: 9,
                                    colsid: 6
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '7':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '检察机关',
                                    value: data[i].j9,
                                    rowsid: 9,
                                    colsid: 7
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '8':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '各*屏蔽的关键字*党派和工商联机关',
                                    value: data[i].j9,
                                    rowsid: 9,
                                    colsid: 8
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        default:
                            break
                    }
                }
            } else {

            }
        })

        selectSql(converRenyuanJibieWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converRenyuanJibieWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converRenyuanJibieWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                $('#table_three').empty()

                var ting_zheng = []
                var ting_fu = []
                var xian_zheng = []
                var xian_fu = []
                var xiang_zheng = []
                var xiang_fu = []
                var keyuan = []

                for (var i = 0; i < data.length; i  ) {
                    switch (data[i].rowsid) {
                        case '2':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '正部级',
                                    value: data[i].j1,
                                    rowsid: [2],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '3':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '副部级',
                                    value: data[i].j1,
                                    rowsid: [3],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '4':
                            ting_zheng.push(parseInt(data[i].j1))
                            break
                        case '5':
                            ting_zheng.push(parseInt(data[i].j1))

                            var value = getSum(ting_zheng)
                            if (value !== 0) {
                                var param = {
                                    name: '正厅级',
                                    value: value,
                                    rowsid: [4, 5],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '6':
                            ting_fu.push(parseInt(data[i].j1))
                            break
                        case '7':
                            ting_fu.push(parseInt(data[i].j1))

                            var value = getSum(ting_fu)
                            if (value !== 0) {
                                var param = {
                                    name: '副厅级',
                                    value: value,
                                    rowsid: [6, 7],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '8':
                            xian_zheng.push(parseInt(data[i].j1))
                            break
                        case '9':
                            xian_zheng.push(parseInt(data[i].j1))

                            var value = getSum(xian_zheng)
                            if (value !== 0) {
                                var param = {
                                    name: '正处级',
                                    value: value,
                                    rowsid: [8, 9],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '10':
                            xian_fu.push(parseInt(data[i].j1))
                            break
                        case '11':
                            xian_fu.push(parseInt(data[i].j1))

                            var value = getSum(xian_fu)
                            if (value !== 0) {
                                var param = {
                                    name: '副处级',
                                    value: value,
                                    rowsid: [10, 11],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '12':
                            xiang_zheng.push(parseInt(data[i].j1))
                            break
                        case '13':
                            xiang_zheng.push(parseInt(data[i].j1))

                            var value = getSum(xiang_zheng)
                            if (value !== 0) {
                                var param = {
                                    name: '正科级',
                                    value: value,
                                    rowsid: [12, 13],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '14':
                            xiang_fu.push(parseInt(data[i].j1))
                            break
                        case '15':
                            xiang_fu.push(parseInt(data[i].j1))

                            var value = getSum(xiang_fu)
                            if (value !== 0) {
                                var param = {
                                    name: '副科级',
                                    value: value,
                                    rowsid: [14, 15],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '16':
                            keyuan.push(parseInt(data[i].j1))
                            break
                        case '17':
                            keyuan.push(parseInt(data[i].j1))
                            break
                        case '19':
                            keyuan.push(parseInt(data[i].j1))

                            var value = getSum(keyuan)
                            if (value !== 0) {
                                var param = {
                                    name: '科员及其他',
                                    value: value,
                                    rowsid: [16, 17, 18, 19],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        default:
                            break
                    }
                }
            } else {

            }
        })

        selectSql(converRenyuanAgeWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converRenyuanAgeWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converRenyuanAgeWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                if (ret.data[0]) {
                    $('#table_four').empty()
                    var data = ret.data[0]
                    var param = [

                        {
                            name: '30岁及以下',
                            value: parseInt(data.j23)   parseInt(data.j22)   parseInt(data.j21),
                        rowsid: 20,
                        colsid: [21, 22, 23]
                },

                    {
                        name: '31~40岁',
                            value: parseInt(data.j24)   parseInt(data.j25),
                        rowsid: 20,
                        colsid: [24, 25]
                    },

                    {
                        name: '41~50岁',
                            value: parseInt(data.j26)   parseInt(data.j27),
                        rowsid: 20,
                        colsid: [26, 27]
                    },

                    {
                        name: '51~59岁',
                            value: parseInt(data.j28)   parseInt(data.j29),
                        rowsid: 20,
                        colsid: [28, 29]
                    },
                    {
                        name: '60岁及以上',
                            value: data.j30,
                        rowsid: 20,
                        colsid: 30
                    }
                ]
                } else {
                    var param = [
                        {
                            name: '30岁及以下',
                            value: 0
                        },
                        {
                            name: '31~40岁',
                            value: 0
                        },
                        {
                            name: '41~50岁',
                            value: 0
                        },
                        {
                            name: '51~59岁',
                            value: 0
                        },
                        {
                            name: '60岁及以上',
                            value: 0
                        }
                    ]
                }
                for (var i = 0; i < param.length; i  ) {
                    if (param[i].value != '0' && param[i].value != 0) {
                        loadTrHtml('table_four', param[i])
                    }
                }

            } else {

            }
        })

        hideProgress()
    }

    function showType12() {
        getNSFDataWithCode()

        getXueliXueweiDataWithCode()

        getAllJibieDataWithCode()

        getCengciAgeDataWithCode()

        getCengciTimeDataWithCode()

        selectSql(converAgeWithCodeSql(place_code), function (ret, err) {

            if (ret.status) {
                var data = ret.data[0]

                showRightTopChart(data)
            }
        })

        selectSql(converDanweiWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converDanweiWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converDanweiWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                for (var i = 0; i < data.length; i  ) {

                    var param = {
                        INDEX: i   1,
                        NAME: data[i].NAME,
                        ID: data[i].ID,
                        NV: data[i].NV ? data[i].NV : 0,
                        SSMZ: data[i].SSMZ ? data[i].SSMZ : 0,
                        FZG: data[i].FZG ? data[i].FZG : 0,
                        J2: data[i].J2 ? data[i].J2 : 0,
                        J3: data[i].J3 ? data[i].J3 : 0,
                        J10: data[i].J10 ? data[i].J10 : 0,
                        J5: data[i].J5 ? data[i].J5 : 0,
                        J11: data[i].J11 ? data[i].J11 : 0,
                        J6: data[i].J6 ? data[i].J6 : 0,
                        J15: data[i].J15 ? data[i].J15 : 0,
                        J13: data[i].J13 ? data[i].J13 : 0,
                        J16: data[i].J16 ? data[i].J16 : 0,
                        J14: data[i].J14 ? data[i].J14 : 0,
                        J9: data[i].J9 ? data[i].J9 : 0
                    }

                    consoledebug.log('converDanweiWithCode data [ '   i   ' ] is : '   JSON.stringify(param))

                    var interText = doT.template($("#danwei-message-content-template").text())
                    $("#danwei-message-content").append(interText(param))
                }

                // 设置div高度撑开图片
                var danweih = document.getElementById("danwei-message-content").offsetHeight;
                $("#listheight").height(danweih   130)
            } else {

            }
        })

        selectSql(converDanweiXingzhiWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converDanweiXingzhiWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converDanweiXingzhiWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                $('#table_two').empty()

                for (var i = 0; i < data.length; i  ) {
                    switch (data[i].ROWSID) {
                        case '2':
                            if (data[i].J1 !== 0 && data[i].J1 !== '0') {
                                var param = {
                                    name: '中国*屏蔽的关键字*党',
                                    value: data[i].J9,
                                    rowsid: 9,
                                    colsid: 2
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '3':
                            if (data[i].J1 !== 0 && data[i].J1 !== '0') {
                                var param = {
                                    name: '*屏蔽的关键字*机关',
                                    value: data[i].J9,
                                    rowsid: 9,
                                    colsid: 3
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '4':
                            if (data[i].J1 !== 0 && data[i].J1 !== '0') {
                                var param = {
                                    name: '行政机关',
                                    value: data[i].J9,
                                    rowsid: 9,
                                    colsid: 4
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '5':
                            if (data[i].J1 !== 0 && data[i].J1 !== '0') {
                                var param = {
                                    name: '审判机关',
                                    value: data[i].J9,
                                    rowsid: 9,
                                    colsid: 5
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '6':
                            if (data[i].J1 !== 0 && data[i].J1 !== '0') {
                                var param = {
                                    name: '检察机关',
                                    value: data[i].J9,
                                    rowsid: 9,
                                    colsid: 6
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '7':
                            if (data[i].J1 !== 0 && data[i].J1 !== '0') {
                                var param = {
                                    name: '检察机关',
                                    value: data[i].J9,
                                    rowsid: 9,
                                    colsid: 7
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        case '8':
                            if (data[i].J1 !== 0 && data[i].J1 !== '0') {
                                var param = {
                                    name: '各*屏蔽的关键字*党派和工商联机关',
                                    value: data[i].J9,
                                    rowsid: 9,
                                    colsid: 8
                                }

                                loadTrHtml('table_two', param)
                            }
                            break
                        default:
                            break
                    }
                }
            } else {

            }
        })

        selectSql(converRenyuanJibieWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converRenyuanJibieWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converRenyuanJibieWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                $('#table_three').empty()

                var ting_zheng = []
                var ting_fu = []
                var xian_zheng = []
                var xian_fu = []
                var xiang_zheng = []
                var xiang_fu = []
                var keyuan = []

                for (var i = 0; i < data.length; i  ) {
                    switch (data[i].rowsid) {
                        case '2':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '正部级',
                                    value: data[i].j1,
                                    rowsid: [2],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '3':
                            if (data[i].j1 !== 0 && data[i].j1 !== '0') {
                                var param = {
                                    name: '副部级',
                                    value: data[i].j1,
                                    rowsid: [3],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '4':
                            ting_zheng.push(parseInt(data[i].j1))
                            break
                        case '5':
                            ting_zheng.push(parseInt(data[i].j1))

                            var value = getSum(ting_zheng)
                            if (value !== 0) {
                                var param = {
                                    name: '正厅级',
                                    value: value,
                                    rowsid: [4, 5],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '6':
                            ting_fu.push(parseInt(data[i].j1))
                            break
                        case '7':
                            ting_fu.push(parseInt(data[i].j1))

                            var value = getSum(ting_fu)
                            if (value !== 0) {
                                var param = {
                                    name: '副厅级',
                                    value: value,
                                    rowsid: [6, 7],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '8':
                            xian_zheng.push(parseInt(data[i].j1))
                            break
                        case '9':
                            xian_zheng.push(parseInt(data[i].j1))

                            var value = getSum(xian_zheng)
                            if (value !== 0) {
                                var param = {
                                    name: '正处级',
                                    value: value,
                                    rowsid: [8, 9],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '10':
                            xian_fu.push(parseInt(data[i].j1))
                            break
                        case '11':
                            xian_fu.push(parseInt(data[i].j1))

                            var value = getSum(xian_fu)
                            if (value !== 0) {
                                var param = {
                                    name: '副处级',
                                    value: value,
                                    rowsid: [10, 11],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '12':
                            xiang_zheng.push(parseInt(data[i].j1))
                            break
                        case '13':
                            xiang_zheng.push(parseInt(data[i].j1))

                            var value = getSum(xiang_zheng)
                            if (value !== 0) {
                                var param = {
                                    name: '正科级',
                                    value: value,
                                    rowsid: [12, 13],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '14':
                            xiang_fu.push(parseInt(data[i].j1))
                            break
                        case '15':
                            xiang_fu.push(parseInt(data[i].j1))

                            var value = getSum(xiang_fu)
                            if (value !== 0) {
                                var param = {
                                    name: '副科级',
                                    value: value,
                                    rowsid: [14, 15],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        case '16':
                            keyuan.push(parseInt(data[i].j1))
                            break
                        case '17':
                            keyuan.push(parseInt(data[i].j1))
                            break
                        case '19':
                            keyuan.push(parseInt(data[i].j1))

                            var value = getSum(keyuan)
                            if (value !== 0) {
                                var param = {
                                    name: '科员及其他',
                                    value: value,
                                    rowsid: [16, 17, 18, 19],
                                    colsid: 1
                                }

                                loadTrHtml('table_three', param)
                            }
                            break
                        default:
                            break
                    }
                }
            } else {

            }
        })

        selectSql(converRenyuanAgeWithCode(place_code), function (ret, err) {
            consoledebug.log('selectSql converRenyuanAgeWithCode ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converRenyuanAgeWithCode err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data[0]

                if (!data) {
                    return
                }

                $('#table_four').empty()

                var param = [
                    {
                        name: '20岁及以下',
                        value: data.j21,
                        rowsid: 20,
                        colsid: 21
                    },
                    {
                        name: '21~25岁',
                        value: data.j22,
                        rowsid: 20,
                        colsid: 22
                    },
                    {
                        name: '26~30岁',
                        value: data.j23,
                        rowsid: 20,
                        colsid: 23
                    },
                    {
                        name: '31~35岁',
                        value: data.j24,
                        rowsid: 20,
                        colsid: 24
                    },
                    {
                        name: '36~40岁',
                        value: data.j25,
                        rowsid: 20,
                        colsid: 25
                    },
                    {
                        name: '41~45岁',
                        value: data.j26,
                        rowsid: 20,
                        colsid: 26
                    },
                    {
                        name: '46~50岁',
                        value: data.j27,
                        rowsid: 20,
                        colsid: 27
                    },
                    {
                        name: '51~55岁',
                        value: data.j28,
                        rowsid: 20,
                        colsid: 28
                    },
                    {
                        name: '56~59岁',
                        value: data.j29,
                        rowsid: 20,
                        colsid: 29
                    },
                    {
                        name: '60岁及以上',
                        value: data.j30,
                        rowsid: 20,
                        colsid: 30
                    }
                ]

                for (var i = 0; i < param.length; i  ) {
                    if (param[i].value != '0' && param[i].value != 0) {
                        loadTrHtml('table_four', param[i])
                    }
                }
            } else {

            }
        })
    }

    function showLeftTopChart(data) {


        left_top_chart = echarts.init(document.getElementById('left_top_chart'))

        left_top_chart.showLoading({text: '正在努力的读取数据中...'})

        var param = converNSFWithCodeData(data)
        consoledebug.log('是否有值: '   JSON.stringify(param))
        var setOption = {

            color: ['#0087ED', '#ff6600'],
            tooltip: {
                trigger: 'axis',
                position: ['50%', '50%']
            },
            legend: {
                data: ['人数', '占比'],
                textStyle: {
                    color: '#0087ED',
                    fontSize: 8
                },

                itemHeight: 8,
                itemWidth: 10
            },
            grid: {
                left: '4%',
                right: '5%',
                bottom: '7%',
                top: '10%',
                containLabel: true,
                borderWidth: 0
            },
            calculable: true,
            xAxis: [{
                type: 'category',
                axisTick: {show: false},
                data: ['女性', '少数民族', '非党员'],
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        color: '#0087ED',
                        fontSize: 8
                    }
                },
                splitLine: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        type: 'solid',
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: true,
                    lineStyle: {
                        color: '#0087ED'
                    }
                }
            }],
            yAxis: [{
                type: 'value',
                name: '',
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        color: '#0087ED',
                        fontSize: 8
                    }
                },
                splitLine: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        type: 'solid',
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: true,
                    lineStyle: {
                        color: '#0087ED'
                    }
                }
            }, {
                type: 'value',
                name: '',
                nameLocation: 'end',
                nameGap: 5,
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        color: '#ff6600'
                    }
                },
                splitLine: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        type: 'solid',
                        color: '#ff6600',
                        width: 1
                    }
                },
                axisTick: {
                    show: true,
                    lineStyle: {
                        color: '#ff6600'
                    }
                }
            }],
            series: [{
                name: '人数',
                type: 'bar',
                label: labelOption,
                barWidth: 12,
                data: [param.nv, param.shao, param.fei],
                itemStyle: {
                    normal: {
                        label: {
                            position: 'top',
                            formatter: '{b}\n{c}%'
                        }
                    }
                }
            }, {
                name: '占比',
                type: 'line',
                yAxisIndex: 1,
                label: labelOption,
                itemStyle: {
                    color: '#ff6600'
                },
                data: [param.nv_rate, param.shao_rate, param.fei_rate]
            }
            ]

        }


        left_top_chart.setOption(setOption)

        left_top_chart.hideLoading()
    }

    function showLeftBottomTopChart(data) {
        left_bottom_top_chart = echarts.init(document.getElementById('left_bottom_top_chart'))

        left_bottom_top_chart.showLoading({text: '正在努力的读取数据中...'})

        var param = converXueliXueweiWithCodeData(data, 'xueli')

        var setOption = {
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)",
                position: ['50%', '50%']
            },
            color: ['#498CAD', '#45A6D8', '#48C1DF', '#ADDBE3'],
            grid: {
                left: '3%',
                right: '5%',
                bottom: '0%',
                top: '5%',
                height: '100%',
                containLabel: true
            },
            legend: {
                data: ['研究生', '本科生', '专科生', '中专及以下'],
                orient: 'vertical',
                x: 'left',
                y: 'bottom',
                itemGap: 3,
                textStyle: {
                    color: '#f1f1f1',
                    fontSize: 8
                },
                itemHeight: 7,
                itemWidth: 7
            },
            textStyle: {
                color: '#C1C1E4'
            },
            series: [{
                name: '学历信息',
                type: 'pie',
                radius: ['50%', '70%'],
                minAngle: 5,
                avoidLabelOverlap: false,
                label: {
                    normal: {
                        show: false,
                        position: 'center'
                    },
                    emphasis: {
                        show: true,
                        textStyle: {
                            fontSize: '15',
                            fontWeight: 'bold'
                        }
                    }
                },
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                data: param
            }]
        }

        left_bottom_top_chart.setOption(setOption)

        left_bottom_top_chart.hideLoading()
    }

    function showLeftBottomBottomChart(data) {
        left_bottom_bottom_chart = echarts.init(document.getElementById('left_bottom_bottom_chart'))

        left_bottom_bottom_chart.showLoading({text: '正在努力的读取数据中...'})


        var param = converXueliXueweiWithCodeData(data, 'xuewei')


        var setOption = {
            grid: {
                x: 35,
                y: 0,
                y2: 30,
                x2: 55
            },
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} %",
                position: ['50%', '50%']
            },
            xAxis: [
                {
                    show: false
                }
            ],
            yAxis: [
                {
                    type: 'category',
                    data: ['学士', '硕士', '博士'],
                    axisLabel: {
                        textStyle: {
                            fontSize: '1',
                            color: '#0087ED'
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            type: 'solid',
                            color: '#0087ED',
                            width: 1
                        }
                    }
                }
            ],
            series: [
                {
                    name: '学位占比',
                    type: 'bar',
                    data: param,
                    color: '#59c9ff',
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                position: 'right',
                                textStyle: {
                                    color: '#0087ED'
                                },
                                formatter: function (params) {
                                    return "("   params.value   "%)";

                                }
                            }
                        }
                    }
                }
            ]
        }

        left_bottom_bottom_chart.setOption(setOption)

        left_bottom_bottom_chart.hideLoading()
    }

    function showRightTopChart(data) {
        right_top_chart = echarts.init(document.getElementById('right-top-chart'))

        right_top_chart.showLoading({text: '正在努力的读取数据中...'})

        var param = converAgeWithCodeData(data)

        rightop = converAgeWithCodeData(data)

        var setOption = {
            color: ['#FCCB01', '#A820C6', '#D87A80'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: ['男性占比', '女性占比', '总人数'],
                itemGap: 3,
                textStyle: {
                    color: '#f1f1f1',
                    fontSize: 8
                },
                itemHeight: 7,
                itemWidth: 7
            },
            grid: {
                top: 40,
                bottom: 10,
                left: 10,
                right: 15,
                containLabel: true
            },
            calculable: true,
            xAxis: [{
                type: 'category',
                data: ['-30岁', "31-40岁", "41-50岁", "51-60岁", "60岁 "],
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8
                    },
                    formatter: function (value, index) {
                        if (index % 2 != 0) {
                            return '\n'   value
                        }
                        else {
                            return value
                        }
                    }
                }
            }],
            yAxis: [{
                type: 'value',
                name: '%',
                nameLocation: 'end',
                nameGap: 5,
                axisLabel: {
                    interval: 'auto',
                    formatter: '{value}',
                    textStyle: {
                        fontSize: 8
                    }
                },
                show: true,
                splitLine: {
                    show: false
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                }
            }, {
                type: 'value',
                name: '人',
                nameLocation: 'end',
                nameGap: 5,
                splitLine: {
                    show: false
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: '#D87A80',
                        width: 1
                    }
                }
            }
            ],
            series: [
                {
                    name: '男性占比',
                    type: 'line',
                    label: labelOption,
                    barWidth: 12,
                    itemStyle: {
                        normal: {
                            label: {
                                position: 'top',
                                formatter: '{b}\n{c}%'
                            }
                        }
                    },
                    data: param.ma_rate
                },
                {
                    name: '女性占比',
                    type: 'line',
                    label: labelOption,
                    barWidth: 12,
                    itemStyle: {
                        normal: {
                            label: {
                                position: 'top',
                                formatter: '{b}\n{c}%'
                            }
                        }
                    },
                    data: param.fe_rate
                },
                {
                    name: '总人数',
                    type: 'bar',
                    yAxisIndex: 1,
                    label: labelOption,
                    barWidth: 15,
                    itemStyle: {
                        color: '#D87A80'
                    },
                    data: param.all
                },
            ]
        }

        right_top_chart.setOption(setOption)

        right_top_chart.hideLoading()

        rightopnmb = 0
        for (var key in rightop) {
            for (var i = 0; i < rightop[key].length; i  ) {
                if (rightop[key][i] != 0) {
                    rightopnmb = 1;
                }
            }
        }

    }

    var rightop
    var rightopnmb

    function clickrightop() {
        if (!judgeIsAnyNullStr(rightop) && rightopnmb != 0) {
            var item = {
                containe_arr: rightop,
                place_code: place_code
            }
            comOpenFrame('frame1rightop', './echartsframelist/', false, item, 3);
        }
    }



    var contone_province_conver_array = []



    var role_zhengfu_name_array_rwo = ['正部', '副部', '正厅', '副厅', '正处', '副处', '正科', '副科', '科员及其他']

    function showMiddleBottomType3FirstChart(data) {


        middle_bottom_type_3_first_chart = echarts.init(document.getElementById('cont_two_1'))

        middle_bottom_type_3_first_chart.showLoading({text: '正在努力的读取数据中...'})

        var param = converAgeAvgWithCodeData(data)

        containe_arr = converAgeAvgWithCodeData(data)

        var setOption = {

            color: ['#0E51CD', '#0F5DD3', '#118DEC', '#13AEFD', '#59C9FF', '#D87A80'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: ["30岁及以下", "31-40岁", "41-50岁", "51-59岁", "60岁及以上", "平均年龄"],
                itemGap: 3,
                textStyle: {
                    color: '#C1C1E4',
                    fontSize: 8
                },
                itemHeight: 7,
                itemWidth: 7
            },
            grid: {
                top: 35,
                bottom: 35,
                left: 50,
                right: 30
            },
            xAxis: {
                type: 'category',
                data: role_zhengfu_name_array_rwo,
                axisLine: {

                    lineStyle: {
                        color: '#0087ED'
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8
                    },
                    formatter: function (value, index) {
                        if (index % 2 != 0) {
                            return '\n'   value
                        }
                        else {
                            return value
                        }
                    }
                }
            },


            yAxis: [{
                type: 'value',
                name: '人',
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8
                    }
                },
                nameLocation: 'end',
                nameGap: 5,
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                splitLine: {
                    show: false
                }
            }, {
                type: 'value',
                name: '岁',
                nameLocation: 'end',
                nameGap: 5,
                axisLine: {
                    lineStyle: {
                        color: '#D87A80',
                        width: 1
                    }
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                splitLine: {
                    show: false
                }
            }],
            series: [
                {
                    name: '30岁及以下',
                    type: 'bar',
                    stack: '总量',
                    barWidth: 17,
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.be30
                },
                {
                    name: '31-40岁',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt30lt35
                },
                {
                    name: '41-50岁',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt40lt45
                },
                {
                    name: '51-59岁',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt50lt55
                },
                {
                    name: '60岁及以上',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt60
                },
                {
                    name: '平均年龄',
                    type: 'line',
                    yAxisIndex: 1,
                    data: param.avg
                }
            ]
        }
        middle_bottom_type_3_first_chart.setOption(setOption)

        middle_bottom_type_3_first_chart.hideLoading()

        containenumber = 0
        for (var key in containe_arr) {
            for (var i = 0; i < containe_arr[key].length; i  ) {
                if (containe_arr[key][i] != 0) {
                    containenumber = 1;

                }
            }
        }

    }


    var containe_arr
    var containenumber  //判断数组是否都为零

    function clickcontone() {

        if (!judgeIsAnyNullStr(containe_arr) && containenumber != 0) {

            var item = {
                containe_arr: containe_arr,
                place_code: place_code
            }
            comOpenFrame('frame0midbottom', './echartsframelist/', false, item, 3);
        }
    }





    function showMiddleBottomType3SecondChart(data) {
        var colName = ['研究生', '本科', '专科', '中专及以下']

        middle_bottom_type_3_second_chart = echarts.init(document.getElementById('cont_two_2'))

        middle_bottom_type_3_second_chart.showLoading({text: '正在努力的读取数据中...'})

        var param = converXueLiWithCodeData(data)

        contwo = converXueLiWithCodeData(data)

        var province_conver_array = []

        $.each(province_array, function (index, item) {
            consoledebug.log('each province_array index is : '   JSON.stringify(index))
            consoledebug.log('each province_array item is : '   JSON.stringify(item))

            if (index % 2 == 0) {
                province_conver_array.push(item);
            } else {
                province_conver_array.push("\n"   item);
            }
        })

        contwo_province_conver_array = province_conver_array
        var setOption = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: colName,
                textStyle: {
                    color: '#C1C1E4',
                    fontSize: 8
                },
                itemHeight: 10,
                itemWidth: 12
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    data: province_conver_array,
                    axisLabel: {
                        interval: 0,
                        textStyle: {
                            fontSize: 8
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            type: 'solid',
                            color: '#0087ED',
                            width: 1
                        }
                    }
                }
            ],
            yAxis: [
                {
                    splitLine: {
                        show: false
                    },
                    axisLabel: {
                        interval: 0,
                        textStyle: {
                            fontSize: 8
                        }
                    },
                    type: 'value',
                    name: '人数（位）',
                    nameGap: 15,
                    axisLine: {
                        lineStyle: {
                            type: 'solid',
                            color: '#0087ED',
                            width: 1
                        }
                    }
                }
            ],
            series: [
                {
                    name: colName[0],
                    type: 'bar',
                    data: param.J14
                },
                {
                    name: colName[1],
                    type: 'bar',
                    data: param.J15
                },
                {
                    name: colName[2],
                    type: 'bar',
                    data: param.J16
                },
                {
                    name: colName[3],
                    type: 'bar',
                    data: param.J17
                }
            ]
        }

        middle_bottom_type_3_second_chart.setOption(setOption)

        $('#cont_two_2').addClass('aui-hide')

        middle_bottom_type_3_second_chart.hideLoading()


        contwonmb = 0
        for (var key in contwo) {
            for (var i = 0; i < contwo[key].length; i  ) {
                if (contwo[key][i] != 0) {
                    contwonmb = 1;
                }
            }
        }

    }

    var contwo
    var contwo_province_conver_array
    var contwonmb
    function clickcontwo() {

        if (!judgeIsAnyNullStr(contwo) && contwo.length > 0 && contwonmb != 0) {
            var item = {
                containe_arr: contwo,
                province_conver_array: contwo_province_conver_array,
                provinceid_array: provinceid_array
            }
            comOpenFrame('frame1contwo', './echartsframelist/', false, item, 3);
        }
    }


    function showMiddleBottomType3ThirdChart(data) {
        var colName = ['女干部', '少数民族', '非党员']

        middle_bottom_type_3_third_chart = echarts.init(document.getElementById('cont_two_3'))

        middle_bottom_type_3_third_chart.showLoading({text: '正在努力的读取数据中...'})

        var param = converNSFRateWithCodeData(data)

        conthree = converNSFRateWithCodeData(data)

        var province_conver_array = []

        $.each(province_array, function (index, item) {
            consoledebug.log('each province_array index is : '   JSON.stringify(index))
            consoledebug.log('each province_array item is : '   JSON.stringify(item))

            if (index % 2 == 0) {
                province_conver_array.push(item);
            } else {
                province_conver_array.push("\n"   item);
            }
        })

        conthree_province_conver_array = province_conver_array

        var setOption = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: colName,
                textStyle: {
                    color: '#C1C1E4',
                    fontSize: 8
                },
                itemHeight: 10,
                itemWidth: 12
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    data: province_conver_array,
                    axisLabel: {
                        interval: 0,
                        textStyle: {
                            fontSize: 8      // 让字体变大
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            type: 'solid',
                            color: '#0087ED',
                            width: 1
                        }
                    }
                }
            ],
            yAxis: [
                {
                    splitLine: {
                        show: false
                    },
                    type: 'value',
                    name: '人数（位）',
                    nameGap: 15,
                    axisLabel: {
                        interval: 0,
                        textStyle: {
                            fontSize: 8// 让字体变大
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            type: 'solid',
                            color: '#0087ED',
                            width: 1
                        }
                    }
                }
            ],
            series: [
                {
                    name: colName[0],
                    type: 'bar',
                    data: param.J5
                },
                {
                    name: colName[1],
                    type: 'bar',
                    data: param.J8
                },
                {
                    name: colName[2],
                    type: 'bar',
                    data: param.J10
                }
            ]
        }


        middle_bottom_type_3_third_chart.setOption(setOption)

        middle_bottom_type_3_third_chart.hideLoading()

        $('#cont_two_3').addClass('aui-hide')


        conthreenmb = 0
        for (var key in conthree) {
            for (var i = 0; i < conthree[key].length; i  ) {
                if (conthree[key][i] != 0) {
                    conthreenmb = 1;
                }
            }
        }

    }


    var conthree
    var conthree_province_conver_array
    var conthreenmb
    function clickconthree() {
        if (!judgeIsAnyNullStr(conthree) && conthree.length > 0 && conthreenmb != 0) {
            var item = {
                containe_arr: conthree,
                province_conver_array: conthree_province_conver_array,
                provinceid_array: provinceid_array
            }
            comOpenFrame('frame1conthree', './echartsframelist/', false, item, 3);
        }
    }




    function showMiddleBottomType12Chart(data) {

        middle_bottom_type_1_2_chart = echarts.init(document.getElementById('tbstyle-message-content'))

        middle_bottom_type_1_2_chart.showLoading({text: '正在努力的读取数据中...'})

        var param = converAllJibieData(data)

        consoledebug.log('middle_bottom_type_1_2_chart param is : '   JSON.stringify(param))

        var setOption = {
            color: ['#0E51CD', '#0F5DD3', '#118DEC', '#13AEFD', '#59C9FF', '#B7E4F9', '#D87A80'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: ["20岁以下", "21-25", "31-35", "41-45", "51-55", "60岁及以上", "平均年龄"],
                textStyle: {
                    color: '#f1f1f1',
                    fontSize: 8
                },
                itemHeight: 10,
                itemWidth: 12
            },
            grid: {
                left: '3%',
                right: '5%',
                bottom: '1%',
                top: '15%',
                y2: 140,
                containLabel: true
            },
            xAxis: {
                type: 'category',
                data: role_name_array_two,
                axisLine: {
                    lineStyle: {
                        color: '#0087ED'
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8
                    },
                    formatter: function (value, index) {
                        if (index % 2 != 0) {
                            return '\n'   value
                        }
                        else {
                            return value
                        }
                    }
                }
            },
            yAxis: [{
                type: 'value',
                name: '人',
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisLabel: {
                    interval: 0,
                    textStyle: {
                        fontSize: 8
                    }
                },
                nameLocation: 'end',
                nameGap: 5,
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                splitLine: {
                    show: false
                }
            }, {
                type: 'value',
                name: '岁',
                nameLocation: 'end',
                nameGap: 5,
                axisLine: {
                    lineStyle: {
                        color: '#D87A80',
                        width: 1
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                splitLine: {
                    show: false
                }
            }],
            series: [
                {
                    name: '30岁及以下',
                    type: 'bar',
                    stack: '总量',
                    barWidth: 12,
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.be30
                },
                {
                    name: '31-40岁',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt30lt35
                },
                {
                    name: '41-50岁',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt40lt45
                },
                {
                    name: '51-60岁',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt50lt55
                },
                {
                    name: '60岁及以上',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt60
                },
                {
                    name: '平均值',
                    type: 'line',
                    yAxisIndex: 1,
                    data: param.avg
                }
            ]
        }

        middle_bottom_type_1_2_chart.setOption(setOption)

        middle_bottom_type_1_2_chart.hideLoading()
    }



    //    function showRightBottomFirstChart(data) {
    //        var legend_array = ['30岁及以下', '31-40岁', '41-50岁', '51-59岁', '60岁及以上']
    //        right_bottom_first_chart = echarts.init(document.getElementById('cont_one_1'))
    //
    //        right_bottom_first_chart.showLoading({text: '正在努力的读取数据中...'})
    //
    //
    //       var param = converCengciAgeWithCodeData(data)


    //      rightone_arr = converCengciAgeWithCodeData(data)
    //
    //
    //        if (param.be30.length > 0) {
    //
    //
    //            var onenumber = 0
    //
    //            var role_zhengfu_name_array_again_1
    //
    //            var role_zhengfu_name_array_again_2
    //
    //            var role_zhengfu_name_array_again_3
    //
    //            var role_zhengfu_name_array_again_4
    //
    //            for (var key in param) {
    //                if (param[key][param[key].length - 1] == 0) {
    //                    onenumber
    //                }
    //            }
    //            if (onenumber == 10) {
    //                role_zhengfu_name_array_again_1 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部']
    //            } else {
    //                role_zhengfu_name_array_again_1 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
    //            }
    //            var twonumber = 0
    //            for (var key in param) {
    //                if (param[key][param[key].length - 2] == 0) {
    //                    twonumber
    //                }
    //            }
    //            if (twonumber == 10) {
    //                role_zhengfu_name_array_again_2 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '正部']
    //            } else {
    //                role_zhengfu_name_array_again_2 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
    //            }
    //
    //
    //            var threenumber = 0
    //            for (var key in param) {
    //                if (param[key][param[key].length - 3] == 0) {
    //                    threenumber
    //                }
    //            }
    //            if (threenumber == 10) {
    //                role_zhengfu_name_array_again_3 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '副部', '正部']
    //            } else {
    //                role_zhengfu_name_array_again_3 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
    //            }
    //
    //
    //            var frounumber = 0
    //            for (var key in param) {
    //                if (param[key][param[key].length - 4] == 0) {
    //                    frounumber
    //                }
    //            }
    //            if (frounumber == 10) {
    //                role_zhengfu_name_array_again_4 = ['科员及其他', '副科', '正科', '副处', '正处', '正厅', '副部', '正部']
    //            } else {
    //                role_zhengfu_name_array_again_4 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
    //            }
    //
    //
    //            role_name_array = role_zhengfu_name_array_again_1.intersect(role_zhengfu_name_array_again_2).intersect(role_zhengfu_name_array_again_3).intersect(role_zhengfu_name_array_again_4)
    //
    //        }
    //
    //
    //        var setOption = {
    //            color: ['#7F11C1', '#A820C6', '#C95AE4', '#0083C1', '#3270FF', '#0045DF'],
    //            tooltip: {
    //                trigger: 'axis',
    //                axisPointer: {
    //                    type: 'shadow'
    //                },
    //                position: ['-30%', '0%']   //提示框位置
    //
    //            },
    //            legend: {
    //                data: legend_array,
    //                itemGap: 3,
    //                textStyle: {
    //                    color: '#f1f1f1',
    //                    fontSize: 8
    //                },
    //                itemHeight: 7,
    //                itemWidth: 7
    //            },
    //            grid: {
    //                top: 30,    //距离容器上边界40像素
    //                bottom: 10,   //距离容器下边界30像素
    //                left: 10,
    //                right: 15,
    //                containLabel: true
    //            },
    //            xAxis: {
    //                type: 'value',
    //                axisLine: {
    //                    lineStyle: {
    //                        color: '#0087ED',
    //                        width: 1
    //                    }
    //                },
    //                min: 0,
    //                max: 100,
    //                axisLabel: {
    //                    interval: 'auto',
    //                    formatter: '{value}%',
    //                    textStyle: {
    //                        fontSize: 8// 让字体变大
    //                    }
    //                },
    //                splitLine: {
    //                    show: false
    //                },
    //                axisTick: {
    //                    show: true,
    //                    length: 3,
    //                    lineStyle: {
    //                        opacity: 0.5
    //                    }
    //                },
    //                show: true
    //            },
    //            yAxis: {
    //                type: 'category',
    //                data: role_name_array,
    //                axisLine: {
    //                    lineStyle: {
    //                        color: '#0087ED',
    //                        width: 1
    //                    }
    //                },
    //                axisTick: {
    //                    show: true,
    //                    length: 3,
    //                    lineStyle: {
    //                        opacity: 0.5
    //                    }
    //                },
    //                splitLine: {
    //                    show: false
    //                },
    //                axisLabel: {
    //                    interval: 0,
    //                    rotate: 0,        //字体倾斜
    //                    textStyle: {
    //                        fontSize: 8// 让字体变大
    //                    }
    //                }
    //            },
    //            series: [
    //                {
    //                    name: legend_array[0],
    //                    type: 'bar',
    //                    stack: '总量',
    //                    barWidth: 15,
    //                    label: {
    //                        normal: {
    //                            position: 'insideRight'
    //                        }
    //                    },
    //                    data: param.be30
    //                },
    //                {
    //                    name: legend_array[1],
    //                    type: 'bar',
    //                    stack: '总量',
    //                    label: {
    //                        normal: {
    //                            position: 'insideRight'
    //                        }
    //                    },
    //                    data: param.be40
    //                },
    //                {
    //                    name: legend_array[2],
    //                    type: 'bar',
    //                    stack: '总量',
    //                    label: {
    //                        normal: {
    //                            position: 'insideRight'
    //                        }
    //                    },
    //                    data: param.be50
    //                },
    //                {
    //                    name: legend_array[3],
    //                    type: 'bar',
    //                    stack: '总量',
    //                    label: {
    //                        normal: {
    //                            position: 'insideRight'
    //                        }
    //                    },
    //                    data: param.be60
    //                },
    //                {
    //                    name: legend_array[4],
    //                    type: 'bar',
    //                    stack: '总量',
    //                    label: {
    //                        normal: {
    //                            position: 'insideRight'
    //                        }
    //                    },
    //                    data: param.gt60
    //                }
    //            ]
    //        }
    //
    //        right_bottom_first_chart.setOption(setOption)
    //
    //        right_bottom_first_chart.hideLoading()
    //
    //        rightonenmb = 0
    //        for (var key in rightone_arr) {
    //            for (var i = 0; i < rightone_arr[key].length; i  ) {
    //                if (rightone_arr[key][i] != 0) {
    //                    rightonenmb = 1;
    //                }
    //            }
    //        }
    //
    //    }

    var rightone_arr
    var rightonenmb

    function clickrightone() {
        if (!judgeIsAnyNullStr(rightone_arr) && rightonenmb != 0) {
            var item = {
                containe_arr: rightone_arr,
                place_code: place_code
            }
            comOpenFrame('frame1rightbtone', './echartsframelist/', false, item, 3);
        }
    }


    function showRightBottomSecondChart(data) {
        var legend_array = ['不满2年', '2年至不满3年', '3年至不满4年', '4年至不满5年', '5年至不满6年', '6年及以上']

        right_bottom_second_chart = echarts.init(document.getElementById('cont_one_2'))

        right_bottom_second_chart.showLoading({text: '正在努力的读取数据中...'})

        var param = converCengciTimeWithCodeData(data)

        rightwo_arr = converCengciTimeWithCodeData(data)


        if (param.lt2.length > 0) {


            var onenumber = 0

            var role_zhengfu_name_array_again_1

            var role_zhengfu_name_array_again_2

            var role_zhengfu_name_array_again_3

            var role_zhengfu_name_array_again_4

            for (var key in param) {
                if (param[key][param[key].length - 1] == 0) {
                    onenumber
                }
            }
            if (onenumber == 12) {
                role_zhengfu_name_array_again_1 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部']
            } else {
                role_zhengfu_name_array_again_1 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }
            var twonumber = 0
            for (var key in param) {
                if (param[key][param[key].length - 2] == 0) {
                    twonumber
                }
            }
            if (twonumber == 12) {
                role_zhengfu_name_array_again_2 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '正部']
            } else {
                role_zhengfu_name_array_again_2 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }


            var threenumber = 0
            for (var key in param) {
                if (param[key][param[key].length - 3] == 0) {
                    threenumber
                }
            }
            if (threenumber == 12) {
                role_zhengfu_name_array_again_3 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '副部', '正部']
            } else {
                role_zhengfu_name_array_again_3 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }


            var frounumber = 0
            for (var key in param) {
                if (param[key][param[key].length - 4] == 0) {
                    frounumber
                }
            }
            if (frounumber == 12) {
                role_zhengfu_name_array_again_4 = ['科员及其他', '副科', '正科', '副处', '正处', '正厅', '副部', '正部']
            } else {
                role_zhengfu_name_array_again_4 = ['科员及其他', '副科', '正科', '副处', '正处', '副厅', '正厅', '副部', '正部']
            }


            role_name_array = role_zhengfu_name_array_again_1.intersect(role_zhengfu_name_array_again_2).intersect(role_zhengfu_name_array_again_3).intersect(role_zhengfu_name_array_again_4)

        }


        var setOption = {
            color: ['#7F11C1', '#A820C6', '#C95AE4', '#0083C1', '#3270FF', '#0045DF'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                },
                position: ['-30%', '0%']   //提示框位置
            },
            legend: {
                data: legend_array,
                itemGap: 3,
                textStyle: {
                    color: '#f1f1f1',
                    fontSize: 8
                },
                itemHeight: 7,
                itemWidth: 7
            },
            grid: {
                top: 30,
                bottom: 10,
                left: 10,
                right: 15,
                containLabel: true
            },
            xAxis: {
                type: 'value',
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                min: 0,
                max: 100,
                axisLabel: {
                    interval: 'auto',
                    formatter: '{value}%',
                    textStyle: {
                        fontSize: 8// 让字体变大
                    }
                },
                splitLine: {
                    show: false
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                show: true
            },
            yAxis: {
                type: 'category',
                data: role_name_array,
                axisLine: {
                    lineStyle: {
                        color: '#0087ED',
                        width: 1
                    }
                },
                axisTick: {
                    show: true,
                    length: 3,
                    lineStyle: {
                        opacity: 0.5
                    }
                },
                splitLine: {
                    show: false
                },
                axisLabel: {
                    interval: 0,
                    rotate: 0,
                    textStyle: {
                        fontSize: 8
                    }
                }
            },
            series: [
                {
                    name: legend_array[0],
                    type: 'bar',
                    stack: '总量',
                    barWidth: 15,
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.lt2
                },
                {
                    name: legend_array[1],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt2lt3
                },
                {
                    name: legend_array[2],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt3lt4
                },
                {
                    name: legend_array[3],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt4lt5
                },
                {
                    name: legend_array[4],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt5lt6
                },
                {
                    name: legend_array[5],
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            position: 'insideRight'
                        }
                    },
                    data: param.gt6
                }
            ]
        }

        right_bottom_second_chart.setOption(setOption)

        //   $('#cont_one_2').addClass('aui-hide')

        right_bottom_second_chart.hideLoading()


        rightwonmb = 0
        for (var key in rightwo_arr) {
            for (var i = 0; i < rightwo_arr[key].length; i  ) {
                if (rightwo_arr[key][i] != 0) {
                    rightwonmb = 1;
                }
            }
        }

    }

    var rightwo_arr
    var rightwonmb

    function clickrightwo() {
        if (!judgeIsAnyNullStr(rightwo_arr) && rightwonmb != 0) {
            var item = {
                containe_arr: rightwo_arr,
                place_code: place_code
            }
            comOpenFrame('frame1rightbtwo', './echartsframelist/', false, item, 3);
        }
    }

    function showTable(data) {

    }

    function getSum(array) {
        var arr = array
        var sum = arr.reduce(function (prev, curr, idx, arr) {
            return prev   curr
        })
        return sum
    }

    function clickTap(el, type, id) {
        $('.'   type).removeClass('tips')

        $(el).addClass('tips')

        $('.cont_'   type).addClass('aui-hide')

        $('#'   id).removeClass('aui-hide')
    }


    var number1 = 0,
        number2 = 0,
        number3 = 0,
        number4 = 0;

    function loadTrHtml(id, data) {
        if (id == 'table_one') {

            if (data.value == 0) {
                number1  ;
                return
            }

            var interText = doT.template($("#tr-message-content-template").text())
            $("#"   id).append(interText(data))
        } else if (id == 'table_two') {

            if (data.value == 0) {
                number2  ;
                return
            }


            var interText = doT.template($("#tr-jgpeo-message-content-template").text())
            $("#"   id).append(interText(data))
        } else if (id == 'table_three') {

            if (data.value == 0) {
                number3
                return
            }

            var interText = doT.template($("#tr-peo-message-content-template").text())
            $("#"   id).append(interText(data))
        } else {
            if (data.value == 0) {
                number4
                return
            }

            var interText = doT.template($("#tr-peo-message-content-template").text())
            $("#"   id).append(interText(data))


        }





        if (place_type == 3) {

            if (number1 == 9) {
                $("#table_one_div").width("0%")
                $("#table_two_div").width("24%")
                $("#table_three_div").width("24%")
                $("#table_four_div").width("24%")
            } else if (number2 == 7) {

                $("#table_one_div").width("24%")
                $("#table_two_div").width("0%")
                $("#table_three_div").width("24%")
                $("#table_four_div").width("24%")

            } else if (number3 == 6) {
                $("#table_one_div").width("24%")
                $("#table_two_div").width("24%")
                $("#table_three_div").width("0%")
                $("#table_four_div").width("24%")
            } else if (number4 == 4) {
                $("#table_one_div").width("24%")
                $("#table_two_div").width("24%")
                $("#table_three_div").width("24%")
                $("#table_four_div").width("0%")
            } else if (number1 == 9 && number2 == 7) {
                $("#table_one_div").width("0%")
                $("#table_two_div").width("0%")
                $("#table_three_div").width("36%")
                $("#table_four_div").width("36%")
            } else if (number1 == 9 && number3 == 6) {
                $("#table_one_div").width("0%")
                $("#table_two_div").width("36%")
                $("#table_three_div").width("0%")
                $("#table_four_div").width("36%")
            } else if (number1 == 9 && number4 == 4) {
                $("#table_one_div").width("0%")
                $("#table_two_div").width("36%")
                $("#table_three_div").width("36%")
                $("#table_four_div").width("0%")
            } else if (number2 == 7 && number3 == 6) {
                $("#table_one_div").width("36%")
                $("#table_two_div").width("0%")
                $("#table_three_div").width("0%")
                $("#table_four_div").width("36%")
            } else if (number2 == 7 && number4 == 4) {
                $("#table_one_div").width("36%")
                $("#table_two_div").width("0%")
                $("#table_three_div").width("36%")
                $("#table_four_div").width("0%")
            } else if (number3 == 6 && number4 == 4) {
                $("#table_one_div").width("36%")
                $("#table_two_div").width("36%")
                $("#table_three_div").width("0%")
                $("#table_four_div").width("0%")
            }
        }
    }

    function loadType3() {
        if (middle_bottom_type_3_first_chart) {
            middle_bottom_type_3_first_chart.dispose()
        }
        if (middle_bottom_type_3_second_chart) {
            middle_bottom_type_3_second_chart.dispose()
        }
        if (middle_bottom_type_3_third_chart) {
            middle_bottom_type_3_third_chart.dispose()
        }
        if (middle_bottom_type_1_2_chart) {
            middle_bottom_type_1_2_chart.dispose()
        }

        $("#lxstyle-message-content").empty()
        $("#tbstyle-message-content").empty()

        var interText = doT.template($("#lxthree-message-content-template").text())
        $("#lxstyle-message-content").html(interText(null))

        var interText = doT.template($("#tbthree-message-content-template").text())
        $("#tbstyle-message-content").html(interText(null))
    }

    function loadType12() {
        if (middle_bottom_type_3_first_chart) {
            middle_bottom_type_3_first_chart.dispose()
        }
        if (middle_bottom_type_3_second_chart) {
            middle_bottom_type_3_second_chart.dispose()
        }
        if (middle_bottom_type_3_third_chart) {
            middle_bottom_type_3_third_chart.dispose()
        }
        if (middle_bottom_type_1_2_chart) {
            middle_bottom_type_1_2_chart.dispose()
        }

        $("#lxstyle-message-content").empty()
        $("#tbstyle-message-content").empty()

        var interText = doT.template($("#lxother-message-content-template").text())
        $("#lxstyle-message-content").html(interText(null))
    }

    function converNSFWithCodeData(data) {
        consoledebug.log('值是什么: '   JSON.stringify(data))
        var nv_rate
        var shao_rate
        var fei_rate

        if (judgeIsAnyNullStr(data)) {
            nv_rate = 0 / 100
            shao_rate = 0 / 100
            fei_rate = 0 / 100


        } else {

            var all = data.j1 ? parseInt(data.j1) : 0

            var all_num = new CountUp("all_num", old_all, all, 0, 1.5, {suffix: '人'})
            all_num.start()

            nv = data.j5 ? parseInt(data.j5) : 0
            shao = data.j8 ? parseInt(data.j8) : 0
            fei = data.j10 ? parseInt(data.j10) : 0


            nv_rate = Math.floor(nv / all * 10000) / 100
            shao_rate = Math.floor(shao / all * 10000) / 100
            fei_rate = Math.floor(fei / all * 10000) / 100

        }

        var nv,
            shao,
            fei;


        var param = {
            nv_rate: nv_rate,
            shao_rate: shao_rate,
            fei_rate: fei_rate,

            nv: nv,
            shao: shao,
            fei: fei
        }

        old_all = all


        return param
    }

    function converXueliXueweiWithCodeData(data, type) {


        var nv = data.J5 ? parseInt(data.J5) : 0
        var nan = data.J6 ? parseInt(data.J6) : 0

        var yanjiusheng = data.J14 ? parseInt(data.J14) : 0
        var benkesheng = data.J15 ? parseInt(data.J15) : 0
        var zhuankesheng = data.J16 ? parseInt(data.J16) : 0
        var zhongzhuansheng = data.J17 ? parseInt(data.J17) : 0

        var boshi = data.J18 ? parseInt(data.J18) : 0
        var shuoshi = data.J19 ? parseInt(data.J19) : 0
        var xueshi = data.J20 ? parseInt(data.J20) : 0

        var all = nv   nan

        var xueli = [
            {
                name: '研究生',
                value: yanjiusheng
            },
            {
                name: '本科生',
                value: benkesheng
            },
            {
                name: '专科生',
                value: zhuankesheng
            },
            {
                name: '中专及以下',
                value: zhongzhuansheng
            }
        ]

        var xuewei = [
            xueshi ? Math.floor(xueshi / all * 10000) / 100 : 0,
            shuoshi ? Math.floor(shuoshi / all * 10000) / 100 : 0,
            boshi ? Math.floor(boshi / all * 10000) / 100 : 0
        ]


        if (type === 'xueli') {
            return xueli
        }

        if (type === 'xuewei') {
            return xuewei
        }
    }

    function converAgeAvgWithCodeData(data) {
        var lt20 = []
        var gt20lt25 = []
        var gt30lt35 = []
        var gt40lt45 = []
        var gt50lt55 = []
        var gt60 = []
        var avgpeo = []     //平均人数
        var avg = []         //平均人数*平均年龄  得出平均年龄

        for (var i = data.length - 1; i >= 0; i--) {
            switch (data[i].ROWSID) {
                case '19':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2)*parseInt(data[i].J1))
                    break
                case '17':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1]  = parseInt(data[i].J1)
                    avg[avg.length - 1]  = parseInt(data[i].J2)*parseInt(data[i].J1)
                    break
                case '16':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1]  = parseInt(data[i].J1)
                    avg[avg.length - 1]  = parseInt(data[i].J2)*parseInt(data[i].J1)
                    if(avgpeo[avgpeo.length - 1] == 0){
                        avg[avg.length - 1] = 0
                    }else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1])/parseInt(avgpeo[avgpeo.length - 1] )
                    }
                    break
                case '15':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2)*parseInt(data[i].J1))
                    break
                case '14':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1]  = parseInt(data[i].J1)
                    avg[avg.length - 1]  = parseInt(data[i].J2)*parseInt(data[i].J1)
                    if(avgpeo[avgpeo.length - 1] == 0){
                        avg[avg.length - 1] = 0
                    }else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1])/parseInt(avgpeo[avgpeo.length - 1] )
                    }
                    break
                case '13':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2)*parseInt(data[i].J1))
                    break
                case '12':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1]  = parseInt(data[i].J1)
                    avg[avg.length - 1]  = parseInt(data[i].J2)*parseInt(data[i].J1)
                    if(avgpeo[avgpeo.length - 1] == 0){
                        avg[avg.length - 1] = 0
                    }else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1])/parseInt(avgpeo[avgpeo.length - 1] )
                    }
                    break
                case '11':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2)*parseInt(data[i].J1))
                    break
                case '10':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1]  = parseInt(data[i].J1)
                    avg[avg.length - 1]  = parseInt(data[i].J2)*parseInt(data[i].J1)
                    if(avgpeo[avgpeo.length - 1] == 0){
                        avg[avg.length - 1] = 0
                    }else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1])/parseInt(avgpeo[avgpeo.length - 1] )
                    }
                    break
                case '9':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2)*parseInt(data[i].J1))
                    break
                case '8':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1]  = parseInt(data[i].J1)
                    avg[avg.length - 1]  = parseInt(data[i].J2)*parseInt(data[i].J1)
                    if(avgpeo[avgpeo.length - 1] == 0){
                        avg[avg.length - 1] = 0
                    }else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1])/parseInt(avgpeo[avgpeo.length - 1] )
                    }
                    break
                case '7':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2)*parseInt(data[i].J1))
                    break
                case '6':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1]  = parseInt(data[i].J1)
                    avg[avg.length - 1]  = parseInt(data[i].J2)*parseInt(data[i].J1)
                    if(avgpeo[avgpeo.length - 1] == 0){
                        avg[avg.length - 1] = 0
                    }else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1])/parseInt(avgpeo[avgpeo.length - 1] )
                    }
                    break
                case '5':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avgpeo.push(parseInt(data[i].J1))
                    avg.push(parseInt(data[i].J2)*parseInt(data[i].J1))
                    break
                case '4':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avgpeo[avgpeo.length - 1]  = parseInt(data[i].J1)
                    avg[avg.length - 1]  = parseInt(data[i].J2)*parseInt(data[i].J1)
                    if(avgpeo[avgpeo.length - 1] == 0){
                        avg[avg.length - 1] = 0
                    }else {
                        avg[avg.length - 1] = parseInt(avg[avg.length - 1])/parseInt(avgpeo[avgpeo.length - 1] )
                    }
                    break
                case '3':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                case '2':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                default:
                    break
            }
        }


        for (i = 0; i < avg.length; i  ) {
            avg[i] = avg[i].toFixed(0)
        }

        //30岁以下  数组相加
        var be30 = []

        lt20.forEach(function (val, index) {
            be30[index] = lt20[index]   gt20lt25[index]
        })


        var param = {
            lt20: lt20.reverse(),
            be30: be30.reverse(),
            gt20lt25: gt20lt25.reverse(),
            gt30lt35: gt30lt35.reverse(),
            gt40lt45: gt40lt45.reverse(),
            gt50lt55: gt50lt55.reverse(),
            gt60: gt60.reverse(),
            avg: avg.reverse()
        }
        consoledebug.log('数据格式: '   JSON.stringify(param))
        return param
    }

    function converXueLiWithCodeData(data) {
        var J14 = []
        var J15 = []
        var J16 = []
        var J17 = []

        for (var i = 0; i < data.length; i  ) {
            J14.push(data[i].J14)
            J15.push(data[i].J15)
            J16.push(data[i].J16)
            J17.push(data[i].J17)
        }

        var param = {
            J14: J14,
            J15: J15,
            J16: J16,
            J17: J17
        }

        return param
    }

    function converNSFRateWithCodeData(data) {
        var J5 = []
        var J8 = []
        var J10 = []

        for (var i = 0; i < data.length; i  ) {
            J5.push(data[i].J5)
            J8.push(data[i].J8)
            J10.push(data[i].J10)
        }

        var param = {
            J5: J5,
            J8: J8,
            J10: J10
        }

        return param
    }

    function converCengciAgeWithCodeData(data) {


        var lt20 = []
        var gt21lt25 = []
        var gt26lt30 = []
        var gt31lt35 = []
        var gt36lt40 = []
        var gt41lt45 = []
        var gt46lt50 = []
        var gt51lt55 = []
        var gt56lt59 = []
        var gt60 = []
        var all = []

        var su1 = []
        var su2 = []
        var su3 = []
        var su4 = []
        var su5 = []
        var su6 = []
        var su7 = []
        var su8 = []
        var su9 = []
        var su10 = []


        for (var i = data.length - 1; i >= 0; i--) {
            switch (data[i].ROWSID) {
                case '19':
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                case '17':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1]  = parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1]  = parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1]  = parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1]  = parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1]  = parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1]  = parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1]  = parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1]  = parseInt(data[i].J29)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    all[all.length - 1]  = parseInt(data[i].J1)


                    su1[su1.length - 1]  = parseInt(data[i].J21)
                    su2[su2.length - 1]  = parseInt(data[i].J22)
                    su3[su3.length - 1]  = parseInt(data[i].J23)
                    su4[su4.length - 1]  = parseInt(data[i].J24)
                    su5[su5.length - 1]  = parseInt(data[i].J25)
                    su6[su6.length - 1]  = parseInt(data[i].J26)
                    su7[su7.length - 1]  = parseInt(data[i].J27)
                    su8[su8.length - 1]  = parseInt(data[i].J28)
                    su9[su9.length - 1]  = parseInt(data[i].J29)
                    su10[su10.length - 1]  = parseInt(data[i].J30)
                    break
                case '16':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1]  = parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1]  = parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1]  = parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1]  = parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1]  = parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1]  = parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1]  = parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1]  = parseInt(data[i].J29)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)


                    su1[su1.length - 1]  = parseInt(data[i].J21)
                    su2[su2.length - 1]  = parseInt(data[i].J22)
                    su3[su3.length - 1]  = parseInt(data[i].J23)
                    su4[su4.length - 1]  = parseInt(data[i].J24)
                    su5[su5.length - 1]  = parseInt(data[i].J25)
                    su6[su6.length - 1]  = parseInt(data[i].J26)
                    su7[su7.length - 1]  = parseInt(data[i].J27)
                    su8[su8.length - 1]  = parseInt(data[i].J28)
                    su9[su9.length - 1]  = parseInt(data[i].J29)
                    su10[su10.length - 1]  = parseInt(data[i].J30)


                    all[all.length - 1]  = parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0


                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '15' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '14' :
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1]  = parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1]  = parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1]  = parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1]  = parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1]  = parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1]  = parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1]  = parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1]  = parseInt(data[i].J29)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)

                    su1[su1.length - 1]  = parseInt(data[i].J21)
                    su2[su2.length - 1]  = parseInt(data[i].J22)
                    su3[su3.length - 1]  = parseInt(data[i].J23)
                    su4[su4.length - 1]  = parseInt(data[i].J24)
                    su5[su5.length - 1]  = parseInt(data[i].J25)
                    su6[su6.length - 1]  = parseInt(data[i].J26)
                    su7[su7.length - 1]  = parseInt(data[i].J27)
                    su8[su8.length - 1]  = parseInt(data[i].J28)
                    su9[su9.length - 1]  = parseInt(data[i].J29)
                    su10[su10.length - 1]  = parseInt(data[i].J30)


                    all[all.length - 1]  = parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '13' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '12' :
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1]  = parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1]  = parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1]  = parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1]  = parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1]  = parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1]  = parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1]  = parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1]  = parseInt(data[i].J29)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)

                    su1[su1.length - 1]  = parseInt(data[i].J21)
                    su2[su2.length - 1]  = parseInt(data[i].J22)
                    su3[su3.length - 1]  = parseInt(data[i].J23)
                    su4[su4.length - 1]  = parseInt(data[i].J24)
                    su5[su5.length - 1]  = parseInt(data[i].J25)
                    su6[su6.length - 1]  = parseInt(data[i].J26)
                    su7[su7.length - 1]  = parseInt(data[i].J27)
                    su8[su8.length - 1]  = parseInt(data[i].J28)
                    su9[su9.length - 1]  = parseInt(data[i].J29)
                    su10[su10.length - 1]  = parseInt(data[i].J30)


                    all[all.length - 1]  = parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '11' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '10' :
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1]  = parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1]  = parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1]  = parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1]  = parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1]  = parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1]  = parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1]  = parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1]  = parseInt(data[i].J29)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)

                    su1[su1.length - 1]  = parseInt(data[i].J21)
                    su2[su2.length - 1]  = parseInt(data[i].J22)
                    su3[su3.length - 1]  = parseInt(data[i].J23)
                    su4[su4.length - 1]  = parseInt(data[i].J24)
                    su5[su5.length - 1]  = parseInt(data[i].J25)
                    su6[su6.length - 1]  = parseInt(data[i].J26)
                    su7[su7.length - 1]  = parseInt(data[i].J27)
                    su8[su8.length - 1]  = parseInt(data[i].J28)
                    su9[su9.length - 1]  = parseInt(data[i].J29)
                    su10[su10.length - 1]  = parseInt(data[i].J30)

                    all[all.length - 1]  = parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '9' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '8' :
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1]  = parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1]  = parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1]  = parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1]  = parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1]  = parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1]  = parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1]  = parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1]  = parseInt(data[i].J29)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)

                    su1[su1.length - 1]  = parseInt(data[i].J21)
                    su2[su2.length - 1]  = parseInt(data[i].J22)
                    su3[su3.length - 1]  = parseInt(data[i].J23)
                    su4[su4.length - 1]  = parseInt(data[i].J24)
                    su5[su5.length - 1]  = parseInt(data[i].J25)
                    su6[su6.length - 1]  = parseInt(data[i].J26)
                    su7[su7.length - 1]  = parseInt(data[i].J27)
                    su8[su8.length - 1]  = parseInt(data[i].J28)
                    su9[su9.length - 1]  = parseInt(data[i].J29)
                    su10[su10.length - 1]  = parseInt(data[i].J30)

                    all[all.length - 1]  = parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '7' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '6' :
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1]  = parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1]  = parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1]  = parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1]  = parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1]  = parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1]  = parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1]  = parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1]  = parseInt(data[i].J29)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)

                    su1[su1.length - 1]  = parseInt(data[i].J21)
                    su2[su2.length - 1]  = parseInt(data[i].J22)
                    su3[su3.length - 1]  = parseInt(data[i].J23)
                    su4[su4.length - 1]  = parseInt(data[i].J24)
                    su5[su5.length - 1]  = parseInt(data[i].J25)
                    su6[su6.length - 1]  = parseInt(data[i].J26)
                    su7[su7.length - 1]  = parseInt(data[i].J27)
                    su8[su8.length - 1]  = parseInt(data[i].J28)
                    su9[su9.length - 1]  = parseInt(data[i].J29)
                    su10[su10.length - 1]  = parseInt(data[i].J30)

                    all[all.length - 1]  = parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '5' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))
                    break
                case '4' :
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt21lt25[gt21lt25.length - 1]  = parseInt(data[i].J22)
                    gt26lt30[gt26lt30.length - 1]  = parseInt(data[i].J23)
                    gt31lt35[gt31lt35.length - 1]  = parseInt(data[i].J24)
                    gt36lt40[gt36lt40.length - 1]  = parseInt(data[i].J25)
                    gt41lt45[gt41lt45.length - 1]  = parseInt(data[i].J26)
                    gt46lt50[gt46lt50.length - 1]  = parseInt(data[i].J27)
                    gt51lt55[gt51lt55.length - 1]  = parseInt(data[i].J28)
                    gt56lt59[gt56lt59.length - 1]  = parseInt(data[i].J29)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)

                    su1[su1.length - 1]  = parseInt(data[i].J21)
                    su2[su2.length - 1]  = parseInt(data[i].J22)
                    su3[su3.length - 1]  = parseInt(data[i].J23)
                    su4[su4.length - 1]  = parseInt(data[i].J24)
                    su5[su5.length - 1]  = parseInt(data[i].J25)
                    su6[su6.length - 1]  = parseInt(data[i].J26)
                    su7[su7.length - 1]  = parseInt(data[i].J27)
                    su8[su8.length - 1]  = parseInt(data[i].J28)
                    su9[su9.length - 1]  = parseInt(data[i].J29)
                    su10[su10.length - 1]  = parseInt(data[i].J30)

                    all[all.length - 1]  = parseInt(data[i].J1)
                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '3' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))

                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '2' :
                    lt20.push(parseInt(data[i].J21))
                    gt21lt25.push(parseInt(data[i].J22))
                    gt26lt30.push(parseInt(data[i].J23))
                    gt31lt35.push(parseInt(data[i].J24))
                    gt36lt40.push(parseInt(data[i].J25))
                    gt41lt45.push(parseInt(data[i].J26))
                    gt46lt50.push(parseInt(data[i].J27))
                    gt51lt55.push(parseInt(data[i].J28))
                    gt56lt59.push(parseInt(data[i].J29))
                    gt60.push(parseInt(data[i].J30))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J21))
                    su2.push(parseInt(data[i].J22))
                    su3.push(parseInt(data[i].J23))
                    su4.push(parseInt(data[i].J24))
                    su5.push(parseInt(data[i].J25))
                    su6.push(parseInt(data[i].J26))
                    su7.push(parseInt(data[i].J27))
                    su8.push(parseInt(data[i].J28))
                    su9.push(parseInt(data[i].J29))
                    su10.push(parseInt(data[i].J30))

                    lt20[lt20.length - 1] = all[all.length - 1] ? Math.floor(lt20[lt20.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt21lt25[gt21lt25.length - 1] = all[all.length - 1] ? Math.floor(gt21lt25[gt21lt25.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt26lt30[gt26lt30.length - 1] = all[all.length - 1] ? Math.floor(gt26lt30[gt26lt30.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt31lt35[gt31lt35.length - 1] = all[all.length - 1] ? Math.floor(gt31lt35[gt31lt35.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt36lt40[gt36lt40.length - 1] = all[all.length - 1] ? Math.floor(gt36lt40[gt36lt40.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt41lt45[gt41lt45.length - 1] = all[all.length - 1] ? Math.floor(gt41lt45[gt41lt45.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt46lt50[gt46lt50.length - 1] = all[all.length - 1] ? Math.floor(gt46lt50[gt46lt50.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt51lt55[gt51lt55.length - 1] = all[all.length - 1] ? Math.floor(gt51lt55[gt51lt55.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt56lt59[gt56lt59.length - 1] = all[all.length - 1] ? Math.floor(gt56lt59[gt56lt59.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt60[gt60.length - 1] = all[all.length - 1] ? Math.floor(gt60[gt60.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                default :
                    break
            }
        }


        //30岁以下  数组相加
        var be30 = []
        var be40 = []
        var be50 = []
        var be60 = []

        var su30 = []
        var su40 = []
        var su50 = []
        var su60 = []

        lt20.forEach(function (val, index) {
            be30[index] = lt20[index]   gt21lt25[index]   gt26lt30[index];
        })

        gt31lt35.forEach(function (val, index) {
            be40[index] = gt31lt35[index]   gt36lt40[index];
        })

        gt41lt45.forEach(function (val, index) {
            be50[index] = gt41lt45[index]   gt46lt50[index];
        })

        gt51lt55.forEach(function (val, index) {
            be60[index] = gt51lt55[index]   gt56lt59[index];
        })


        su1.forEach(function (val, index) {
            su30[index] = su1[index]   su2[index]   su3[index];
        })

        su4.forEach(function (val, index) {
            su40[index] = su4[index]   su5[index];
        })

        gt41lt45.forEach(function (val, index) {
            su50[index] = su6[index]   su7[index];
        })

        gt51lt55.forEach(function (val, index) {
            su60[index] = su8[index]   su9[index];
        })

        for (i = 0; i < be30.length; i  ) {
            be30[i] = be30[i].toFixed(2)
        }
        for (i = 0; i < be40.length; i  ) {
            be40[i] = be40[i].toFixed(2)
        }
        for (i = 0; i < be50.length; i  ) {
            be50[i] = be50[i].toFixed(2)
        }
        for (i = 0; i < be60.length; i  ) {
            be60[i] = be60[i].toFixed(2)
        }
        for (i = 0; i < gt60.length; i  ) {
            gt60[i] = gt60[i].toFixed(2)
        }
//        var param = {
//            lt20: lt20,
//            gt21lt25: gt21lt25,
//            gt26lt30: gt26lt30,
//            gt31lt35: gt31lt35,
//            gt36lt40: gt36lt40,
//            gt41lt45: gt41lt45,
//            gt46lt50: gt46lt50,
//            gt51lt55: gt51lt55,
//            gt56lt59: gt56lt59,
//            gt60: gt60
//        }

        var param = {
            be30: be30,
            be40: be40,
            be50: be50,
            be60: be60,
            gt60: gt60,

            su30: su30,
            su40: su40,
            su50: su50,
            su60: su60,
            su10: su10
        }

        return param
    }

    function converCengciTimeWithCodeData(data) {
        var lt2 = []
        var gt2lt3 = []
        var gt3lt4 = []
        var gt4lt5 = []
        var gt5lt6 = []
        var gt6 = []
        var all = []

        var su1 = []
        var su2 = []
        var su3 = []
        var su4 = []
        var su5 = []
        var su6 = []


        for (var i = data.length - 1; i >= 0; i--) {
            switch (data[i].ROWSID) {
                case '19':
                    lt2.push(parseInt(data[i].J31))
                    gt2lt3.push(parseInt(data[i].J32))
                    gt3lt4.push(parseInt(data[i].J33))
                    gt4lt5.push(parseInt(data[i].J34))
                    gt5lt6.push(parseInt(data[i].J35))
                    gt6.push(parseInt(data[i].J40))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J31))
                    su2.push(parseInt(data[i].J32))
                    su3.push(parseInt(data[i].J33))
                    su4.push(parseInt(data[i].J34))
                    su5.push(parseInt(data[i].J35))
                    su6.push(parseInt(data[i].J40))
                case '17':
                    lt2[lt2.length - 1]  = parseInt(data[i].J31)
                    gt2lt3[gt2lt3.length - 1]  = parseInt(data[i].J32)
                    gt3lt4[gt3lt4.length - 1]  = parseInt(data[i].J33)
                    gt4lt5[gt4lt5.length - 1]  = parseInt(data[i].J34)
                    gt5lt6[gt5lt6.length - 1]  = parseInt(data[i].J35)
                    gt6[gt6.length - 1]  = parseInt(data[i].J40)
                    all[all.length - 1]  = parseInt(data[i].J1)

                    su1[su1.length - 1]  = parseInt(data[i].J31)
                    su2[su2.length - 1]  = parseInt(data[i].J32)
                    su3[su3.length - 1]  = parseInt(data[i].J33)
                    su4[su4.length - 1]  = parseInt(data[i].J34)
                    su5[su5.length - 1]  = parseInt(data[i].J35)
                    su6[su6.length - 1]  = parseInt(data[i].J40)
                    break
                case '16':
                    lt2[lt2.length - 1]  = parseInt(data[i].J31)
                    gt2lt3[gt2lt3.length - 1]  = parseInt(data[i].J32)
                    gt3lt4[gt3lt4.length - 1]  = parseInt(data[i].J33)
                    gt4lt5[gt4lt5.length - 1]  = parseInt(data[i].J34)
                    gt5lt6[gt5lt6.length - 1]  = parseInt(data[i].J35)
                    gt6[gt6.length - 1]  = parseInt(data[i].J40)
                    all[all.length - 1]  = parseInt(data[i].J1)

                    su1[su1.length - 1]  = parseInt(data[i].J31)
                    su2[su2.length - 1]  = parseInt(data[i].J32)
                    su3[su3.length - 1]  = parseInt(data[i].J33)
                    su4[su4.length - 1]  = parseInt(data[i].J34)
                    su5[su5.length - 1]  = parseInt(data[i].J35)
                    su6[su6.length - 1]  = parseInt(data[i].J40)

                    lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '15':
                    lt2.push(parseInt(data[i].J31))
                    gt2lt3.push(parseInt(data[i].J32))
                    gt3lt4.push(parseInt(data[i].J33))
                    gt4lt5.push(parseInt(data[i].J34))
                    gt5lt6.push(parseInt(data[i].J35))
                    gt6.push(parseInt(data[i].J40))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J31))
                    su2.push(parseInt(data[i].J32))
                    su3.push(parseInt(data[i].J33))
                    su4.push(parseInt(data[i].J34))
                    su5.push(parseInt(data[i].J35))
                    su6.push(parseInt(data[i].J40))
                    break
                case '14':
                    lt2[lt2.length - 1]  = parseInt(data[i].J31)
                    gt2lt3[gt2lt3.length - 1]  = parseInt(data[i].J32)
                    gt3lt4[gt3lt4.length - 1]  = parseInt(data[i].J33)
                    gt4lt5[gt4lt5.length - 1]  = parseInt(data[i].J34)
                    gt5lt6[gt5lt6.length - 1]  = parseInt(data[i].J35)
                    gt6[gt6.length - 1]  = parseInt(data[i].J40)
                    all[all.length - 1]  = parseInt(data[i].J1)

                    su1[su1.length - 1]  = parseInt(data[i].J31)
                    su2[su2.length - 1]  = parseInt(data[i].J32)
                    su3[su3.length - 1]  = parseInt(data[i].J33)
                    su4[su4.length - 1]  = parseInt(data[i].J34)
                    su5[su5.length - 1]  = parseInt(data[i].J35)
                    su6[su6.length - 1]  = parseInt(data[i].J40)

                    lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '13':
                    lt2.push(parseInt(data[i].J31))
                    gt2lt3.push(parseInt(data[i].J32))
                    gt3lt4.push(parseInt(data[i].J33))
                    gt4lt5.push(parseInt(data[i].J34))
                    gt5lt6.push(parseInt(data[i].J35))
                    gt6.push(parseInt(data[i].J40))
                    all.push(parseInt(data[i].J1))


                    su1.push(parseInt(data[i].J31))
                    su2.push(parseInt(data[i].J32))
                    su3.push(parseInt(data[i].J33))
                    su4.push(parseInt(data[i].J34))
                    su5.push(parseInt(data[i].J35))
                    su6.push(parseInt(data[i].J40))
                    break
                case '12':
                    lt2[lt2.length - 1]  = parseInt(data[i].J31)
                    gt2lt3[gt2lt3.length - 1]  = parseInt(data[i].J32)
                    gt3lt4[gt3lt4.length - 1]  = parseInt(data[i].J33)
                    gt4lt5[gt4lt5.length - 1]  = parseInt(data[i].J34)
                    gt5lt6[gt5lt6.length - 1]  = parseInt(data[i].J35)
                    gt6[gt6.length - 1]  = parseInt(data[i].J40)
                    all[all.length - 1]  = parseInt(data[i].J1)

                    su1[su1.length - 1]  = parseInt(data[i].J31)
                    su2[su2.length - 1]  = parseInt(data[i].J32)
                    su3[su3.length - 1]  = parseInt(data[i].J33)
                    su4[su4.length - 1]  = parseInt(data[i].J34)
                    su5[su5.length - 1]  = parseInt(data[i].J35)
                    su6[su6.length - 1]  = parseInt(data[i].J40)

                    lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '11':
                    lt2.push(parseInt(data[i].J31))
                    gt2lt3.push(parseInt(data[i].J32))
                    gt3lt4.push(parseInt(data[i].J33))
                    gt4lt5.push(parseInt(data[i].J34))
                    gt5lt6.push(parseInt(data[i].J35))
                    gt6.push(parseInt(data[i].J40))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J31))
                    su2.push(parseInt(data[i].J32))
                    su3.push(parseInt(data[i].J33))
                    su4.push(parseInt(data[i].J34))
                    su5.push(parseInt(data[i].J35))
                    su6.push(parseInt(data[i].J40))
                    break
                case '10':
                    lt2[lt2.length - 1]  = parseInt(data[i].J31)
                    gt2lt3[gt2lt3.length - 1]  = parseInt(data[i].J32)
                    gt3lt4[gt3lt4.length - 1]  = parseInt(data[i].J33)
                    gt4lt5[gt4lt5.length - 1]  = parseInt(data[i].J34)
                    gt5lt6[gt5lt6.length - 1]  = parseInt(data[i].J35)
                    gt6[gt6.length - 1]  = parseInt(data[i].J40)
                    all[all.length - 1]  = parseInt(data[i].J1)

                    su1[su1.length - 1]  = parseInt(data[i].J31)
                    su2[su2.length - 1]  = parseInt(data[i].J32)
                    su3[su3.length - 1]  = parseInt(data[i].J33)
                    su4[su4.length - 1]  = parseInt(data[i].J34)
                    su5[su5.length - 1]  = parseInt(data[i].J35)
                    su6[su6.length - 1]  = parseInt(data[i].J40)

                    lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '9':
                    lt2.push(parseInt(data[i].J31))
                    gt2lt3.push(parseInt(data[i].J32))
                    gt3lt4.push(parseInt(data[i].J33))
                    gt4lt5.push(parseInt(data[i].J34))
                    gt5lt6.push(parseInt(data[i].J35))
                    gt6.push(parseInt(data[i].J40))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J31))
                    su2.push(parseInt(data[i].J32))
                    su3.push(parseInt(data[i].J33))
                    su4.push(parseInt(data[i].J34))
                    su5.push(parseInt(data[i].J35))
                    su6.push(parseInt(data[i].J40))
                    break
                case '8':
                    lt2[lt2.length - 1]  = parseInt(data[i].J31)
                    gt2lt3[gt2lt3.length - 1]  = parseInt(data[i].J32)
                    gt3lt4[gt3lt4.length - 1]  = parseInt(data[i].J33)
                    gt4lt5[gt4lt5.length - 1]  = parseInt(data[i].J34)
                    gt5lt6[gt5lt6.length - 1]  = parseInt(data[i].J35)
                    gt6[gt6.length - 1]  = parseInt(data[i].J40)
                    all[all.length - 1]  = parseInt(data[i].J1)

                    su1[su1.length - 1]  = parseInt(data[i].J31)
                    su2[su2.length - 1]  = parseInt(data[i].J32)
                    su3[su3.length - 1]  = parseInt(data[i].J33)
                    su4[su4.length - 1]  = parseInt(data[i].J34)
                    su5[su5.length - 1]  = parseInt(data[i].J35)
                    su6[su6.length - 1]  = parseInt(data[i].J40)

                    lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '7':
                    lt2.push(parseInt(data[i].J31))
                    gt2lt3.push(parseInt(data[i].J32))
                    gt3lt4.push(parseInt(data[i].J33))
                    gt4lt5.push(parseInt(data[i].J34))
                    gt5lt6.push(parseInt(data[i].J35))
                    gt6.push(parseInt(data[i].J40))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J31))
                    su2.push(parseInt(data[i].J32))
                    su3.push(parseInt(data[i].J33))
                    su4.push(parseInt(data[i].J34))
                    su5.push(parseInt(data[i].J35))
                    su6.push(parseInt(data[i].J40))
                    break
                case '6':
                    lt2[lt2.length - 1]  = parseInt(data[i].J31)
                    gt2lt3[gt2lt3.length - 1]  = parseInt(data[i].J32)
                    gt3lt4[gt3lt4.length - 1]  = parseInt(data[i].J33)
                    gt4lt5[gt4lt5.length - 1]  = parseInt(data[i].J34)
                    gt5lt6[gt5lt6.length - 1]  = parseInt(data[i].J35)
                    gt6[gt6.length - 1]  = parseInt(data[i].J40)
                    all[all.length - 1]  = parseInt(data[i].J1)

                    su1[su1.length - 1]  = parseInt(data[i].J31)
                    su2[su2.length - 1]  = parseInt(data[i].J32)
                    su3[su3.length - 1]  = parseInt(data[i].J33)
                    su4[su4.length - 1]  = parseInt(data[i].J34)
                    su5[su5.length - 1]  = parseInt(data[i].J35)
                    su6[su6.length - 1]  = parseInt(data[i].J40)

                    lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '5':
                    lt2.push(parseInt(data[i].J31))
                    gt2lt3.push(parseInt(data[i].J32))
                    gt3lt4.push(parseInt(data[i].J33))
                    gt4lt5.push(parseInt(data[i].J34))
                    gt5lt6.push(parseInt(data[i].J35))
                    gt6.push(parseInt(data[i].J40))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J31))
                    su2.push(parseInt(data[i].J32))
                    su3.push(parseInt(data[i].J33))
                    su4.push(parseInt(data[i].J34))
                    su5.push(parseInt(data[i].J35))
                    su6.push(parseInt(data[i].J40))
                    break
                case '4':
                    lt2[lt2.length - 1]  = parseInt(data[i].J31)
                    gt2lt3[gt2lt3.length - 1]  = parseInt(data[i].J32)
                    gt3lt4[gt3lt4.length - 1]  = parseInt(data[i].J33)
                    gt4lt5[gt4lt5.length - 1]  = parseInt(data[i].J34)
                    gt5lt6[gt5lt6.length - 1]  = parseInt(data[i].J35)
                    gt6[gt6.length - 1]  = parseInt(data[i].J40)
                    all[all.length - 1]  = parseInt(data[i].J1)

                    su1[su1.length - 1]  = parseInt(data[i].J31)
                    su2[su2.length - 1]  = parseInt(data[i].J32)
                    su3[su3.length - 1]  = parseInt(data[i].J33)
                    su4[su4.length - 1]  = parseInt(data[i].J34)
                    su5[su5.length - 1]  = parseInt(data[i].J35)
                    su6[su6.length - 1]  = parseInt(data[i].J40)

                    lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '3':
                    lt2.push(parseInt(data[i].J31))
                    gt2lt3.push(parseInt(data[i].J32))
                    gt3lt4.push(parseInt(data[i].J33))
                    gt4lt5.push(parseInt(data[i].J34))
                    gt5lt6.push(parseInt(data[i].J35))
                    gt6.push(parseInt(data[i].J40))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J31))
                    su2.push(parseInt(data[i].J32))
                    su3.push(parseInt(data[i].J33))
                    su4.push(parseInt(data[i].J34))
                    su5.push(parseInt(data[i].J35))
                    su6.push(parseInt(data[i].J40))

                    lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                case '2':
                    lt2.push(parseInt(data[i].J31))
                    gt2lt3.push(parseInt(data[i].J32))
                    gt3lt4.push(parseInt(data[i].J33))
                    gt4lt5.push(parseInt(data[i].J34))
                    gt5lt6.push(parseInt(data[i].J35))
                    gt6.push(parseInt(data[i].J40))
                    all.push(parseInt(data[i].J1))

                    su1.push(parseInt(data[i].J31))
                    su2.push(parseInt(data[i].J32))
                    su3.push(parseInt(data[i].J33))
                    su4.push(parseInt(data[i].J34))
                    su5.push(parseInt(data[i].J35))
                    su6.push(parseInt(data[i].J40))

                    lt2[lt2.length - 1] = all[all.length - 1] ? Math.floor(lt2[lt2.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt2lt3[gt2lt3.length - 1] = all[all.length - 1] ? Math.floor(gt2lt3[gt2lt3.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt3lt4[gt3lt4.length - 1] = all[all.length - 1] ? Math.floor(gt3lt4[gt3lt4.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt4lt5[gt4lt5.length - 1] = all[all.length - 1] ? Math.floor(gt4lt5[gt4lt5.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt5lt6[gt5lt6.length - 1] = all[all.length - 1] ? Math.floor(gt5lt6[gt5lt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    gt6[gt6.length - 1] = all[all.length - 1] ? Math.floor(gt6[gt6.length - 1] / all[all.length - 1] * 10000) / 100 : 0
                    break
                default:
                    break
            }
        }

        for (i = 0; i < lt2.length; i  ) {
            lt2[i] = lt2[i].toFixed(2)
        }
        for (i = 0; i < gt2lt3.length; i  ) {
            gt2lt3[i] = gt2lt3[i].toFixed(2)
        }
        for (i = 0; i < gt3lt4.length; i  ) {
            gt3lt4[i] = gt3lt4[i].toFixed(2)
        }
        for (i = 0; i < gt4lt5.length; i  ) {
            gt4lt5[i] = gt4lt5[i].toFixed(2)
        }
        for (i = 0; i < gt5lt6.length; i  ) {
            gt5lt6[i] = gt5lt6[i].toFixed(2)
        }
        for (i = 0; i < gt6.length; i  ) {
            gt6[i] = gt6[i].toFixed(2)
        }

        var param = {
            lt2: lt2,
            gt2lt3: gt2lt3,
            gt3lt4: gt3lt4,
            gt4lt5: gt4lt5,
            gt5lt6: gt5lt6,
            gt6: gt6,

            su1: su1,
            su2: su2,
            su3: su3,
            su4: su4,
            su5: su5,
            su6: su6
        }

        return param
    }

    function converAgeWithCodeData(data) {
        if (!data) {
            data = {}
            data.J23 = 0
            data.J25 = 0
            data.J27 = 0
            data.J29 = 0
            data.J30 = 0
            data.J43 = 0
            data.J45 = 0
            data.J47 = 0
            data.J49 = 0
            data.J50 = 0
        }

        var all = [
            data.J23 ? parseInt(data.J23) : 0,
            data.J25 ? parseInt(data.J25) : 0,
            data.J27 ? parseInt(data.J27) : 0,
            data.J29 ? parseInt(data.J29) : 0,
            data.J30 ? parseInt(data.J30) : 0
        ]

        var ma_rate = [
            parseInt(data.J23) - parseInt(data.J43) ? Math.floor((parseInt(data.J23) - parseInt(data.J43)) / parseInt(data.J23) * 10000) / 100 : 0,
            parseInt(data.J25) - parseInt(data.J45) ? Math.floor((parseInt(data.J25) - parseInt(data.J45)) / parseInt(data.J25) * 10000) / 100 : 0,
            parseInt(data.J27) - parseInt(data.J47) ? Math.floor((parseInt(data.J27) - parseInt(data.J47)) / parseInt(data.J27) * 10000) / 100 : 0,
            parseInt(data.J29) - parseInt(data.J49) ? Math.floor((parseInt(data.J29) - parseInt(data.J49)) / parseInt(data.J29) * 10000) / 100 : 0,
            parseInt(data.J30) - parseInt(data.J50) ? Math.floor((parseInt(data.J30) - parseInt(data.J50)) / parseInt(data.J30) * 10000) / 100 : 0
        ]

        var fe_rate = [
            parseInt(data.J43) ? Math.floor(parseInt(data.J43) / parseInt(data.J23) * 10000) / 100 : 0,
            parseInt(data.J45) ? Math.floor(parseInt(data.J45) / parseInt(data.J25) * 10000) / 100 : 0,
            parseInt(data.J47) ? Math.floor(parseInt(data.J47) / parseInt(data.J27) * 10000) / 100 : 0,
            parseInt(data.J49) ? Math.floor(parseInt(data.J49) / parseInt(data.J29) * 10000) / 100 : 0,
            parseInt(data.J50) ? Math.floor(parseInt(data.J50) / parseInt(data.J30) * 10000) / 100 : 0
        ]

        var ma_rate_avg = Math.floor((ma_rate[0]   ma_rate[1]   ma_rate[2]   ma_rate[3]   ma_rate[4]) / 5 * 100) / 100

        var ma_rate_avg_array = [
            ma_rate_avg,
            ma_rate_avg,
            ma_rate_avg,
            ma_rate_avg,
            ma_rate_avg
        ]

        var fe_rate_avg = Math.floor((fe_rate[0]   fe_rate[1]   fe_rate[2]   fe_rate[3]   fe_rate[4]) / 5 * 100) / 100

        var fe_rate_avg_array = [
            fe_rate_avg,
            fe_rate_avg,
            fe_rate_avg,
            fe_rate_avg,
            fe_rate_avg
        ]

        var param = {
            all: all,
            ma_rate: ma_rate,
            fe_rate: fe_rate,
            ma_rate_avg_array: ma_rate_avg_array,
            fe_rate_avg_array: fe_rate_avg_array
        }

        return param
    }

    function converDanweiWithCodeData(data) {
        for (var i = 0; i < data.length; i  ) {
            var param = {
                INDEX: i   1,
                NAME: data[i].NAME,
                ID: data[i].ID,
                NV: data[i].NV ? data[i].NV : 0,
                SSMZ: data[i].SSMZ ? data[i].SSMZ : 0,
                FZG: data[i].FZG ? data[i].FZG : 0,
                J2: data[i].J2 ? data[i].J2 : 0,
                J3: data[i].J3 ? data[i].J3 : 0,
                J10: data[i].J10 ? data[i].J10 : 0,
                J5: data[i].J5 ? data[i].J5 : 0,
                J11: data[i].J11 ? data[i].J11 : 0,
                J6: data[i].J6 ? data[i].J6 : 0,
                J15: data[i].J15 ? data[i].J15 : 0,
                J13: data[i].J13 ? data[i].J13 : 0,
                J16: data[i].J16 ? data[i].J16 : 0,
                J14: data[i].J14 ? data[i].J14 : 0,
                J9: data[i].J9 ? data[i].J9 : 0
            }



            loadDanweiHtml(param)
        }
    }

    function loadDanweiHtml(data) {
        var interText = doT.template($("#danwei-message-content-template").text())
        $("#danwei-message-content").append(interText(data))
        var danweih = document.getElementById("danwei-message-content").offsetHeight;
        $("#listheight").height(danweih   130)
    }

    function converAllJibieData(data) {
        var lt20 = []
        var gt20lt25 = []
        var gt30lt35 = []
        var gt40lt45 = []
        var gt50lt55 = []
        var gt60 = []
        var avg = []

        for (var i = data.length - 1; i >= 0; i--) {
            switch (data[i].ROWSID) {
                case '19':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                case '17':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avg[avg.length - 1]  = parseInt(data[i].J2)
                    break
                case '16':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avg[avg.length - 1]  = parseInt(data[i].J2)
                    avg[avg.length - 1] = parseInt(avg[avg.length - 1] / 3)
                    break
                case '15':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                case '14':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avg[avg.length - 1]  = parseInt(data[i].J2)
                    avg[avg.length - 1] = parseInt(avg[avg.length - 1] / 2)
                    break
                case '13':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                case '12':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avg[avg.length - 1]  = parseInt(data[i].J2)
                    avg[avg.length - 1] = parseInt(avg[avg.length - 1] / 2)
                    break
                case '11':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                case '10':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avg[avg.length - 1]  = parseInt(data[i].J2)
                    avg[avg.length - 1] = parseInt(avg[avg.length - 1] / 2)
                    break
                case '9':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                case '8':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avg[avg.length - 1]  = parseInt(data[i].J2)
                    avg[avg.length - 1] = parseInt(avg[avg.length - 1] / 2)
                    break
                case '7':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                case '6':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avg[avg.length - 1]  = parseInt(data[i].J2)
                    avg[avg.length - 1] = parseInt(avg[avg.length - 1] / 2)
                    break
                case '5':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                case '4':
                    lt20[lt20.length - 1]  = parseInt(data[i].J21)
                    gt20lt25[gt20lt25.length - 1]  = parseInt(data[i].J22)
                    gt30lt35[gt30lt35.length - 1]  = parseInt(data[i].J24)
                    gt40lt45[gt40lt45.length - 1]  = parseInt(data[i].J26)
                    gt50lt55[gt50lt55.length - 1]  = parseInt(data[i].J28)
                    gt60[gt60.length - 1]  = parseInt(data[i].J30)
                    avg[avg.length - 1]  = parseInt(data[i].J2)
                    avg[avg.length - 1] = parseInt(avg[avg.length - 1] / 2)
                    break
                case '3':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                case '2':
                    lt20.push(parseInt(data[i].J21))
                    gt20lt25.push(parseInt(data[i].J22))
                    gt30lt35.push(parseInt(data[i].J24))
                    gt40lt45.push(parseInt(data[i].J26))
                    gt50lt55.push(parseInt(data[i].J28))
                    gt60.push(parseInt(data[i].J30))
                    avg.push(parseInt(data[i].J2))
                    break
                default:
                    break
            }
        }


        var be30 = []

        lt20.forEach(function (val, index) {
            be30[index] = lt20[index]   gt20lt25[index]
        })


        var param = {
            lt20: lt20,
            be30: be30.reverse(),
            gt20lt25: gt20lt25.reverse(),
            gt30lt35: gt30lt35.reverse(),
            gt40lt45: gt40lt45.reverse(),
            gt50lt55: gt50lt55.reverse(),
            gt60: gt60.reverse(),
            avg: avg.reverse()


        }

        return data
    }

    function getNSFDataWithCode() {
        selectSql(converNSFWithCodeSql(place_code), function (ret, err) {
            if (ret.status) {

                var data = ret.data[0]

                showLeftTopChart(data)
            } else {

            }
        })
    }

    function getXueliXueweiDataWithCode() {
        selectSql(converXueliXueweiWithCodeSql(place_code), function (ret, err) {
            var data = ret.data[0]

            showLeftBottomTopChart(data)
            showLeftBottomBottomChart(data)
        })
    }



    function getAllJibieDataWithCode() {
        selectSql(converAllJibieSql(place_code), function (ret, err) {
            consoledebug.log('converAllJibieSql ret is : '   JSON.stringify(ret))
            var data = ret.data

            showMiddleBottomType12Chart(data)
        })
    }

    function getCengciAgeDataWithCode() {
        selectSql(converCengciAgeWithCodeSql(place_code), function (ret, err) {
            consoledebug.log('selectSql converCengciAgeWithCodeSql ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converCengciAgeWithCodeSql err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data


            } else {

            }
        })
    }

    function getCengciTimeDataWithCode() {
        selectSql(converCengciTimeWithCodeSql(place_code), function (ret, err) {
            consoledebug.log('selectSql converCengciTimeWithCodeSql ret is : '   JSON.stringify(ret))
            consoledebug.log('selectSql converCengciTimeWithCodeSql err is : '   JSON.stringify(err))
            if (ret.status) {
                var data = ret.data

                showRightBottomSecondChart(data)
            } else {

            }
        })
    }


    function clicklistdw(ID, NAME) {
        var obj = {NAME: NAME, ID: ID}
        place_array.push(obj)
        clickConfirm(ID, NAME)
    }

    var rossidlist = []

    var colsidlist = []

    var peosqllist = []
    var sqlthree = null


    var colrowidnumber

    var number


    var sqlwhereone


    function clickopenpeo(colsid, rowsid, name, val, ID) {

        colrowidnumber = 0
        number = 0

        rossidlist = rowsid.split(",");

        colsidlist = colsid.split(",");


        colrowidnumber = parseInt(rossidlist.length) * parseInt(colsidlist.length)

        var sql_arr = []
        if (val != 0) {
            for (i = 0; i < rossidlist.length; i  ) {
                for (a = 0; a < colsidlist.length; a  ) {
                    selectSql(converFcrySql(colsidlist[a], rossidlist[i]), function (ret, err) {
                        var sql = ret.data[0].DRILLSQL;
                        var newsql = sql.replace(/\"/g, "'");
                        var sqlone = newsql.substring(newsql.lastIndexOf("@FIELDS@")   9, newsql.lastIndexOf("AND"));

                        var pjsqlone = sqlone.substring(0, sqlone.lastIndexOf("AND")   3);
                        //   pjsqltwo = newsql.substring(newsql.lastIndexOf(")")   1, newsql.lastIndexOf(","));

                        sqlwhereone = newsql.substring(newsql.lastIndexOf("@FIELDS@")   9, newsql.lastIndexOf("WHERE")   6);

                        var sqlwhere = sqlone.substring(sqlone.lastIndexOf("WHERE")   6, sqlone.lastIndexOf("AND"));

                        sql_arr.push(sqlwhere)

                        number

                        if (number == colrowidnumber) {


                            var comsql = ''
                            for (i = 0; i < sql_arr.length; i  ) {
                                comsql  = "("   sql_arr[i]   ") OR "

                            }
                            comsql = "("   comsql.substr(0, comsql.length - 3)   ") and"

                            if (judgeIsAnyNullStr(ID)) {
                                sqlthree = "select RS_A01.ID ID, A0101, (CASE WHEN A0104 = 1 THEN '男'else'女'end) A0104, age, a0140, (SELECT NAME FROM DIC_RS_GB3304 WHERE CODE = A0117) A0117, A0192, (SELECT NAME FROM DIC_rs_Zb09 where code = A0172) A0172 "   sqlwhereone   comsql   " (RS_A01.NID like '"   place_code   "%') "   "order by rs_a01.aorder "
                            } else {
                                sqlthree = "select RS_A01.ID ID, A0101, (CASE WHEN A0104 = 1 THEN '男'else'女'end) A0104, age, a0140, (SELECT NAME FROM DIC_RS_GB3304 WHERE CODE = A0117) A0117, A0192, (SELECT NAME FROM DIC_rs_Zb09 where code = A0172) A0172 "   sqlwhereone   comsql   " (RS_A01.NID like '"   ID   "%') "   "order by rs_a01.aorder "

                            }


                            var item = {
                                sql: sqlthree,
                                name: name
                            }
                            comOpenWin('dwpeolist_win', './dwlist/', item, 2);


                        }


                    })
                }
            }


        }
    }


    function cleanarr() {
        peosqllist = []
        sqlfour = null
    }

    var sqlfour = null


    function clickopenjg(colsid, rowsid, name, val, ID) {

        colrowidnumber = 0
        number = 0


        rossidlist = rowsid.split(",");

        colsidlist = colsid.split(",");

        colrowidnumber = parseInt(rossidlist.length) * parseInt(colsidlist.length)

        var sql_arr = []

        var fristsql
        if (val != 0) {
            for (i = 0; i < rossidlist.length; i  ) {
                for (a = 0; a < colsidlist.length; a  ) {
                    selectSql(converFcSql(colsidlist[a], rossidlist[i]), function (ret, err) {
                        consoledebug.log('返回sql:'   JSON.stringify(ret.data[0].DRILLSQL))

                        fristsql = "SELECT UR.NAME,UR.ID,LD01.J5  NV,LD01.J8  SSMZ,LD01.J10 FZG,LD02.J2  J2,LD02.J3  J3,LD02.J10 J10,LD02.J5  J5,LD02.J11 J11,LD02.J6  J6,LD02.J15 J15, LD02.J13 J13, LD02.J16 J16, LD02.J14 J14, LD02.J9  J9, B0101B,(select name from DIC_RS_ZB04 where code = b0131) B0131,(select name from DIC_RS_ZB03 where code = B0127) B0127,(select name from DIC_RS_ZB01 where code = b0117) B0117,(select name from DIC_RS_ZB87 where code = b0124) B0124  FROM RS_UNMK UR  left join LD_JT2017001 LD01    ON UR.ID = LD01.UNID   AND LD01.ROWSID = '20'left join LD_JT2017002  LD02    ON LD02.UNID = UR.ID AND   LD02.ROWSID = '1' WHERE UR.SID = '0' AND "
                        var sql = ret.data[0].DRILLSQL;
                        var newsql = sql.replace(/\"/g, "'");
                        var sqlone = newsql.substring(newsql.lastIndexOf("WHERE")   5, newsql.lastIndexOf("ORDER BY"));
                        var sqltwo = sqlone.substring(0, sqlone.lastIndexOf("AND"))

                        //  var sqlthree = sqltwo.substring(0, sqltwo.lastIndexOf("AND")   3).replace(/RS_UNMK/g, 'UR')
                        var sqlthree = sqltwo.substring(0, sqltwo.lastIndexOf("AND")).replace(/RS_UNMK/g, 'UR')

                        sql_arr.push(sqlthree)

                        number
                        if (number == colrowidnumber) {


                            var comsql = ''
                            for (i = 0; i < sql_arr.length; i  ) {
                                comsql  = "("   sql_arr[i]   ") OR "

                            }
                            comsql = "("   comsql.substr(0, comsql.length - 3)   ") and"

                            if (judgeIsAnyNullStr(ID)) {
                                consoledebug.log('未传')
                                sqlfour = fristsql   comsql   " UR.ID LIKE '"   place_code   "%' ORDER BY UR.SYSUMPORDER"
                            } else {
                                consoledebug.log('传')
                                sqlfour = fristsql   comsql   " UR.ID LIKE '"   ID   "%' ORDER BY UR.SYSUMPORDER"
                            }

                            var item = {
                                sql: sqlfour,
                                name: name
                            }
                            comOpenWin('dwlist_win', './dwlist/', item, 2);


                        }

                    })
                }
            }
        }
    }



    function clickopenjgpeo(colsid, rowsid, name, val, ID) {


        colrowidnumber = 0
        number = 0

        rossidlist = rowsid.split(",");

        colsidlist = colsid.split(",");

        colrowidnumber = parseInt(rossidlist.length) * parseInt(colsidlist.length)

        var sql_arr = []
        if (val != 0) {
            for (i = 0; i < rossidlist.length; i  ) {
                for (a = 0; a < colsidlist.length; a  ) {
                    selectSql(converFcSql(colsidlist[a], rossidlist[i]), function (ret, err) {
                        var sql = ret.data[0].DRILLSQL;
                        var newsql = sql.replace(/\"/g, "'");
                        var sqlone = newsql.substring(newsql.lastIndexOf("@FIELDS@")   9, newsql.lastIndexOf("AND"));

                        var pjsqlone = sqlone.substring(0, sqlone.lastIndexOf("AND")   3);

                        sqlwhereone = newsql.substring(newsql.lastIndexOf("@FIELDS@")   9, newsql.lastIndexOf("WHERE")   6);

                        var sqlwhere = sqlone.substring(sqlone.lastIndexOf("WHERE")   6, sqlone.lastIndexOf("AND"));

                        sql_arr.push(sqlwhere)

                        number

                        if (number == colrowidnumber) {


                            var comsql = ''
                            for (i = 0; i < sql_arr.length; i  ) {
                                comsql  = "("   sql_arr[i]   ") OR "

                            }
                            comsql = "("   comsql.substr(0, comsql.length - 3)   ") and"

                            if (judgeIsAnyNullStr(ID)) {
                                sqlthree = "select RS_A01.ID ID, A0101, (CASE WHEN A0104 = 1 THEN '男'else'女'end) A0104, age, a0140, (SELECT NAME FROM DIC_RS_GB3304 WHERE CODE = A0117) A0117, A0192, (SELECT NAME FROM DIC_rs_Zb09 where code = A0172) A0172 "   sqlwhereone   comsql   " (RS_A01.NID like '"   place_code   "%') "   "order by rs_a01.aorder "
                            } else {
                                sqlthree = "select RS_A01.ID ID, A0101, (CASE WHEN A0104 = 1 THEN '男'else'女'end) A0104, age, a0140, (SELECT NAME FROM DIC_RS_GB3304 WHERE CODE = A0117) A0117, A0192, (SELECT NAME FROM DIC_rs_Zb09 where code = A0172) A0172 "   sqlwhereone   comsql   " (RS_A01.NID like '"   ID   "%') "   "order by rs_a01.aorder "

                            }


                            var item = {
                                sql: sqlthree,
                                name: name
                            }
                            comOpenWin('dwpeolist_win', './dwlist/', item, 2);


                        }

                    })
                }
            }


        }

    }

</script>

</body>

</html>